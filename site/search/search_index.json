{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Fluvie Documentation","text":"<p>Create stunning videos programmatically with Flutter</p> <p>Fluvie is a powerful Flutter library that lets you compose and render videos using familiar Flutter widgets. Whether you're building Spotify Wrapped-style year reviews, animated social media content, or automated video generation pipelines, Fluvie gives you the tools to create professional videos entirely in code.</p>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>import 'package:fluvie/declarative.dart';\n\nVideo(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 90, // 3 seconds at 30fps\n      background: Background.gradient(\n        colors: {0: Colors.purple, 90: Colors.blue},\n      ),\n      children: [\n        VCenter(\n          child: AnimatedText.slideUpFade(\n            'Hello, Fluvie!',\n            style: TextStyle(fontSize: 72, color: Colors.white),\n          ),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"#table-of-contents","title":"Table of Contents","text":"<ul> <li>Getting Started</li> <li>Core Concepts</li> <li>Tutorials</li> <li>Widget Reference</li> <li>Features</li> <li>Advanced Topics</li> <li>Examples</li> <li>Contributing</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<p>New to Fluvie? Start here:</p> Guide Description Installation Add Fluvie to your project FFmpeg Setup Configure video encoding for your platform First Video Create your first animated video <p>Platform-specific setup: - Linux | macOS | Windows | Web | Mobile</p>"},{"location":"#core-concepts","title":"Core Concepts","text":"<p>Understand how Fluvie works under the hood:</p> Topic Description Architecture The dual-engine model (Flutter + FFmpeg) Frame-Based Animation Why frames matter for video Rendering Pipeline How widgets become video Preview vs Render Mode Interactive development vs final export"},{"location":"#tutorials","title":"Tutorials","text":"<p>Step-by-step guides to build complete videos:</p> Tutorial What You'll Build Simple Animation Image, animated text, and background music Advanced Composition Multi-scene video with transitions, effects, and embedded video"},{"location":"#widget-reference","title":"Widget Reference","text":""},{"location":"#core-widgets","title":"Core Widgets","text":"<p>The building blocks of every Fluvie video:</p> Widget Purpose Video Declarative composition root (high-level API) VideoComposition Low-level composition root Scene Time-bounded section of video Sequence Basic timing container TimeConsumer Frame-based animation driver"},{"location":"#layout-widgets","title":"Layout Widgets","text":"<p>Video-aware layout with timing and fade support:</p> Widget Purpose LayerStack Z-indexed layer composition Layer Individual layer with visibility timing VStack Video-aware Stack VColumn Column with stagger animation support VRow Row with stagger animation support VCenter Centered content with timing VPadding Padded content with timing VSizedBox Sized box with timing VPositioned Positioned elements with hero transitions"},{"location":"#audio-widgets","title":"Audio Widgets","text":"<p>Add music, sound effects, and audio-reactive features:</p> Widget Purpose AudioTrack Precise audio timing and sync AudioSource Audio file references BackgroundAudio Full-video background music AudioReactive BPM and frequency analysis"},{"location":"#text-widgets","title":"Text Widgets","text":"<p>Animated typography:</p> Widget Purpose FadeText Text with opacity support AnimatedText Pre-built text animations TypewriterText Character-by-character reveal CounterText Animated number counting"},{"location":"#media-widgets","title":"Media Widgets","text":"<p>Embed images and videos:</p> Widget Purpose EmbeddedVideo Video-in-video with frame sync VideoSequence External video files Collage Multi-element layouts"},{"location":"#features","title":"Features","text":""},{"location":"#animations","title":"Animations","text":"<p>Powerful animation system with presets and customization: - PropAnimation - Transform, scale, rotate, fade - Entry Animations - Dramatic entrance effects - Stagger Config - Sequenced child animations - Interpolate - Keyframe-based values - Easing Curves - Smooth motion curves</p>"},{"location":"#effects","title":"Effects","text":"<p>Visual enhancements and atmosphere: - Particle Effects - Sparkles, confetti, rain - Effect Overlays - Vignette, grain, scanlines - Backgrounds - Gradients and solid colors - Transitions - Scene-to-scene effects</p>"},{"location":"#helper-widgets","title":"Helper Widgets","text":"<p>Ready-made components for common patterns: - PolaroidFrame - Photo frame styling - PhotoCard - Card-style photos - StatCard - Animated statistics - FloatingElement - Ambient motion - KenBurnsImage - Zoom and pan effect</p>"},{"location":"#templates","title":"Templates","text":"<p>30 production-ready templates across 6 categories: - Intro Templates - Opening sequences - Ranking Templates - Top lists - Data Viz Templates - Statistics displays - Collage Templates - Image layouts - Thematic Templates - Mood pieces - Conclusion Templates - Closing scenes</p>"},{"location":"#embedding-media","title":"Embedding Media","text":"<p>Include external assets in your videos: - Images - Photos and graphics - Videos - Video clips and loops - Audio - Music and sound effects - Fonts - Custom typography</p>"},{"location":"#advanced-topics","title":"Advanced Topics","text":"Topic Description Encoding Settings Quality, format, and codec options Sync Anchors Precise audio-visual synchronization Custom Render Pipeline Advanced rendering control Frame Extraction Extract frames from videos Performance Tips Optimization techniques"},{"location":"#special-modes","title":"Special Modes","text":"<ul> <li>Server-Only Mode - Rendering without a Flutter UI</li> </ul>"},{"location":"#extending-fluvie","title":"Extending Fluvie","text":"<p>Build your own animations, effects, and templates:</p> Guide Description Custom Animations Create PropAnimation subclasses Custom Effects Build visual effects Custom Templates Design reusable templates Custom FFmpeg Provider Platform-specific encoding"},{"location":"#examples","title":"Examples","text":"<p>Explore working examples in the <code>/example</code> directory:</p> Example Description Simple Animation Basic shapes and motion Text Overlay Text on images Image Slideshow Photo transitions Layered Composition Complex layering Animated Gradient Color animations Year in Review Complete Spotify Wrapped-style video FlutterVienna Review Advanced production example <p>Run the example app: <pre><code>cd example\nflutter run\n</code></pre></p>"},{"location":"#contributing","title":"Contributing","text":"<p>We welcome contributions! See our guides:</p> Guide Description Contributing Overview How to help Development Setup Local environment Testing Guide Writing tests Code Style Formatting standards Getting Support Issues and help"},{"location":"#license","title":"License","text":"<p>Fluvie is released under the MIT License. See LICENSE for details.</p>"},{"location":"#ai-ide-integration","title":"AI &amp; IDE Integration","text":"<p>Use AI assistants effectively with Fluvie:</p> Resource Description AI Reference File Complete documentation in one AI-optimized file MCP Server Model Context Protocol server for AI tools IDE Helpers Cursor rules, Claude Code, and editor integration <p>Quick Links: - MCP Setup - Self-host the MCP server - IDE Integration - Configure Claude Desktop, VS Code, etc. - Cursor Rules - Rules file for Cursor IDE</p>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub Repository</li> <li>Pub.dev Package</li> <li>Issue Tracker</li> <li>MCP Server - AI documentation server</li> </ul>"},{"location":"FAQ/","title":"Frequently Asked Questions","text":""},{"location":"FAQ/#installation-setup","title":"Installation &amp; Setup","text":""},{"location":"FAQ/#q-why-do-i-get-ffmpeg-not-found-errors","title":"Q: Why do I get \"FFmpeg not found\" errors?","text":"<p>A: Fluvie requires FFmpeg to be installed on your system. The package uses FFmpeg to encode the rendered frames into video files.</p> <p>Solutions: - Linux: <code>sudo apt install ffmpeg</code> - macOS: <code>brew install ffmpeg</code> - Windows: Download from ffmpeg.org and add to PATH - Web: Include FFmpeg.wasm scripts in your <code>web/index.html</code></p> <p>See FFmpeg Setup Guide for detailed instructions.</p>"},{"location":"FAQ/#q-why-does-my-video-have-black-backgrounds","title":"Q: Why does my video have black backgrounds?","text":"<p>A: Fluvie requires Flutter's Impeller renderer for proper video rendering. The Skia renderer causes black backgrounds and visual artifacts.</p> <p>Solution: <pre><code>flutter run --enable-impeller\n</code></pre></p> <p>For VS Code debugging, add to your <code>.vscode/launch.json</code>: <pre><code>{\n  \"configurations\": [{\n    \"name\": \"Fluvie (Impeller)\",\n    \"request\": \"launch\",\n    \"type\": \"dart\",\n    \"args\": [\"--enable-impeller\"]\n  }]\n}\n</code></pre></p> <p>See Impeller Requirements for more details.</p>"},{"location":"FAQ/#q-how-do-i-check-if-ffmpeg-is-installed-correctly","title":"Q: How do I check if FFmpeg is installed correctly?","text":"<p>A: Use the built-in FFmpeg checker:</p> <pre><code>import 'package:fluvie/fluvie.dart';\n\nfinal diagnostics = await FFmpegChecker.check();\nif (!diagnostics.isAvailable) {\n  print('FFmpeg not found: ${diagnostics.errorMessage}');\n  print(diagnostics.installationInstructions);\n} else {\n  print('FFmpeg version: ${diagnostics.version}');\n}\n</code></pre>"},{"location":"FAQ/#performance","title":"Performance","text":""},{"location":"FAQ/#q-rendering-is-slow-how-can-i-speed-it-up","title":"Q: Rendering is slow. How can I speed it up?","text":"<p>A: Try these optimization strategies:</p> <ol> <li> <p>Reduce resolution: 720p renders ~2x faster than 1080p    <pre><code>VideoComposition(\n  width: 1280,  // Instead of 1920\n  height: 720,  // Instead of 1080\n  // ...\n)\n</code></pre></p> </li> <li> <p>Lower frame rate: 24fps is ~20% faster than 30fps    <pre><code>VideoComposition(\n  fps: 24,  // Instead of 30\n  // ...\n)\n</code></pre></p> </li> <li> <p>Simplify effects: Avoid expensive operations like blur and gradients in every frame</p> </li> <li> <p>Optimize widget tree: Don't recreate identical widgets for each frame</p> </li> <li> <p>Use const widgets where possible</p> </li> </ol> <p>See Performance Optimization Guide for more tips.</p>"},{"location":"FAQ/#q-the-app-crashes-during-rendering-whats-wrong","title":"Q: The app crashes during rendering. What's wrong?","text":"<p>A: Check these common issues:</p> <ol> <li>Memory usage: Large compositions can use 1-2 GB of RAM</li> <li> <p>Solution: Reduce composition complexity or render in segments</p> </li> <li> <p>FFmpeg not properly installed</p> </li> <li> <p>Solution: Run <code>FFmpegChecker.check()</code> to diagnose</p> </li> <li> <p>Disk space: Temporary files can be large</p> </li> <li> <p>Solution: Ensure at least 2-5 GB free disk space</p> </li> <li> <p>Impeller not enabled: Can cause rendering failures</p> </li> <li>Solution: Run with <code>--enable-impeller</code> flag</li> </ol> <p>See Troubleshooting Guide for more help.</p>"},{"location":"FAQ/#q-how-much-memory-does-fluvie-use","title":"Q: How much memory does Fluvie use?","text":"<p>A: Memory usage depends on composition complexity:</p> Composition Type Peak Memory Usage Simple text-only ~200 MB Medium (images + text) ~500 MB Complex (video clips) ~1.5 GB <p>Tips to reduce memory: - Render at lower resolution - Use smaller image assets - Limit simultaneous layers - Render in shorter segments</p>"},{"location":"FAQ/#features","title":"Features","text":""},{"location":"FAQ/#q-can-i-use-custom-fonts","title":"Q: Can I use custom fonts?","text":"<p>A: Yes! Use Flutter's standard font loading mechanism.</p> <ol> <li> <p>Add font to <code>pubspec.yaml</code>:    <pre><code>fonts:\n  - family: MyCustomFont\n    fonts:\n      - asset: fonts/MyCustomFont-Regular.ttf\n</code></pre></p> </li> <li> <p>Use in your composition:    <pre><code>Text(\n  'Hello Fluvie!',\n  style: TextStyle(\n    fontFamily: 'MyCustomFont',\n    fontSize: 48,\n  ),\n)\n</code></pre></p> </li> </ol> <p>See Text Styling for more examples.</p>"},{"location":"FAQ/#q-how-do-i-sync-animations-to-audio-beats","title":"Q: How do I sync animations to audio beats?","text":"<p>A: Use <code>SyncAnchor</code> with BPM detection:</p> <pre><code>// 1. Add audio track with BPM\nAudioTrack(\n  source: AudioSource.asset('music.mp3'),\n  bpm: 120,  // Beats per minute\n)\n\n// 2. Place sync anchors at beat intervals\nSyncAnchor(\n  id: 'beat_1',\n  frame: 30,  // First beat\n)\n\n// 3. Reference in animations\nTimeConsumer(\n  builder: (context, frame, progress) {\n    final beatProgress = context.getProgressSince('beat_1');\n    // Animate based on beat progress\n  },\n)\n</code></pre> <p>See Audio Sync Recipe for complete examples.</p>"},{"location":"FAQ/#q-can-i-generate-videos-on-mobile-iosandroid","title":"Q: Can I generate videos on mobile (iOS/Android)?","text":"<p>A: Yes, but you need to provide a custom FFmpeg implementation using <code>ffmpeg_kit_flutter</code>.</p> <p>Fluvie doesn't include FFmpeg binaries for mobile by default due to package size constraints.</p> <p>Setup: 1. Add <code>ffmpeg_kit_flutter</code> to your <code>pubspec.yaml</code> 2. Implement custom <code>FFmpegProvider</code> 3. Register with <code>FFmpegProviderRegistry</code></p> <p>See Mobile Setup Guide for complete instructions.</p>"},{"location":"FAQ/#q-can-i-export-to-formats-other-than-mp4","title":"Q: Can I export to formats other than MP4?","text":"<p>A: Yes! Fluvie supports multiple output formats through FFmpeg:</p> <ul> <li>MP4 (H.264): Best compatibility</li> <li>WebM (VP9): Web-optimized</li> <li>GIF: Animated images (lower quality)</li> <li>MOV (ProRes): High quality, large files</li> </ul> <p>Specify format in render configuration: <pre><code>final config = RenderConfig(\n  // ... other config\n  outputFormat: VideoFormat.webm,\n);\n</code></pre></p>"},{"location":"FAQ/#q-can-i-render-videos-without-displaying-a-ui","title":"Q: Can I render videos without displaying a UI?","text":"<p>A: Yes! Fluvie can render headlessly in the background:</p> <pre><code>final service = RenderService();\nawait service.execute(\n  config: config,\n  repaintBoundaryKey: boundaryKey,\n  onFrameUpdate: (frame) {\n    print('Rendering frame $frame');\n  },\n  onComplete: (outputPath) {\n    print('Video saved to: $outputPath');\n  },\n);\n</code></pre> <p>The UI preview is optional - only needed for interactive development.</p>"},{"location":"FAQ/#troubleshooting","title":"Troubleshooting","text":""},{"location":"FAQ/#q-videos-are-choppy-or-have-artifacts","title":"Q: Videos are choppy or have artifacts","text":"<p>A: This usually indicates the Skia renderer is being used instead of Impeller.</p> <p>Solutions: 1. Enable Impeller: Run with <code>flutter run --enable-impeller</code> 2. Check renderer: Fluvie will log a warning if Skia is detected 3. Verify platform: Impeller is default on iOS, but requires flag on desktop/Android</p>"},{"location":"FAQ/#q-audio-is-out-of-sync-with-video","title":"Q: Audio is out of sync with video","text":"<p>A: Audio sync issues can occur due to frame rate mismatches.</p> <p>Solutions: 1. Match timeline FPS to your audio sample rate expectations (usually 30fps or 60fps) 2. Use exact frame counts for audio track duration:    <pre><code>AudioTrack(\n  durationInFrames: timeline.durationInFrames,  // Match exactly\n  // ...\n)\n</code></pre> 3. Avoid variable frame rates in your rendering</p>"},{"location":"FAQ/#q-colors-look-different-in-exported-video-vs-preview","title":"Q: Colors look different in exported video vs preview","text":"<p>A: Color space differences between preview and export can cause this.</p> <p>Solutions: 1. Ensure Impeller is enabled (consistent rendering) 2. Check FFmpeg color space settings 3. Use consistent color profiles in your assets</p>"},{"location":"FAQ/#q-text-rendering-looks-blurry","title":"Q: Text rendering looks blurry","text":"<p>A: Text can appear blurry if rendered at low resolution or scaled incorrectly.</p> <p>Solutions: 1. Increase composition resolution:    <pre><code>VideoComposition(\n  width: 1920,  // Full HD\n  height: 1080,\n  // ...\n)\n</code></pre></p> <ol> <li>Use appropriate font sizes: Don't scale small text up</li> <li>Enable anti-aliasing (enabled by default in Flutter)</li> </ol>"},{"location":"FAQ/#q-sharedarraybuffer-is-not-defined-error-on-web","title":"Q: \"SharedArrayBuffer is not defined\" error on web","text":"<p>A: Web builds require specific server headers for WASM FFmpeg.</p> <p>Solution: Configure your server to send: <pre><code>Cross-Origin-Embedder-Policy: require-corp\nCross-Origin-Opener-Policy: same-origin\n</code></pre></p> <p>See Web Setup Guide for detailed instructions.</p>"},{"location":"FAQ/#advanced-usage","title":"Advanced Usage","text":""},{"location":"FAQ/#q-can-i-use-custom-ffmpeg-filters","title":"Q: Can I use custom FFmpeg filters?","text":"<p>A: Yes! For advanced users, you can extend the FFmpeg filter graph.</p> <p>See Custom Render Pipeline for examples.</p>"},{"location":"FAQ/#q-how-do-i-batch-generate-multiple-videos","title":"Q: How do I batch generate multiple videos?","text":"<p>A: Create a loop that renders multiple compositions:</p> <pre><code>for (final config in videoConfigs) {\n  await renderService.execute(\n    config: config,\n    // ...\n  );\n}\n</code></pre> <p>See Batch Generation Recipe for complete example.</p>"},{"location":"FAQ/#q-can-i-cancel-a-render-in-progress","title":"Q: Can I cancel a render in progress?","text":"<p>A: Currently, Fluvie doesn't support cancellation mid-render. This is planned for a future release.</p> <p>Workaround: Run renders in isolates and terminate the isolate if needed.</p>"},{"location":"FAQ/#getting-help","title":"Getting Help","text":""},{"location":"FAQ/#still-having-issues","title":"Still having issues?","text":"<ul> <li>Documentation: Browse the full documentation</li> <li>Examples: Check the example gallery</li> <li>GitHub Issues: Report bugs or request features</li> <li>Discussions: Ask questions on GitHub Discussions</li> </ul> <p>Can't find your question? Open a discussion and we'll add it to this FAQ!</p>"},{"location":"FLUVIE_AI_REFERENCE/","title":"Fluvie AI Reference Documentation","text":"<p>Complete reference for AI assistants and IDEs to generate Fluvie video composition code</p> <p>Fluvie is a Flutter library for creating animated videos programmatically. Use <code>import 'package:fluvie/declarative.dart';</code> to access the full API.</p>"},{"location":"FLUVIE_AI_REFERENCE/#quick-reference","title":"Quick Reference","text":"<pre><code>import 'package:fluvie/declarative.dart';\n\nVideo(\n  fps: 30,\n  width: 1080,\n  height: 1920,  // 9:16 vertical\n  defaultTransition: const SceneTransition.crossFade(durationInFrames: 15),\n  scenes: [\n    Scene(\n      durationInFrames: 120,  // frames (4 seconds at 30fps)\n      background: Background.gradient(colors: {0: Colors.purple, 120: Colors.blue}),\n      children: [\n        VCenter(child: AnimatedText.slideUpFade('Hello!', duration: 30)),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#key-concepts","title":"Key Concepts","text":"<ul> <li>Frame-based timing: All durations in frames, not seconds (<code>fps: 30</code> means 30 frames = 1 second)</li> <li>Declarative API: Use <code>Video</code> and <code>Scene</code> widgets for composition</li> <li>Dual-engine model: Flutter for rendering, FFmpeg for encoding</li> <li>Progress-based animations: Animations use 0.0 to 1.0 progress values</li> </ul>"},{"location":"FLUVIE_AI_REFERENCE/#common-aspect-ratios","title":"Common Aspect Ratios","text":"Format Dimensions Use Case Vertical (9:16) 1080x1920 TikTok, Stories, Reels Square (1:1) 1080x1080 Instagram Feed Landscape (16:9) 1920x1080 YouTube, Desktop Cinematic (21:9) 2560x1080 Film style"},{"location":"FLUVIE_AI_REFERENCE/#core-widgets","title":"Core Widgets","text":""},{"location":"FLUVIE_AI_REFERENCE/#video","title":"Video","text":"<p>Root widget for video composition. Manages scenes, transitions, and audio.</p> <pre><code>Video(\n  fps: 30,                    // Required: frames per second\n  width: 1080,                // Required: output width\n  height: 1920,               // Required: output height\n  scenes: [...],              // Required: list of Scene widgets\n\n  // Optional\n  defaultTransition: const SceneTransition.crossFade(durationInFrames: 15),\n  backgroundMusicAsset: 'assets/music.mp3',\n  musicVolume: 0.7,           // 0.0-1.0\n  musicFadeInFrames: 60,\n  musicFadeOutFrames: 90,\n  encoding: const EncodingConfig(\n    quality: RenderQuality.high,\n    frameFormat: FrameFormat.png,\n  ),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#scene","title":"Scene","text":"<p>Time-bounded section of video with background and content.</p> <pre><code>Scene(\n  durationInFrames: 120,                // Required: duration in frames\n\n  // Optional\n  background: Background.gradient(\n    colors: {0: Color(0xFF1a1a2e), 120: Color(0xFF0f3460)},\n    begin: Alignment.topLeft,\n    end: Alignment.bottomRight,\n  ),\n  fadeInFrames: 20,\n  fadeOutFrames: 15,\n  transitionIn: const SceneTransition.slideUp(durationInFrames: 20),\n  transitionOut: const SceneTransition.crossFade(durationInFrames: 15),\n  children: [\n    // Content widgets\n  ],\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#videocomposition","title":"VideoComposition","text":"<p>Low-level composition root for direct frame control.</p> <pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 300,\n  width: 1920,\n  height: 1080,\n  child: TimeConsumer(\n    builder: (context, frame, progress) {\n      // frame: current frame number (int)\n      // progress: 0.0-1.0 across entire video\n      return MyContent();\n    },\n  ),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#timeconsumer","title":"TimeConsumer","text":"<p>Provides current frame for custom animations. Rebuilds every frame.</p> <pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    final opacity = interpolate(frame, [0, 30], [0.0, 1.0]);\n    return Opacity(opacity: opacity, child: Text('Fading in'));\n  },\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#layout-widgets","title":"Layout Widgets","text":"<p>All layout widgets support timing properties: <code>startFrame</code>, <code>endFrame</code>, <code>fadeInFrames</code>, <code>fadeOutFrames</code>, <code>fadeInCurve</code>, <code>fadeOutCurve</code>.</p>"},{"location":"FLUVIE_AI_REFERENCE/#vcenter","title":"VCenter","text":"<p>Centers content with optional timing.</p> <pre><code>VCenter(\n  startFrame: 30,\n  fadeInFrames: 15,\n  child: Text('Centered'),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#vpositioned","title":"VPositioned","text":"<p>Absolute positioning with timing and fade support.</p> <pre><code>VPositioned(\n  top: 100,\n  left: 50,\n  right: 50,\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  child: Text('Positioned'),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#vcolumn-vrow","title":"VColumn / VRow","text":"<p>Column/Row with stagger animation support.</p> <pre><code>VColumn(\n  spacing: 20,\n  stagger: StaggerConfig.slideUp(delay: 10, duration: 30),\n  children: [\n    Text('Item 1'),  // Starts at frame 0\n    Text('Item 2'),  // Starts at frame 10\n    Text('Item 3'),  // Starts at frame 20\n  ],\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#vstack","title":"VStack","text":"<p>Video-aware Stack widget.</p> <pre><code>VStack(\n  startFrame: 0,\n  endFrame: 120,\n  children: [\n    BackgroundWidget(),\n    ContentWidget(),\n  ],\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#vpadding-vsizedbox","title":"VPadding / VSizedBox","text":"<p>Padding and sizing with timing.</p> <pre><code>VPadding(\n  padding: EdgeInsets.all(20),\n  startFrame: 30,\n  child: Content(),\n)\n\nVSizedBox(\n  width: 200,\n  height: 100,\n  startFrame: 30,\n  child: Content(),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#layerstack-layer","title":"LayerStack / Layer","text":"<p>Z-indexed layer composition with visibility timing.</p> <pre><code>LayerStack(\n  children: [\n    Layer.background(child: Background()),\n    Layer(\n      startFrame: 30,\n      endFrame: 120,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      zIndex: 1,\n      child: Content(),\n    ),\n    Layer.overlay(child: Watermark()),\n  ],\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#animation-system","title":"Animation System","text":""},{"location":"FLUVIE_AI_REFERENCE/#animatedprop","title":"AnimatedProp","text":"<p>Primary animation widget for property animations.</p> <pre><code>AnimatedProp(\n  animation: PropAnimation.slideUpFade(),\n  duration: 30,\n  startFrame: 60,\n  curve: Curves.easeOutCubic,\n  child: Text('Animated'),\n)\n\n// Factory constructors\nAnimatedProp.fadeIn(duration: 30, child: widget)\nAnimatedProp.slideUp(duration: 30, child: widget)\nAnimatedProp.zoomIn(duration: 30, child: widget)\nAnimatedProp.slideUpFade(duration: 30, child: widget)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#propanimation","title":"PropAnimation","text":"<p>Animation definitions for transforms.</p> <pre><code>// Basic animations\nPropAnimation.translate(start: Offset(0, 50), end: Offset.zero)\nPropAnimation.scale(start: 0.5, end: 1.0)\nPropAnimation.rotate(start: 0.0, end: 3.14)  // radians\nPropAnimation.fade(start: 0.0, end: 1.0)\n\n// Convenience constructors\nPropAnimation.slideUp(distance: 50)\nPropAnimation.slideDown(distance: 50)\nPropAnimation.slideLeft(distance: 50)\nPropAnimation.slideRight(distance: 50)\nPropAnimation.zoomIn(start: 0.5)\nPropAnimation.zoomOut(end: 0.5)\nPropAnimation.fadeIn()\nPropAnimation.fadeOut()\nPropAnimation.slideUpFade(distance: 50)\n\n// Combined animations\nPropAnimation.combine([\n  PropAnimation.slideUp(distance: 50),\n  PropAnimation.fadeIn(),\n  PropAnimation.zoomIn(start: 0.8),\n])\n\n// Continuous animations\nPropAnimation.float(amplitude: Offset(0, 10), frequency: 0.5)\nPropAnimation.pulse(min: 0.9, max: 1.1, frequency: 0.5)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#staggerconfig","title":"StaggerConfig","text":"<p>Sequential animation for lists of children.</p> <pre><code>StaggerConfig(\n  delay: 10,          // Frames between each child start\n  duration: 30,       // Animation duration per child\n  curve: Curves.easeOut,\n  fadeIn: true,\n  slideIn: true,\n  slideOffset: Offset(0, 40),\n  scaleIn: false,\n  scaleStart: 0.8,\n)\n\n// Factory constructors\nStaggerConfig.fade(delay: 10, duration: 30)\nStaggerConfig.slideUp(delay: 10, duration: 30, distance: 40)\nStaggerConfig.slideDown(delay: 10, duration: 30)\nStaggerConfig.slideLeft(delay: 10, duration: 30)\nStaggerConfig.slideRight(delay: 10, duration: 30)\nStaggerConfig.scale(delay: 10, duration: 30, start: 0.8)\nStaggerConfig.slideUpScale(delay: 10, duration: 30)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#entry-animations","title":"Entry Animations","text":"<p>Dramatic entry effects.</p> <pre><code>EntryAnimation.elasticPop()    // Spring-like pop with overshoot\nEntryAnimation.strobeReveal()  // Flickering reveal\nEntryAnimation.glitchSlide()   // RGB echo glitch effect\nEntryAnimation.maskedWipe()    // Shape-based reveal\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#interpolate","title":"interpolate()","text":"<p>Keyframe-based value interpolation.</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    // Animate value across keyframes\n    final opacity = interpolate(\n      frame,\n      [0, 30, 60, 90],    // Input frames\n      [0.0, 1.0, 1.0, 0.0], // Output values\n      curve: Curves.easeInOut,\n    );\n    return Opacity(opacity: opacity, child: widget);\n  },\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#easing-curves","title":"Easing Curves","text":"<pre><code>// Standard\nCurves.linear, Curves.easeIn, Curves.easeOut, Curves.easeInOut\n\n// Recommended for entries\nCurves.easeOutCubic     // Fast start, gentle landing\nCurves.easeOutQuart\n\n// Recommended for exits\nCurves.easeInCubic      // Gentle start, fast exit\nCurves.easeInQuart\n\n// Emphasis/attention\nCurves.easeOutBack      // Overshoot at end\nCurves.elasticOut       // Springy\n\n// Custom via Easing class\nEasing.easeOutCubic\nEasing.easeInOutCubic\nEasing.easeOutBack\nEasing.elastic\nEasing.bounce\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#text-widgets","title":"Text Widgets","text":""},{"location":"FLUVIE_AI_REFERENCE/#animatedtext","title":"AnimatedText","text":"<p>Text with built-in animations.</p> <pre><code>AnimatedText.fadeIn(\n  'Hello World',\n  startFrame: 0,\n  duration: 30,\n  style: TextStyle(fontSize: 48, color: Colors.white),\n)\n\nAnimatedText.slideUpFade(\n  'Animated Text',\n  startFrame: 30,\n  duration: 25,\n  distance: 30,\n  style: TextStyle(fontSize: 64, fontWeight: FontWeight.bold),\n)\n\nAnimatedText.scaleFade(\n  'Big Entry',\n  startFrame: 0,\n  duration: 30,\n  startScale: 0.5,\n  style: TextStyle(fontSize: 120),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#typewritertext","title":"TypewriterText","text":"<p>Character-by-character reveal.</p> <pre><code>TypewriterText(\n  'Typing effect...',\n  startFrame: 0,\n  charsPerSecond: 24,\n  style: TextStyle(fontSize: 32),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#countertext","title":"CounterText","text":"<p>Animated number counting.</p> <pre><code>CounterText(\n  endValue: 1234,\n  startFrame: 30,\n  duration: 60,\n  style: TextStyle(fontSize: 72, fontWeight: FontWeight.bold),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#fadetext","title":"FadeText","text":"<p>Simple text with opacity support.</p> <pre><code>FadeText(\n  'Simple Text',\n  style: TextStyle(fontSize: 24, color: Colors.white),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#media-widgets","title":"Media Widgets","text":""},{"location":"FLUVIE_AI_REFERENCE/#embeddedvideo","title":"EmbeddedVideo","text":"<p>Video-in-video with frame synchronization.</p> <pre><code>EmbeddedVideo(\n  assetPath: 'assets/highlight.mp4',\n  width: 900,\n  height: 500,\n  startFrame: 40,\n  durationInFrames: 200,\n  trimStart: Duration(seconds: 2),  // Skip first 2 seconds\n  borderRadius: BorderRadius.circular(20),\n  includeAudio: true,\n  audioVolume: 1.0,\n  audioFadeInFrames: 15,\n  audioFadeOutFrames: 15,\n  fit: BoxFit.cover,\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#kenburnsimage","title":"KenBurnsImage","text":"<p>Slow zoom and pan effect for images.</p> <pre><code>KenBurnsImage.zoomIn(\n  assetPath: 'assets/photo.jpg',\n  width: 800,\n  height: 600,\n  zoomAmount: 0.2,\n  focus: Alignment.center,\n)\n\nKenBurnsImage.pan(\n  assetPath: 'assets/landscape.jpg',\n  width: 800,\n  height: 600,\n  from: Alignment.centerLeft,\n  to: Alignment.centerRight,\n  scale: 1.1,\n)\n\nKenBurnsImage.zoomAndPan(\n  assetPath: 'assets/photo.jpg',\n  width: 800,\n  height: 600,\n  startScale: 1.0,\n  endScale: 1.3,\n  from: Alignment.centerLeft,\n  to: Alignment.centerRight,\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#helper-widgets","title":"Helper Widgets","text":""},{"location":"FLUVIE_AI_REFERENCE/#statcard","title":"StatCard","text":"<p>Animated statistic display with counting animation.</p> <pre><code>StatCard(\n  value: 1234,\n  label: 'PHOTOS',\n  sublabel: 'This Year',\n  color: Colors.blue,\n  startFrame: 30,\n  countDuration: 60,\n)\n\nStatCard.percentage(\n  value: 95,\n  label: 'COMPLETED',\n  color: Colors.green,\n  startFrame: 30,\n)\n\nStatCard.currency(\n  value: 5000,\n  label: 'EARNED',\n  symbol: '\\$',\n  color: Colors.orange,\n  startFrame: 30,\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#polaroidframe","title":"PolaroidFrame","text":"<p>Photo with instant-camera style frame.</p> <pre><code>PolaroidFrame(\n  size: Size(300, 350),\n  rotation: -0.05,  // Slight tilt\n  caption: 'Summer 2024',\n  child: Image.asset('photo.jpg', fit: BoxFit.cover),\n)\n\nPolaroidFrame.tilted(\n  tiltDegrees: -5,\n  caption: 'Beach Day',\n  child: Image.asset('beach.jpg'),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#floatingelement","title":"FloatingElement","text":"<p>Oscillating animation for ambient motion.</p> <pre><code>FloatingElement(\n  position: Offset(100, 200),\n  floatAmplitude: Offset(0, 12),\n  floatFrequency: 0.04,\n  floatPhase: 0.0,\n  child: Image.asset('cloud.png'),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#photocard","title":"PhotoCard","text":"<p>Modern photo card with shadow and Ken Burns effect.</p> <pre><code>PhotoCard.withKenBurns(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  zoomAmount: 0.15,\n  focus: Alignment.center,\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#effects-backgrounds","title":"Effects &amp; Backgrounds","text":""},{"location":"FLUVIE_AI_REFERENCE/#background","title":"Background","text":"<p>Scene background types.</p> <pre><code>// Solid color\nBackground.solid(Colors.black)\n\n// Animated gradient (colors keyed by frame)\nBackground.gradient(\n  colors: {\n    0: Color(0xFF1a1a2e),\n    60: Color(0xFF16213e),\n    120: Color(0xFF0f3460),\n  },\n  begin: Alignment.topLeft,\n  end: Alignment.bottomRight,\n)\n\n// Image background\nBackground.image('assets/bg.jpg')\n\n// Noise/grain texture\nBackground.noise(intensity: 0.1)\n\n// VHS retro effect\nBackground.vhs()\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#particleeffect","title":"ParticleEffect","text":"<p>Animated particle systems.</p> <pre><code>ParticleEffect.sparkles(\n  count: 25,\n  color: Colors.yellow,\n)\n\nParticleEffect.confetti(\n  count: 40,\n  colors: [Colors.red, Colors.blue, Colors.yellow],\n)\n\nParticleEffect.snow(count: 50)\nParticleEffect.bubbles(count: 30)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#effectoverlay","title":"EffectOverlay","text":"<p>Post-processing visual effects.</p> <pre><code>EffectOverlay.scanlines(intensity: 0.02)\nEffectOverlay.grain(intensity: 0.06)\nEffectOverlay.vignette(intensity: 0.4)\nEffectOverlay.grid(color: Color(0xFF00ffcc), intensity: 0.05)\nEffectOverlay.crt()  // CRT monitor effect\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#scenetransition","title":"SceneTransition","text":"<p>Transitions between scenes.</p> <pre><code>SceneTransition.none()\nSceneTransition.crossFade(durationInFrames: 15)\nSceneTransition.slideLeft(durationInFrames: 20)\nSceneTransition.slideRight(durationInFrames: 20)\nSceneTransition.slideUp(durationInFrames: 20)\nSceneTransition.slideDown(durationInFrames: 20)\nSceneTransition.scale(durationInFrames: 20)\nSceneTransition.wipe(durationInFrames: 20, direction: WipeDirection.left)\nSceneTransition.zoomWarp(durationInFrames: 30, maxZoom: 3.0)\nSceneTransition.colorBleed(durationInFrames: 20)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#templates","title":"Templates","text":"<p>30 production-ready templates across 6 categories. Each template accepts specific data types.</p>"},{"location":"FLUVIE_AI_REFERENCE/#template-categories","title":"Template Categories","text":"Category Templates Data Type Intro TheNeonGate, DigitalMirror, TheMixtape, VortexTitle, NoiseID <code>IntroData</code> Ranking StackClimb, SlotMachine, TheSpotlight, PerspectiveLadder, FloatingPolaroids <code>RankingData</code> DataViz OrbitalMetrics, TheGrowthTree, LiquidMinutes, FrequencyGlow, BinaryRain <code>MetricsData</code> Collage TheGridShuffle, SplitPersonality, MosaicReveal, BentoRecap, TriptychScroll <code>CollageData</code> Thematic LofiWindow, GlitchReality, RetroPostcard, Kaleidoscope, MinimalistBeat <code>ThematicData</code> Conclusion ParticleFarewell, TheSignature, TheSummaryPoster, TheInfinityLoop, WrappedReceipt <code>SummaryData</code>"},{"location":"FLUVIE_AI_REFERENCE/#template-data-types","title":"Template Data Types","text":"<pre><code>IntroData(\n  title: 'Your 2024',\n  subtitle: 'Wrapped',\n  year: 2024,\n  username: 'optional_user',\n)\n\nRankingData(\n  title: 'Top Artists',\n  items: [\n    RankingItem(rank: 1, title: 'Artist One', subtitle: '500 plays', imageUrl: 'url'),\n    RankingItem(rank: 2, title: 'Artist Two', subtitle: '420 plays'),\n  ],\n)\n\nMetricsData(\n  title: 'Your Stats',\n  metrics: [\n    Metric(label: 'Hours', value: 1234),\n    Metric(label: 'Songs', value: 5678),\n  ],\n)\n\nCollageData(\n  images: ['url1', 'url2', 'url3'],\n  title: 'Your Moments',\n)\n\nThematicData(\n  mood: 'chill',\n  primaryColor: Colors.purple,\n)\n\nSummaryData(\n  message: 'Until next time!',\n  year: 2024,\n  stats: {'songs': 1000, 'artists': 50},\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#using-templates","title":"Using Templates","text":"<pre><code>Video(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  scenes: [\n    TheNeonGate(\n      data: IntroData(title: 'Your 2024', subtitle: 'Wrapped'),\n      theme: TemplateTheme(\n        primaryColor: Colors.purple,\n        backgroundColor: Colors.black,\n      ),\n    ).toScene(),\n\n    StackClimb(\n      data: RankingData(\n        title: 'Top Artists',\n        items: [\n          RankingItem(rank: 1, title: 'Artist One'),\n          RankingItem(rank: 2, title: 'Artist Two'),\n        ],\n      ),\n    ).toScene(),\n\n    ParticleFarewell(\n      data: SummaryData(message: 'See you next year!'),\n    ).toScene(),\n  ],\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#audio-support","title":"Audio Support","text":""},{"location":"FLUVIE_AI_REFERENCE/#audiotrack","title":"AudioTrack","text":"<p>Precise audio timing within scenes.</p> <pre><code>AudioTrack(\n  source: AudioSource.asset('assets/audio/effect.mp3'),\n  startFrame: 60,\n  durationInFrames: 90,\n  volume: 0.8,\n  fadeInFrames: 15,\n  fadeOutFrames: 15,\n  trimStartFrame: 0,\n  loop: false,\n  child: const SizedBox.shrink(),\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#audiosource","title":"AudioSource","text":"<p>Audio file references.</p> <pre><code>AudioSource.asset('assets/audio/music.mp3')\nAudioSource.file('/path/to/audio.mp3')\nAudioSource.url('https://example.com/audio.mp3')\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#backgroundaudio","title":"BackgroundAudio","text":"<p>Full-video background music.</p> <pre><code>BackgroundAudio(\n  source: AudioSource.asset('assets/music.mp3'),\n  volume: 0.5,\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#complete-example-year-in-review","title":"Complete Example: Year in Review","text":"<pre><code>import 'package:flutter/material.dart';\nimport 'package:fluvie/declarative.dart';\n\nclass YearReviewVideo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Video(\n      fps: 30,\n      width: 1080,\n      height: 1920,\n      backgroundMusicAsset: 'assets/music.mp3',\n      musicVolume: 0.7,\n      musicFadeInFrames: 60,\n      musicFadeOutFrames: 90,\n      defaultTransition: const SceneTransition.crossFade(durationInFrames: 15),\n      encoding: const EncodingConfig(quality: RenderQuality.high),\n      scenes: [\n        _buildIntroScene(),\n        _buildStatsScene(),\n        _buildMemoriesScene(),\n        _buildOutroScene(),\n      ],\n    );\n  }\n\n  Scene _buildIntroScene() {\n    return Scene(\n      durationInFrames: 120,\n      background: Background.gradient(\n        colors: {0: Color(0xFF1a1a2e), 120: Color(0xFF0f3460)},\n      ),\n      fadeInFrames: 20,\n      children: [\n        ParticleEffect.sparkles(count: 25),\n        VCenter(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              AnimatedText.scaleFade(\n                '2024',\n                duration: 30,\n                startScale: 0.5,\n                style: TextStyle(fontSize: 200, fontWeight: FontWeight.w900, color: Colors.white),\n              ),\n              SizedBox(height: 40),\n              AnimatedText.slideUpFade(\n                'YOUR YEAR IN REVIEW',\n                startFrame: 30,\n                duration: 25,\n                style: TextStyle(fontSize: 48, color: Colors.white70, letterSpacing: 10),\n              ),\n            ],\n          ),\n        ),\n      ],\n    );\n  }\n\n  Scene _buildStatsScene() {\n    return Scene(\n      durationInFrames: 180,\n      background: Background.gradient(\n        colors: {0: Color(0xFF2c003e), 180: Color(0xFF512b58)},\n      ),\n      children: [\n        VPositioned(\n          top: 200,\n          left: 0,\n          right: 0,\n          child: AnimatedText.slideUpFade(\n            'BY THE NUMBERS',\n            duration: 25,\n            style: TextStyle(fontSize: 52, fontWeight: FontWeight.w900, color: Colors.white),\n            textAlign: TextAlign.center,\n          ),\n        ),\n        VPositioned(\n          top: 400,\n          left: 60,\n          right: 60,\n          child: Row(\n            children: [\n              Expanded(child: StatCard(value: 365, label: 'DAYS', color: Colors.red, startFrame: 30)),\n              SizedBox(width: 40),\n              Expanded(child: StatCard(value: 1842, label: 'HOURS', color: Colors.teal, startFrame: 50)),\n            ],\n          ),\n        ),\n      ],\n    );\n  }\n\n  Scene _buildMemoriesScene() {\n    return Scene(\n      durationInFrames: 180,\n      background: Background.gradient(\n        colors: {0: Color(0xFFff9a9e), 180: Color(0xFFfcb69f)},\n      ),\n      children: [\n        VPositioned(\n          top: 150,\n          left: 0,\n          right: 0,\n          child: AnimatedText.slideUpFade(\n            'YOUR MEMORIES',\n            duration: 25,\n            style: TextStyle(fontSize: 64, fontWeight: FontWeight.w900, color: Color(0xFF2d3436)),\n            textAlign: TextAlign.center,\n          ),\n        ),\n        FloatingElement(\n          position: Offset(100, 400),\n          floatAmplitude: Offset(0, 10),\n          child: PolaroidFrame(\n            rotation: -0.08,\n            caption: 'Summer vibes',\n            child: Image.asset('assets/photo1.jpg', width: 300, height: 260, fit: BoxFit.cover),\n          ),\n        ),\n        FloatingElement(\n          position: Offset(550, 600),\n          floatAmplitude: Offset(0, 10),\n          floatPhase: 45,\n          child: PolaroidFrame(\n            rotation: 0.06,\n            caption: 'Best moments',\n            child: Image.asset('assets/photo2.jpg', width: 300, height: 260, fit: BoxFit.cover),\n          ),\n        ),\n      ],\n    );\n  }\n\n  Scene _buildOutroScene() {\n    return Scene(\n      durationInFrames: 150,\n      background: Background.gradient(\n        colors: {0: Color(0xFF1a1a2e), 150: Color(0xFFe94560)},\n      ),\n      children: [\n        ParticleEffect.sparkles(count: 40, color: Color(0xFFe94560)),\n        VCenter(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              AnimatedText.fadeIn(\n                'SEE YOU IN',\n                startFrame: 10,\n                duration: 25,\n                style: TextStyle(fontSize: 48, color: Colors.white70, letterSpacing: 10),\n              ),\n              SizedBox(height: 20),\n              AnimatedText.scaleFade(\n                '2025',\n                startFrame: 30,\n                duration: 35,\n                startScale: 0.5,\n                style: TextStyle(fontSize: 160, fontWeight: FontWeight.w900, color: Color(0xFFe94560)),\n              ),\n            ],\n          ),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#best-practices","title":"Best Practices","text":""},{"location":"FLUVIE_AI_REFERENCE/#animation-timing","title":"Animation Timing","text":"<pre><code>// Text/small elements: 15-30 frames (0.5-1 second)\nAnimatedProp(duration: 20, ...)\n\n// Large elements/containers: 30-45 frames (1-1.5 seconds)\nAnimatedProp(duration: 40, ...)\n\n// Dramatic reveals: 45-60 frames (1.5-2 seconds)\nAnimatedProp(duration: 50, ...)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#stagger-delays","title":"Stagger Delays","text":"<pre><code>// Fast stagger: quick succession\nStaggerConfig(delay: 5, duration: 20)\n\n// Medium stagger: comfortable pace\nStaggerConfig(delay: 10, duration: 25)\n\n// Slow stagger: dramatic reveals\nStaggerConfig(delay: 20, duration: 40)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#curve-selection","title":"Curve Selection","text":"<pre><code>// Elements entering (fast start, gentle landing)\ncurve: Curves.easeOutCubic\n\n// Elements exiting (gentle start, fast exit)\ncurve: Curves.easeInCubic\n\n// Emphasis/attention (overshoot)\ncurve: Curves.easeOutBack\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#performance","title":"Performance","text":"<ul> <li>Keep particle counts reasonable (25-50 for sparkles, 30-50 for confetti)</li> <li>Limit stacked effects to 2-3 overlays</li> <li>Use <code>const</code> widgets where possible</li> <li>Cache expensive calculations in TimeConsumer</li> </ul>"},{"location":"FLUVIE_AI_REFERENCE/#frame-calculations","title":"Frame Calculations","text":"<pre><code>// Convert seconds to frames\nint secondsToFrames(double seconds, int fps) =&gt; (seconds * fps).round();\n\n// Convert frames to seconds\ndouble framesToSeconds(int frames, int fps) =&gt; frames / fps;\n\n// Example: 3 seconds at 30fps = 90 frames\nfinal duration = secondsToFrames(3.0, 30); // 90\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#encoding-settings","title":"Encoding Settings","text":"<pre><code>EncodingConfig(\n  quality: RenderQuality.high,     // low, medium, high, lossless\n  frameFormat: FrameFormat.png,    // png, rawRgba\n  crfOverride: 18,                 // Optional CRF override (0-51)\n  presetOverride: 'slow',          // Optional FFmpeg preset\n  debugFrameOutputPath: 'tmp/frames',\n  keepDebugFrames: true,\n)\n</code></pre>"},{"location":"FLUVIE_AI_REFERENCE/#import-statement","title":"Import Statement","text":"<p>Always use this import to access the full declarative API:</p> <pre><code>import 'package:fluvie/declarative.dart';\n</code></pre> <p>This provides access to all widgets: <code>Video</code>, <code>Scene</code>, <code>AnimatedProp</code>, <code>PropAnimation</code>, <code>VCenter</code>, <code>VPositioned</code>, <code>VColumn</code>, <code>VRow</code>, <code>LayerStack</code>, <code>Layer</code>, <code>TimeConsumer</code>, <code>AnimatedText</code>, <code>TypewriterText</code>, <code>CounterText</code>, <code>StatCard</code>, <code>PolaroidFrame</code>, <code>FloatingElement</code>, <code>KenBurnsImage</code>, <code>EmbeddedVideo</code>, <code>ParticleEffect</code>, <code>EffectOverlay</code>, <code>Background</code>, <code>SceneTransition</code>, <code>AudioTrack</code>, <code>AudioSource</code>, all templates, and more.</p>"},{"location":"ONLY_SERVER_MODE/","title":"Server-Only Rendering Mode","text":"<p>Render Fluvie videos without a Flutter UI</p> <p>This guide explains how to render Fluvie videos in a server or headless environment, without running a Flutter application with a visible UI. This is useful for:</p> <ul> <li>Automated video generation pipelines</li> <li>CI/CD workflows</li> <li>Backend services that generate videos on-demand</li> <li>Batch processing of video templates</li> </ul>"},{"location":"ONLY_SERVER_MODE/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Current Approach</li> <li>How It Works</li> <li>Complete Example</li> <li>CI/CD Integration</li> <li>Limitations</li> <li>Future Improvements</li> </ul>"},{"location":"ONLY_SERVER_MODE/#current-approach","title":"Current Approach","text":"<p>Fluvie currently supports server-only rendering through Flutter's test framework. The test framework provides a headless rendering environment that can pump widgets and capture frames without displaying a window.</p>"},{"location":"ONLY_SERVER_MODE/#key-components","title":"Key Components","text":"<ol> <li>Flutter Test Framework - Provides <code>WidgetTester</code> for headless widget pumping</li> <li>RenderService - Orchestrates frame capture and encoding</li> <li>FFmpeg - Encodes captured frames into video</li> </ol>"},{"location":"ONLY_SERVER_MODE/#how-it-works","title":"How It Works","text":"<p>The server-only rendering process follows these steps:</p> <pre><code>1. Create a testable widget composition\n2. Use WidgetTester to pump the widget tree\n3. RenderService captures each frame from a RepaintBoundary\n4. Frames are streamed to FFmpeg for encoding\n5. Final video file is written to disk\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#architecture-diagram","title":"Architecture Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Flutter Test Environment              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  WidgetTester   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502   Widget Tree           \u2502  \u2502\n\u2502  \u2502  (pumps frames) \u2502       \u2502   (VideoComposition)    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                        \u2502                 \u2502\n\u2502                            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502                            \u2502   RepaintBoundary       \u2502  \u2502\n\u2502                            \u2502   (frame capture)       \u2502  \u2502\n\u2502                            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                        \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                         \u2502\n                             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                             \u2502   FrameSequencer        \u2502\n                             \u2502   (raw frame bytes)     \u2502\n                             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                         \u2502\n                             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                             \u2502   FFmpeg Process        \u2502\n                             \u2502   (video encoding)      \u2502\n                             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                         \u2502\n                             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                             \u2502   Output Video File     \u2502\n                             \u2502   (MP4, WebM, etc.)     \u2502\n                             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#complete-example","title":"Complete Example","text":"<p>Here's a complete example of rendering a video in a test environment:</p>"},{"location":"ONLY_SERVER_MODE/#1-create-the-test-file","title":"1. Create the Test File","text":"<p>Create a file like <code>test/render_video_test.dart</code>:</p> <pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:fluvie/fluvie.dart';\n\nvoid main() {\n  testWidgets('Render my video composition', (WidgetTester tester) async {\n    // 1. Define your composition\n    final composition = VideoComposition(\n      fps: 30,\n      durationInFrames: 150, // 5 seconds\n      width: 1920,\n      height: 1080,\n      encoding: const EncodingConfig(\n        quality: RenderQuality.high,\n        frameFormat: FrameFormat.rawRgba,\n      ),\n      child: Builder(\n        builder: (context) {\n          return TimeConsumer(\n            builder: (context, frame, progress) {\n              return Container(\n                color: Color.lerp(Colors.blue, Colors.purple, progress),\n                child: Center(\n                  child: Text(\n                    'Frame $frame',\n                    style: const TextStyle(\n                      fontSize: 72,\n                      color: Colors.white,\n                      fontWeight: FontWeight.bold,\n                    ),\n                  ),\n                ),\n              );\n            },\n          );\n        },\n      ),\n    );\n\n    // 2. Build the widget tree\n    await tester.pumpWidget(\n      MaterialApp(\n        home: Scaffold(\n          body: Center(child: composition),\n        ),\n      ),\n    );\n    await tester.pumpAndSettle();\n\n    // 3. Get the render service\n    final context = tester.element(find.byType(VideoComposition));\n    final renderService = RenderService();\n\n    // 4. Execute the render\n    final outputPath = await renderService.execute(\n      context: context,\n      outputPath: 'output/my_video.mp4',\n      onFrameUpdate: (frame) async {\n        // Update the frame and rebuild\n        await tester.pump();\n      },\n      onProgress: (progress) {\n        print('Rendering: ${(progress * 100).toStringAsFixed(1)}%');\n      },\n    );\n\n    print('Video saved to: $outputPath');\n    expect(outputPath, isNotNull);\n  });\n}\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#2-run-the-test","title":"2. Run the Test","text":"<pre><code># Run with flutter test\nflutter test test/render_video_test.dart\n\n# Or with specific timeout for long videos\nflutter test --timeout=none test/render_video_test.dart\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#using-the-declarative-api","title":"Using the Declarative API","text":"<p>For the higher-level <code>Video</code> widget:</p> <pre><code>testWidgets('Render declarative video', (WidgetTester tester) async {\n  final video = Video(\n    fps: 30,\n    width: 1920,\n    height: 1080,\n    scenes: [\n      Scene(\n        durationInFrames: 90,\n        background: Background.solid(Colors.indigo),\n        children: [\n          VCenter(\n            child: AnimatedText.slideUpFade(\n              'Generated on Server',\n              style: const TextStyle(\n                fontSize: 64,\n                color: Colors.white,\n              ),\n            ),\n          ),\n        ],\n      ),\n      Scene(\n        durationInFrames: 60,\n        background: Background.gradient(\n          colors: {0: Colors.purple, 60: Colors.blue},\n        ),\n        children: [\n          VCenter(\n            child: AnimatedText.scaleFade(\n              'No UI Required!',\n              startScale: 0.5,\n              style: const TextStyle(\n                fontSize: 72,\n                color: Colors.white,\n                fontWeight: FontWeight.bold,\n              ),\n            ),\n          ),\n        ],\n      ),\n    ],\n  );\n\n  await tester.pumpWidget(MaterialApp(home: Scaffold(body: video)));\n  await tester.pumpAndSettle();\n\n  final context = tester.element(find.byType(Video));\n  final config = Video.createConfigFromContext(context);\n\n  final renderService = RenderService();\n  final outputPath = await renderService.execute(\n    context: context,\n    outputPath: 'output/declarative_video.mp4',\n    onFrameUpdate: (frame) async {\n      await tester.pump();\n    },\n  );\n\n  print('Rendered: $outputPath');\n});\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#cicd-integration","title":"CI/CD Integration","text":""},{"location":"ONLY_SERVER_MODE/#github-actions-example","title":"GitHub Actions Example","text":"<pre><code>name: Generate Video\n\non:\n  push:\n    branches: [main]\n  workflow_dispatch:\n\njobs:\n  render:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Flutter\n        uses: subosito/flutter-action@v2\n        with:\n          flutter-version: '3.22.0'\n          channel: 'stable'\n\n      - name: Install FFmpeg\n        run: sudo apt-get update &amp;&amp; sudo apt-get install -y ffmpeg\n\n      - name: Install dependencies\n        run: flutter pub get\n\n      - name: Run render test\n        run: flutter test test/render_video_test.dart --timeout=none\n\n      - name: Upload video artifact\n        uses: actions/upload-artifact@v4\n        with:\n          name: rendered-video\n          path: output/*.mp4\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#docker-example","title":"Docker Example","text":"<pre><code>FROM ghcr.io/cirruslabs/flutter:stable\n\n# Install FFmpeg\nRUN apt-get update &amp;&amp; apt-get install -y ffmpeg &amp;&amp; rm -rf /var/lib/apt/lists/*\n\nWORKDIR /app\n\n# Copy project files\nCOPY pubspec.* ./\nRUN flutter pub get\n\nCOPY . .\n\n# Run the render\nCMD [\"flutter\", \"test\", \"test/render_video_test.dart\", \"--timeout=none\"]\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#limitations","title":"Limitations","text":""},{"location":"ONLY_SERVER_MODE/#current-limitations","title":"Current Limitations","text":"<ol> <li> <p>Requires Flutter SDK - The full Flutter SDK must be installed, even for headless rendering.</p> </li> <li> <p>Test Framework Overhead - Using the test framework adds some complexity and performance overhead.</p> </li> <li> <p>Memory Usage - Long videos with high resolution can consume significant memory during the frame capture process.</p> </li> <li> <p>Font Loading - Custom fonts must be properly loaded in the test environment:    <pre><code>setUpAll(() async {\n  final fontLoader = FontLoader('CustomFont');\n  fontLoader.addFont(rootBundle.load('assets/fonts/CustomFont.ttf'));\n  await fontLoader.load();\n});\n</code></pre></p> </li> <li> <p>Asset Loading - Assets must be available in the test environment:    <pre><code>// In your test file\nTestWidgetsFlutterBinding.ensureInitialized();\n</code></pre></p> </li> <li> <p>No Hot Reload - Changes require a full test restart.</p> </li> </ol>"},{"location":"ONLY_SERVER_MODE/#platform-considerations","title":"Platform Considerations","text":"Platform Support Notes Linux Full Best for CI/CD macOS Full Development and CI Windows Full Requires FFmpeg in PATH Docker Full Recommended for production"},{"location":"ONLY_SERVER_MODE/#future-improvements","title":"Future Improvements","text":"<p>The current test-based approach works but has room for improvement. Here are potential future enhancements:</p>"},{"location":"ONLY_SERVER_MODE/#1-dedicated-headless-renderer","title":"1. Dedicated Headless Renderer","text":"<p>A purpose-built headless rendering engine would eliminate test framework overhead:</p> <pre><code>// Proposed API\nfinal renderer = HeadlessFluvieRenderer();\n\nfinal outputPath = await renderer.render(\n  composition: myVideoComposition,\n  outputPath: 'output/video.mp4',\n  onProgress: (progress) =&gt; print('$progress%'),\n);\n</code></pre> <p>Benefits: - No test framework dependency - Optimized memory management - Better progress tracking - Parallel rendering support</p>"},{"location":"ONLY_SERVER_MODE/#2-dart-ffi-for-native-rendering","title":"2. Dart FFI for Native Rendering","text":"<p>Using Dart FFI to call native rendering libraries directly:</p> <pre><code>// Proposed architecture\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Dart Code     \u2502\u2500\u2500\u2500\u2500\u2500\u25b6\u2502   Native FFI    \u2502\n\u2502   (composition) \u2502      \u2502   (Skia/Impeller)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                  \u2502\n                         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                         \u2502   Direct Frame  \u2502\n                         \u2502   Output        \u2502\n                         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                  \u2502\n                         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                         \u2502   FFmpeg        \u2502\n                         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Benefits: - No Flutter SDK required at runtime - Smaller deployment footprint - Faster rendering</p>"},{"location":"ONLY_SERVER_MODE/#3-pre-rendered-template-caching","title":"3. Pre-Rendered Template Caching","text":"<p>For template-based videos, pre-render static elements:</p> <pre><code>// Proposed API\nfinal template = CachedTemplate.load('my_template');\n\nfinal video = template.render(\n  data: {\n    'title': 'My Video',\n    'stats': [247, 12, 365],\n    'images': ['photo1.jpg', 'photo2.jpg'],\n  },\n);\n</code></pre> <p>Benefits: - Faster generation for template-based content - Reduced memory usage - Predictable render times</p>"},{"location":"ONLY_SERVER_MODE/#4-distributed-rendering","title":"4. Distributed Rendering","text":"<p>Split long videos across multiple workers:</p> <pre><code>// Proposed API\nfinal cluster = RenderCluster(workers: 4);\n\nfinal outputPath = await cluster.render(\n  composition: longVideoComposition,\n  outputPath: 'output/video.mp4',\n);\n</code></pre> <p>Benefits: - Linear speedup with worker count - Handle very long videos - Cloud-native architecture</p>"},{"location":"ONLY_SERVER_MODE/#5-render-as-a-service","title":"5. Render-as-a-Service","text":"<p>Cloud-based rendering API:</p> <pre><code>// Proposed API\nfinal client = FluvieCloudClient(apiKey: 'xxx');\n\nfinal job = await client.render(\n  composition: myVideoComposition,\n  quality: RenderQuality.high,\n);\n\nfinal videoUrl = await job.waitForCompletion();\n</code></pre> <p>Benefits: - No local FFmpeg installation - Scalable infrastructure - Pay-per-render pricing</p>"},{"location":"ONLY_SERVER_MODE/#best-practices","title":"Best Practices","text":""},{"location":"ONLY_SERVER_MODE/#1-optimize-for-memory","title":"1. Optimize for Memory","text":"<p>For long videos, consider rendering in segments:</p> <pre><code>final segmentDuration = 300; // 10 seconds at 30fps\nfinal totalFrames = 1800; // 1 minute\n\nfor (var start = 0; start &lt; totalFrames; start += segmentDuration) {\n  final end = (start + segmentDuration).clamp(0, totalFrames);\n  await renderSegment(start, end, 'segment_${start ~/ segmentDuration}.mp4');\n}\n\n// Concatenate segments with FFmpeg\nawait concatenateSegments(outputPath);\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#2-use-raw-rgba-format","title":"2. Use Raw RGBA Format","text":"<p>For fastest rendering, use raw RGBA instead of PNG:</p> <pre><code>VideoComposition(\n  encoding: const EncodingConfig(\n    frameFormat: FrameFormat.rawRgba, // Faster than PNG\n    quality: RenderQuality.high,\n  ),\n  // ...\n)\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#3-warm-up-caches","title":"3. Warm Up Caches","text":"<p>Pre-load assets before rendering:</p> <pre><code>setUpAll(() async {\n  // Pre-load images\n  await precacheImage(AssetImage('assets/image.png'), context);\n\n  // Pre-load video frames\n  final cache = VideoFrameCache();\n  await cache.preload('assets/video.mp4', frameCount: 100);\n});\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#4-monitor-progress","title":"4. Monitor Progress","text":"<p>Track rendering progress for long videos:</p> <pre><code>await renderService.execute(\n  // ...\n  onProgress: (progress) {\n    final percent = (progress * 100).toStringAsFixed(1);\n    final elapsed = stopwatch.elapsed;\n    final estimated = elapsed * (1 / progress);\n    final remaining = estimated - elapsed;\n\n    print('Progress: $percent% - ETA: ${remaining.inMinutes}m');\n  },\n);\n</code></pre>"},{"location":"ONLY_SERVER_MODE/#related-documentation","title":"Related Documentation","text":"<ul> <li>Rendering Pipeline</li> <li>Encoding Settings</li> <li>Performance Tips</li> <li>CI/CD Examples</li> </ul>"},{"location":"concept/","title":"Concept","text":""},{"location":"concept/#i-architectural-foundations-the-dual-engine-model","title":"I. Architectural Foundations: The Dual-Engine Model","text":"<p>The development of a declarative, code-based video generation engine in the Flutter ecosystem necessitates harmonizing two disparate computational models: the reactive, continuous lifecycle of the Flutter rendering engine and the imperative, stream-based command execution of FFmpeg. This process requires a sophisticated, decoupled architecture-the Dual-Engine Model-to ensure deterministic, frame-accurate output and high performance.</p>"},{"location":"concept/#a-the-flutter-render-loop-decoupling-ui-from-video-generation","title":"A. The Flutter Render Loop: Decoupling UI from Video Generation","text":"<p>The core concept involves leveraging the Flutter framework not as a continuous UI display mechanism, but as an on-demand Rasterization Engine.<sup>1</sup> The system must precisely calculate and paint the state of the designated widget tree at a specific time index (\\$t\\$) and capture that visual output as a static image file.<sup>2</sup></p> <p>To guarantee synchronization, a strict Time Gate must be enforced. In standard Flutter applications, animations are driven by VSync; however, for video generation, all time-dependent state changes must be explicitly linked to a globally managed, deterministic time variable, the Driver.<sup>4</sup></p> <p>Architecturally, this requires a clear separation of concerns, defining four distinct layers: Presentation, Domain, Capture, and Encoding.<sup>5</sup></p> Layer Primary Role Core Dart/Flutter Components Interfacing Technology Key Deliverable Presentation (Widget) Declarative configuration of video properties. VideoComposition, Timeline, Clip, TimeConsumer Widgets. None (Defines structure). Root RenderConfig Data Model. --- --- --- --- --- Domain (Config/Time) Abstraction of time, effects, and animation logic. Driver interface, VideoEffect interface, RenderConfig models. Dart Core Library (Serialization). Topological FilterGraph Blueprint (Unserialized). --- --- --- --- --- Capture (Service) Generate raw image sequence, control animation state. FrameSequencer, RepaintBoundary <sup>2</sup>, GlobalKey. Dart dart:ui image manipulation, in-memory raw RGBA streaming. High-fidelity frame buffers streamed to FFmpeg. --- --- --- --- --- Encoding (Data/Infra) Executes external media processing commands and manages filter graph complexity. FFmpegFilterGraphBuilder, VideoEncoderService. Process.run (Dart), FFmpeg CLI. Final Encoded Video File (e.g., MP4). --- --- --- --- ---"},{"location":"concept/#b-defining-core-domain-entities-timelineconfig-renderconfig-mediaassetsource","title":"B. Defining Core Domain Entities: TimelineConfig, RenderConfig, MediaAssetSource","text":"<p>The RenderConfig is the critical, serialized blueprint. It is defined by the abstract interface Renderable which all composition widgets must implement via the toConfig() method. This ensures that the widget tree is translated into a highly efficient, platform-agnostic, JSON-serializable data structure before processing begins.<sup>7</sup></p> <p>Dart</p> <p>// RenderConfig: The serialized video blueprint class RenderConfig { final TimelineConfig timeline; final List&lt;SequenceConfig&gt; sequences; //... other global settings } class SequenceConfig { final int startFrame; final int durationInFrames; final Map&lt;String, dynamic&gt; spatialProps; // x, y, rotation, scale final VideoEffect? effect; final SequenceConfig? child; // For nested sequences //... }  </p> <p>The TimelineConfig defines the global constraints of the video: the frame rate (fps), total video length (durationInFrames), and output dimensions (width and height).<sup>7</sup> The MediaAssetSource acts as an abstract interface to unify references to all media inputs.<sup>8</sup></p>"},{"location":"concept/#c-ffmpeg-as-the-composition-engine-the-imperative-backend","title":"C. FFmpeg as the Composition Engine: The Imperative Backend","text":"<p>FFmpeg acts as the composition engine, executed via Dart's process APIs. To support features like layering and blending, the system relies entirely on complex filtergraphs (-filter_complex), which are necessary for handling multiple input streams and outputs.<sup>8</sup></p> <p>Rather than staging PNG files, the Flutter-generated frame stream (Input 0) is piped directly into FFmpeg as raw RGBA bytes. All supplementary media are composited onto or beneath this canvas using spatial filters like overlay and audio filters like amix.</p>"},{"location":"concept/#d-encoding-quality-controls","title":"D. Encoding Quality Controls","text":"<p><code>RenderConfig.encoding</code> encapsulates per-render quality decisions. A <code>RenderQuality</code> enum (low/medium/high/lossless) maps to sensible CRF and FFmpeg preset pairs (30/veryfast, 23/medium, 18/slow, 0/veryslow respectively). Advanced callers can override the CRF or preset directly (e.g., forcing CRF 10 with preset <code>faster</code>) without touching the widget tree, ensuring reproducible renders with deterministic encoder settings.</p>"},{"location":"concept/#ii-the-flutter-capture-layer-framesequencer","title":"II. The Flutter Capture Layer: FrameSequencer","text":"<p>This layer manages the transformation of the declarative Flutter state into pixels and the high-throughput I/O for staging raw frames.</p>"},{"location":"concept/#a-the-repaintboundary-strategy-for-off-screen-capture","title":"A. The RepaintBoundary Strategy for Off-Screen Capture","text":"<p>Frame capture is mandatory via wrapping the VideoComposition subtree in a RepaintBoundary widget, identified by a persistent GlobalKey. This specific render object enables the invocation of the toImage() function, which captures the widget's content to an off-screen canvas.<sup>1</sup> Instead of blindly super-sampling, the engine derives the pixelRatio from the requested TimelineConfig dimensions, with optional overrides for deliberate over-sampling.</p>"},{"location":"concept/#b-the-animationdriver-synchronizing-state-for-accurate-frame-stepping","title":"B. The AnimationDriver: Synchronizing State for Accurate Frame Stepping","text":"<p>Synchronization relies on the Driver&lt;T&gt; interface, which abstracts the source of time or animation value, providing the current state via frame and time properties.<sup>4</sup></p> <p>The FrameSequencer service, coordinated with the main isolate, iteratively controls the global state. It waits for Flutter's paint pipeline (<code>SchedulerBinding.addPostFrameCallback</code>) and captures each frame as raw RGBA bytes before streaming them to FFmpeg:</p> <p>Dart</p> <p>// FrameSequencer logic (inside Isolate) for (int frame = 0; frame &lt; durationInFrames; frame++) { // 1. Force state update on main thread via Platform Channel/Port mainThreadPort.send({'command': 'update_driver', 'frame': frame}); // 2. Wait for rebuild and capture on main thread final rawBytes = await mainThreadPort.receive('capture_frame_rgba'); // 3. Stream bytes directly into FFmpeg stdin ffmpegSink.add(rawBytes); // 4. Update Riverpod state for UI progress notifier.updateProgress(frame, durationInFrames); }  </p>"},{"location":"concept/#iii-the-declarative-video-api-core-structural-components","title":"III. The Declarative Video API: Core Structural Components","text":"<p>The user-facing API is designed using idiomatic Flutter widgets, ensuring that every configured property is reliably translated into the serializable RenderConfig domain model.</p>"},{"location":"concept/#a-core-temporal-and-structural-widgets","title":"A. Core Temporal and Structural Widgets","text":"Component Name Remotion Equivalent Primary Role Flutter API/Implementation Detail VideoComposition &lt;Composition&gt; <sup>15</sup> Root element, sets global TimelineConfig (fps, dimensions, duration). Manages the root GlobalKey for the RepaintBoundary capture layer.<sup>7</sup> --- --- --- --- Timeline &lt;Sequence&gt; Temporal container, defines start/duration offsets relative to the parent. Uses an InheritedWidget to pass calculated frame context downwards.<sup>7</sup> --- --- --- --- Sequence (Equivalent to content within &lt;Sequence&gt;) Foundational visual container, applies spatial properties and timing. Note: Renamed from \"Clip\" in v0.1.0 for clarity. Implements the Renderable interface to output a SequenceConfig.<sup>10</sup> --- --- --- --- TimeConsumer useCurrentFrame(), useVideoConfig() Provides read access to the global Driver state inside the build method. Built using InheritedWidget pattern to retrieve the nearest Timeline context and global Driver value.<sup>4</sup> --- --- --- ---"},{"location":"concept/#b-layering-and-complex-composition-widgets-collages","title":"B. Layering and Complex Composition Widgets (Collages)","text":"<p>These components leverage the Flutter Stack and layout widgets within the main rasterization canvas (Input 0).</p> Component Name Primary Role Flutter API Implementation Detail FFmpeg Command Consideration New Feature? LayerStack (New Feature) Enables arbitrary, layered composition (Z-index). Maps directly to a Flutter Stack widget. The visual layering is resolved entirely by Flutter's painting phase and captured in the single Input 0 raster stream. None (Pre-composited by Flutter). Yes (New) --- --- --- --- --- CollageTemplate (New Feature) Pre-defined layouts (e.g., 2x2 Grid, Split Screen) with default entry/exit animations. A highly specialized LayerStack that manages internal Positioned widgets. Children implicitly receive pre-calculated VideoTweens for default animations. None (Rasterized in Input 0). Yes (New) --- --- --- --- --- Subclip (New Feature) Modularizes the video structure by nesting one VideoComposition's output within another. Provides a ClipConfig pointing to a nested RenderConfig. Can trigger a pre-render of the inner composition for optimization, treating it as an external VideoClip input stream if needed. If pre-rendered: treated as a separate FFmpeg input (-i). Yes (New) --- --- --- --- ---"},{"location":"concept/#c-text-and-typography-components","title":"C. Text and Typography Components","text":"Component Name Primary Role Flutter API Implementation Detail FFmpeg Command Consideration TextSequence (New Feature) Renders standard, high-quality, animated text. Standard Flutter Text widget within the Sequence. Utilizes Flutter's font rendering for precise kerning and anti-aliasing. Rasterized as part of the main Input 0 frame stream, avoiding the complexity of FFmpeg's drawtext filter.<sup>11</sup> --- --- --- --- TextLayoutUtils (New Feature) Utility class for calculating text metrics and layout constraints. Exposes Dart functions (measureText(), fitText(), fillTextBox()) using the TextPainter class from dart:ui. Essential for dynamic text resizing and word wrapping based on frame time changes. None (Pre-calculation happens in Dart layer). --- --- --- ---"},{"location":"concept/#iv-the-ffmpeg-encoder-layer-filtergraph-serialization","title":"IV. The FFmpeg Encoder Layer: FilterGraph Serialization","text":""},{"location":"concept/#a-the-filtergraphbuilder-algorithm","title":"A. The FilterGraphBuilder Algorithm","text":"<p>The FFmpegFilterGraphBuilder must handle the complexity of multiple video inputs, audio streams, and effects by generating a precise, topologically sorted filtergraph string.<sup>12</sup></p> <p>Steps:</p> <ul> <li>Input Registration:</li> <li>Register the Flutter frame stream (Input 0) fed via stdin: [0:v] demuxer_options [canvas].</li> <li>Register external media assets: [1:v] trim/scale/options [clip1_ready], [2:a] adelay/volume [audio2_ready].</li> <li>The builder must track the unique, next available stream index and label for every fragment.</li> <li>Visual Stream Assembly (Cascading overlay):</li> <li>The base stream is the [canvas] (Input 0).</li> <li>All external video clips (VideoClip, Subclip output) must be layered onto the [canvas] using a chain of overlay filters.</li> <li>Example: Layering [clip1_ready] onto [canvas] creates a new temporary output: [canvas][clip1_ready] overlay=x=X:y=Y:enable='expression' [temp_v_1].</li> <li>This ensures the final output video stream [output_v] correctly stacks all elements.</li> <li>Audio Stream Assembly:</li> <li>All processed audio streams (from AudioTrack, TextToSpeechAudio, etc.) are combined using the amix filter: [audio1_ready][audio2_ready] amix=inputs=N:duration=shortest [output_a].</li> </ul>"},{"location":"concept/#b-mapping-driver-state-to-ffmpeg-filter-expressions","title":"B. Mapping Driver State to FFmpeg Filter Expressions","text":"<p>For properties managed natively by FFmpeg (e.g., clip visibility <sup>12</sup>), the system translates Dart logic into FFmpeg timeline editing expressions (using t for time in seconds or n for frame number <sup>11</sup>).</p> Animation Type Widget Property FFmpeg Filter Expression Example Clip Visibility (Frame 30-60) startFrame, durationInFrames Any filter supporting enable enable='gte(n, 30)*lte(n, 60)' (Using frame number n) --- --- --- --- Non-Linear Interpolation Clip.y (Spring-driven) overlay filter, y parameter y='\\${calculated_value}' (Dart pre-calculates the value for the frame and injects it as a constant) --- --- --- ---"},{"location":"concept/#v-workflow-state-management-and-integration","title":"V. Workflow, State Management, and Integration","text":""},{"location":"concept/#a-centralized-state-management-riverpod","title":"A. Centralized State Management (Riverpod)","text":"<p>The RenderService state will be managed using a Riverpod StateNotifierProvider <sup>16</sup> named RenderStateNotifier. This is critical because it decouples the long-running background tasks from the UI BuildContext, allowing progress updates and final status (Status.CapturingFrames, Status.Encoding, Status.Complete) to be accessed globally and tested easily.<sup>16</sup></p>"},{"location":"concept/#b-orchestration-flow-renderservice","title":"B. Orchestration Flow (RenderService)","text":"<ul> <li>Preparation (Main Isolate): Extract RenderConfig from the widget tree and determine the pixel ratio required to hit the requested TimelineConfig resolution.</li> <li>Capture &amp; Streaming: FrameSequencer captures each frame as raw RGBA bytes after <code>SchedulerBinding.addPostFrameCallback</code> confirms the scene is painted. The bytes are streamed directly into the encoder's stdin, eliminating temporary PNG files.</li> <li>Encoding: VideoEncoderService maintains a single long-lived <code>Process.start('ffmpeg', ...)</code> session, configured through <code>EncodingConfig</code> (quality, CRF override, preset override). The stdin pipe is flushed once all frames are written, and FFmpeg finalizes the MP4 output.</li> <li>Completion: Await FFmpeg's exit code and update RenderStateNotifier to Status.Complete; any failure triggers session cancellation and error propagation.</li> </ul>"},{"location":"concept/#vi-testing-strategy-behavior-driven-development","title":"VI. Testing Strategy (Behavior-Driven Development)","text":"<p>The testing approach will focus on verifying the core contracts between the declarative frontend (Widgets) and the imperative backend (FFmpeg commands and captured frames).</p>"},{"location":"concept/#a-test-hierarchy","title":"A. Test Hierarchy","text":"<ul> <li>Unit Tests (Domain &amp; Infra): Verify the mathematical correctness of Drivers (SpringDriver, VideoTween <sup>4</sup>), the streaming semantics of <code>VideoEncoderService</code> (argument mapping, error propagation, quality overrides), and the structural output of FilterGraphBuilder classes (FilterNode, FilterChain).</li> <li>Widget Tests (API Contract): Ensure that component configuration correctly generates the expected RenderConfig data structure (e.g., a Clip with duration: 30 creates a ClipConfig with durationInFrames: 30).</li> <li>Integration Tests (E2E/Gherkin): Verify the entire pipeline, from declarative code execution to final video file integrity.</li> </ul>"},{"location":"concept/#b-gherkin-scenarios","title":"B. Gherkin Scenarios","text":"<p>The following scenarios cover critical user-facing behaviors and implementation details:</p>"},{"location":"concept/#feature-video-composition-and-time-synchronization","title":"Feature: Video Composition and Time Synchronization","text":"Scenario Given When Then Simple Composition Length I define a VideoComposition with fps: 30 and durationInFrames: 90. The RenderService executes the composition. The final video file duration is exactly 3.0 seconds. --- --- --- --- Driver Interpolation Accuracy I use a TimeConsumer to animate a circle's x position from 0 to 100 between frame 0 and frame 100. The FrameSequencer captures frame 50. The rasterized image for frame 50 contains the circle centered at x: 50 (or 50% of the movement). --- --- --- --- Repaint Boundary Integrity I define a VideoComposition wrapped in a RepaintBoundary. I inspect the RenderConfig output. The GlobalKey for the boundary is correctly registered for the FrameSequencer.<sup>1</sup> --- --- --- ---"},{"location":"concept/#feature-layering-and-external-assets","title":"Feature: Layering and External Assets","text":"Scenario Given When Then VideoClip Integration I use a VideoClip of length 10 seconds, starting at frame 30, with a trim of 2 seconds. The FFmpegFilterGraphBuilder generates the command. The command includes input flags (-i) and a trim filter referencing the external file, with start and duration offset to account for the trim. --- --- --- --- LayerStack Z-Index I use a LayerStack containing: 1. A red box. 2. A green circle. The FrameSequencer captures any frame. The rasterized image (Input 0) shows the green circle visibly overlaying the red box, confirming Flutter's Stack behavior. --- --- --- --- Collage Template Layout I use a CollageTemplate.splitScreen with two child clips. The FrameSequencer captures the first frame. The resulting frame image shows both child clips correctly positioned side-by-side, adhering to the 50/50 layout constraint. --- --- --- ---"},{"location":"concept/#feature-effects-and-transitions","title":"Feature: Effects and Transitions","text":"Scenario Given When Then ColorFilter Effect I apply a VintageEffect to a Sequence. The FFmpegFilterGraphBuilder processes the RenderConfig. The output filtergraph includes a curves filter applied to the sequence's stream label, referencing the vintage preset or a custom curve string.<sup>12</sup> --- --- --- --- CrossFade Transition I define two consecutive Timelines with a CrossFadeTransition lasting 15 frames. The FFmpegFilterGraphBuilder processes the transition point. The output filtergraph uses an overlay filter with an enable and alpha expression to manage opacity blending over the 15 transition frames.<sup>12</sup> --- --- --- --- TextSequence Animation I use a TextSequence and animate its opacity using Interpolate based on the frame number. The FrameSequencer captures frames during the animation. The intermediate PNG sequence (Input 0) shows the text element fading smoothly from transparent to opaque, confirming Dart-side calculation and rasterization. --- --- --- ---"},{"location":"concept/#c-abstraction-hierarchy","title":"C. Abstraction Hierarchy","text":"<ul> <li>Dart Domain Layer (Interfaces):</li> <li>Driver Interface: The core abstraction for time.<sup>4</sup></li> <li>Renderable Interface: Contract for all widgets that contribute to the RenderConfig (implements toConfig()).</li> <li>VideoEffect Interface: Contract for defining FFmpeg filters (requires toFilterNode()).</li> <li>FFmpeg Infrastructure Layer (Base Classes):</li> <li>FilterNode (Abstract Class): Base for a single FFmpeg filter operation.</li> <li>FilterChain: A linear sequence of FilterNodes, separated by commas.</li> <li>FilterGraph: The final composition of FilterChains, joined by semicolons, ready for the -filter_complex flag.</li> </ul>"},{"location":"concept/#works-cited","title":"Works cited","text":"<ul> <li>Render Flutter animation directly to video - Stack Overflow, accessed on November 24, 2025, https://stackoverflow.com/questions/52274511/render-flutter-animation-directly-to-video</li> <li>Create an image from widget - ApparenceKit, accessed on November 24, 2025, https://apparencekit.dev/flutter-tips/create-image-from-flutter-widget/</li> <li>provide time period in ffmpeg drawtext filter - Stack Overflow, accessed on November 24, 2025, https://stackoverflow.com/questions/21354421/provide-time-period-in-ffmpeg-drawtext-filter</li> <li>interpolate() | Remotion | Make videos programmatically, accessed on November 24, 2025, https://www.remotion.dev/docs/interpolate</li> <li>Flutter architectural overview, accessed on November 24, 2025, https://docs.flutter.dev/resources/architectural-overview</li> <li>Understanding Clean Architecture Flow in Flutter: A Beginner's Guide | by Hirun Mihisara, accessed on November 24, 2025, https://medium.com/@hirunmihisara/understanding-clean-architecture-flow-in-flutter-a-beginners-guide-de8db33dd552</li> <li>JSON and serialization - Flutter documentation, accessed on November 24, 2025, https://docs.flutter.dev/data-and-backend/serialization/json</li> <li>ffmpeg Documentation, accessed on November 24, 2025, https://ffmpeg.org/ffmpeg.html</li> <li>Effective Dart: Design, accessed on November 24, 2025, https://dart.dev/effective-dart/design</li> <li>Effective Dart: Style, accessed on November 24, 2025, https://rm-dart.web.app/guides/language/effective-dart/style</li> <li>Ubuntu Manpage: ffmpeg-filters, accessed on November 24, 2025, https://manpages.ubuntu.com/manpages/jammy/man1/ffmpeg-filters.1.html</li> <li>FFmpeg Filters Documentation, accessed on November 24, 2025, https://ffmpeg.org/ffmpeg-filters.html</li> <li>ffmpeg Documentation, accessed on November 24, 2025, https://ffmpeg.org/ffmpeg-all.html</li> <li>Converting any flutter widget to an Image | by Md Rajoan Rahman Rifat | Medium, accessed on November 24, 2025, https://medium.com/@rajoanrahman100/convert-any-flutter-widget-to-an-image-147f903d9ae1</li> <li>A Comprehensive Guide to Riverpod Vs. BLoC in Flutter - DhiWise, accessed on November 24, 2025, https://www.dhiwise.com/post/flutter-insights-navigating-the-riverpod-vs-bloc-puzzle</li> <li>State Mgmt in Flutter with Riverpod Code Generation - Ep.4 - YouTube, accessed on November 24, 2025, https://www.youtube.com/watch?v=RVA1B4DNOyY</li> <li>The Ultimate Guide to FFmpeg in Flutter | by Rugved Apraj | Oct, 2025 | Medium, accessed on November 24, 2025, https://medium.com/@rugvedapraj/the-ultimate-guide-to-ffmpeg-in-flutter-2d9c01478b5d</li> </ul>"},{"location":"getting_started/","title":"Getting Started with Fluvie","text":"<p>Fluvie allows you to generate videos programmatically using Flutter widgets.</p>"},{"location":"getting_started/#installation","title":"Installation","text":"<p>Add <code>fluvie</code> to your <code>pubspec.yaml</code>:</p> <pre><code>dependencies:\n  fluvie: ^0.1.0\n</code></pre>"},{"location":"getting_started/#ffmpeg-setup","title":"FFmpeg Setup","text":"<p>Fluvie requires FFmpeg for video encoding. Install it for your platform:</p> <p>Linux: <pre><code>sudo apt install ffmpeg\n</code></pre></p> <p>macOS: <pre><code>brew install ffmpeg\n</code></pre></p> <p>Windows: Download from ffmpeg.org and add to PATH.</p> <p>Web: Include in your <code>web/index.html</code>: <pre><code>&lt;script src=\"https://unpkg.com/@ffmpeg/ffmpeg@0.12.6/dist/umd/ffmpeg.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://unpkg.com/@ffmpeg/util@0.12.1/dist/umd/util.js\"&gt;&lt;/script&gt;\n</code></pre></p>"},{"location":"getting_started/#basic-usage","title":"Basic Usage","text":""},{"location":"getting_started/#1-define-your-composition","title":"1. Define your composition","text":"<p>Wrap your content in a <code>VideoComposition</code> widget. This sets the frame rate, duration, and dimensions.</p> <pre><code>import 'package:fluvie/fluvie.dart';\n\nfinal composition = VideoComposition(\n  fps: 30,\n  durationInFrames: 150, // 5 seconds\n  width: 1920,\n  height: 1080,\n  child: MyVideoContent(),\n);\n</code></pre>"},{"location":"getting_started/#2-create-content-with-sequences","title":"2. Create content with Sequences","text":"<p>Use <code>Sequence</code> widgets to define time-bounded content blocks:</p> <pre><code>class MyVideoContent extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return LayerStack(\n      children: [\n        Sequence(\n          startFrame: 0,\n          durationInFrames: 60,\n          child: Center(child: Text('Scene 1')),\n        ),\n        Sequence(\n          startFrame: 60,\n          durationInFrames: 90,\n          child: Center(child: Text('Scene 2')),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"getting_started/#3-animate-using-timeconsumer","title":"3. Animate using TimeConsumer","text":"<p>Use <code>TimeConsumer</code> to access the current frame and progress for animations:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // frame: current frame number (0 to durationInFrames-1)\n    // progress: normalized progress (0.0 to 1.0)\n    return Opacity(\n      opacity: progress,\n      child: Text('Fading In'),\n    );\n  },\n)\n</code></pre>"},{"location":"getting_started/#4-use-interpolate-for-keyframe-animations","title":"4. Use interpolate for keyframe animations","text":"<p>The <code>interpolate</code> function lets you define complex animations with keyframes:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // Move from x=0 to x=200, then back to x=100\n    final xPosition = interpolate(\n      frame,\n      [0, 30, 60],        // keyframes\n      [0.0, 200.0, 100.0], // values\n      curve: Curves.easeInOut,\n    );\n\n    return Transform.translate(\n      offset: Offset(xPosition, 0),\n      child: MyWidget(),\n    );\n  },\n)\n</code></pre>"},{"location":"getting_started/#5-layer-based-composition","title":"5. Layer-based composition","text":"<p>Use <code>LayerStack</code> and <code>Layer</code> for sophisticated compositions with time-based visibility and transitions:</p> <pre><code>LayerStack(\n  children: [\n    // Background layer - always visible, behind everything\n    Layer.background(\n      fadeInFrames: 15,\n      child: GradientBackground(),\n    ),\n\n    // Content layer - visible from frame 30 to 120 with fades\n    Layer(\n      startFrame: 30,\n      endFrame: 120,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      child: TitleWidget(),\n    ),\n\n    // Overlay layer - always on top\n    Layer.overlay(\n      blendMode: BlendMode.screen,\n      child: Watermark(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"getting_started/#6-add-audio","title":"6. Add audio","text":"<p>Add background music or sound effects with <code>AudioTrack</code>:</p> <pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 300,\n  child: LayerStack(\n    children: [\n      // Visual content...\n      MyContent(),\n\n      // Audio track\n      AudioTrack(\n        source: AudioSource.asset('audio/music.mp3'),\n        startFrame: 0,\n        durationInFrames: 300,\n        fadeInFrames: 30,\n        fadeOutFrames: 30,\n        volume: 0.8,\n      ),\n    ],\n  ),\n);\n</code></pre>"},{"location":"getting_started/#rendering","title":"Rendering","text":"<p>Use <code>RenderService</code> to export your composition as a video file:</p> <pre><code>final renderService = RenderService();\n\n// Get the config from your composition\nfinal config = renderService.createConfigFromContext(compositionContext);\n\n// Execute rendering\nfinal outputPath = await renderService.execute(\n  config: config,\n  repaintBoundaryKey: boundaryKey,\n  onFrameUpdate: (frame) {\n    print('Rendering frame $frame / ${config.timeline.durationInFrames}');\n  },\n);\n\nprint('Video saved to: $outputPath');\n</code></pre>"},{"location":"getting_started/#architecture","title":"Architecture","text":"<p>Fluvie uses a \"Dual-Engine\" architecture:</p> <ul> <li>Flutter renders each frame as a rasterized image using <code>RepaintBoundary</code></li> <li>FFmpeg encodes the frame sequence into a video file with audio</li> </ul> <p>The rendering process: 1. Flutter widget tree is rebuilt for each frame 2. <code>FrameSequencer</code> captures the frame as raw RGBA bytes 3. Bytes are streamed to FFmpeg via stdin 4. FFmpeg processes audio tracks and outputs the final video</p> <p>See concept.md for detailed architecture documentation.</p>"},{"location":"getting_started/#next-steps","title":"Next Steps","text":"<ul> <li>Explore the example gallery for more complex compositions</li> <li>Read the widget reference for all available components</li> <li>Check concept.md for architecture deep-dive</li> </ul>"},{"location":"migration_guide/","title":"Migration Guide","text":""},{"location":"migration_guide/#migrating-from-v001-to-v010","title":"Migrating from v0.0.1 to v0.1.0","text":"<p>This guide covers the breaking changes in Fluvie v0.1.0 and how to update your code.</p>"},{"location":"migration_guide/#widget-renames","title":"Widget Renames","text":"<p>The <code>Clip</code> family of widgets has been renamed to <code>Sequence</code> for clarity:</p> v0.0.1 v0.1.0 <code>Clip</code> <code>Sequence</code> <code>VideoClip</code> <code>VideoSequence</code> <code>TextClip</code> <code>TextSequence</code> <code>ClipConfig</code> <code>SequenceConfig</code> <p>Before (v0.0.1): <pre><code>Clip(\n  startFrame: 0,\n  durationInFrames: 60,\n  child: Text('Hello'),\n)\n</code></pre></p> <p>After (v0.1.0): <pre><code>Sequence(\n  startFrame: 0,\n  durationInFrames: 60,\n  child: Text('Hello'),\n)\n</code></pre></p>"},{"location":"migration_guide/#audio-time-parameters","title":"Audio Time Parameters","text":"<p>Audio timing has changed from milliseconds to frames for consistency:</p> v0.0.1 v0.1.0 <code>trimStartMs</code> <code>trimStartFrame</code> <code>trimEndMs</code> <code>trimEndFrame</code> <p>Before (v0.0.1): <pre><code>AudioTrack(\n  source: AudioSource.asset('audio.mp3'),\n  startFrame: 0,\n  durationInFrames: 300,\n  trimStartMs: 1000,  // 1 second\n  trimEndMs: 5000,    // 5 seconds\n)\n</code></pre></p> <p>After (v0.1.0): <pre><code>AudioTrack(\n  source: AudioSource.asset('audio.mp3'),\n  startFrame: 0,\n  durationInFrames: 300,\n  trimStartFrame: 30,   // 1 second at 30fps\n  trimEndFrame: 150,    // 5 seconds at 30fps\n)\n</code></pre></p> <p>Conversion formula: <pre><code>// Milliseconds to frames\nint msToFrames(int ms, int fps) =&gt; (ms * fps / 1000).round();\n\n// Frames to milliseconds\nint framesToMs(int frames, int fps) =&gt; (frames * 1000 / fps).round();\n</code></pre></p>"},{"location":"migration_guide/#new-layer-system","title":"New Layer System","text":"<p>v0.1.0 introduces a powerful <code>Layer</code> widget for time-based visibility:</p> <p>Before (v0.0.1) - Using Clip for visibility: <pre><code>Stack(\n  children: [\n    Clip(\n      startFrame: 0,\n      durationInFrames: 60,\n      child: Background(),\n    ),\n    Clip(\n      startFrame: 30,\n      durationInFrames: 90,\n      child: Content(),\n    ),\n  ],\n)\n</code></pre></p> <p>After (v0.1.0) - Using Layer: <pre><code>LayerStack(\n  children: [\n    Layer.background(\n      fadeInFrames: 15,\n      child: Background(),\n    ),\n    Layer(\n      startFrame: 30,\n      endFrame: 120,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      child: Content(),\n    ),\n  ],\n)\n</code></pre></p>"},{"location":"migration_guide/#crossfadetransition-now-works","title":"CrossFadeTransition Now Works","text":"<p>In v0.0.1, <code>CrossFadeTransition</code> was a stub. It now properly fades between children:</p> <pre><code>CrossFadeTransition(\n  startFrame: 60,\n  durationInFrames: 30,\n  child1: FirstScene(),\n  child2: SecondScene(),\n  curve: Curves.easeInOut,\n)\n</code></pre>"},{"location":"migration_guide/#new-interpolate-function","title":"New Interpolate Function","text":"<p>The <code>interpolate()</code> function is now fully implemented with curve support:</p> <pre><code>final xPosition = interpolate(\n  frame,\n  [0, 30, 60],         // keyframes\n  [0.0, 200.0, 100.0], // values\n  curve: Curves.easeInOut,\n  extrapolate: false,\n);\n</code></pre>"},{"location":"migration_guide/#deprecation-timeline","title":"Deprecation Timeline","text":"<p>The old widget names are deprecated but still work:</p> <ul> <li>v0.1.0: Deprecated with warnings</li> <li>v0.3.0: Last version with deprecated APIs</li> <li>v1.0.0: Deprecated APIs will be removed</li> </ul>"},{"location":"migration_guide/#quick-migration-script","title":"Quick Migration Script","text":"<p>Run this find-and-replace in your codebase:</p> <ol> <li>Replace <code>Clip(</code> with <code>Sequence(</code></li> <li>Replace <code>VideoClip(</code> with <code>VideoSequence(</code></li> <li>Replace <code>TextClip(</code> with <code>TextSequence(</code></li> <li>Replace <code>ClipConfig</code> with <code>SequenceConfig</code></li> <li>Replace <code>trimStartMs:</code> with <code>trimStartFrame:</code> (and update values)</li> <li>Replace <code>trimEndMs:</code> with <code>trimEndFrame:</code> (and update values)</li> </ol>"},{"location":"migration_guide/#need-help","title":"Need Help?","text":"<ul> <li>Check the widget reference for updated API</li> <li>See examples for working code</li> <li>Open an issue on GitHub</li> </ul>"},{"location":"roadmap/","title":"Fluvie Roadmap","text":"<p>This document outlines the planned features and improvements for Fluvie.</p>"},{"location":"roadmap/#released-01x","title":"Released (0.1.x) \u2705","text":""},{"location":"roadmap/#core-features","title":"Core Features","text":"<ul> <li>\u2705 Declarative Video Composition API - Use Flutter widgets to define video content</li> <li>\u2705 Frame-Perfect Rendering - Precise control over timing and animations</li> <li>\u2705 Layer System - Z-indexed layers with time-based visibility and fade transitions</li> <li>\u2705 Audio Support - Background music, audio tracks with trim and fade</li> <li>\u2705 Cross-Platform - Desktop (Linux, macOS, Windows) and Web support</li> <li>\u2705 Pluggable FFmpeg - Use native FFmpeg or WASM for web</li> </ul>"},{"location":"roadmap/#advanced-features","title":"Advanced Features","text":"<ul> <li>\u2705 TimeConsumer Widget - Frame-based animation builder</li> <li>\u2705 Sequence System - Time-bounded content blocks with transitions</li> <li>\u2705 Video Sequences - Embed and trim external video files</li> <li>\u2705 Text Animations - FadeText with interpolation support</li> <li>\u2705 Sync Anchors - Synchronize animations to audio beats</li> <li>\u2705 BPM Detection - Audio analysis for beat-synchronized animations</li> <li>\u2705 Template System - Spotify Wrapped-style templates</li> <li>\u2705 Interactive Gallery - Modern example showcase with glassmorphism UI</li> <li>\u2705 Impeller Renderer Detection - Warnings for Skia usage</li> </ul>"},{"location":"roadmap/#developer-experience","title":"Developer Experience","text":"<ul> <li>\u2705 Comprehensive Documentation - 100+ markdown files</li> <li>\u2705 BDD Tests - Gherkin feature files with step definitions</li> <li>\u2705 CI/CD Pipeline - Automated testing and coverage</li> <li>\u2705 Migration Guide - Upgrading between versions</li> </ul>"},{"location":"roadmap/#in-progress-02x","title":"In Progress (0.2.x) \ud83d\udea7","text":""},{"location":"roadmap/#error-handling-improvements","title":"Error Handling Improvements","text":"<ul> <li>\ud83d\udea7 Custom Exception Types - FluvieException hierarchy for better debugging</li> <li>\ud83d\udea7 Detailed Error Messages - Context-aware error reporting</li> <li>\ud83d\udea7 Error Recovery Examples - Documentation for handling failures</li> </ul>"},{"location":"roadmap/#performance-optimizations","title":"Performance Optimizations","text":"<ul> <li>\ud83d\udea7 Memory Usage Optimization - Reduce peak memory consumption</li> <li>\ud83d\udea7 Render Speed Improvements - Faster frame capture and encoding</li> <li>\ud83d\udea7 Benchmark Documentation - Performance characteristics across platforms</li> </ul>"},{"location":"roadmap/#mobile-support","title":"Mobile Support","text":"<ul> <li>\ud83d\udea7 iOS Support - Native FFmpeg via ffmpeg_kit_flutter</li> <li>\ud83d\udea7 Android Support - FFmpeg integration for Android</li> <li>\ud83d\udea7 Mobile Examples - Sample apps for iOS/Android</li> </ul>"},{"location":"roadmap/#planned-03x","title":"Planned (0.3.x) \ud83d\udccb","text":""},{"location":"roadmap/#video-effects-system","title":"Video Effects System","text":"<ul> <li>\ud83d\udccb Visual Effects - Blur, brightness, contrast, saturation</li> <li>\ud83d\udccb Color Filters - Vintage, cinematic, sepia, etc.</li> <li>\ud83d\udccb Transition Effects - Wipe, dissolve, slide, zoom</li> <li>\ud83d\udccb Custom Effect API - Build your own effects</li> </ul>"},{"location":"roadmap/#real-time-preview","title":"Real-time Preview","text":"<ul> <li>\ud83d\udccb Preview with Audio - Hear audio while scrubbing timeline</li> <li>\ud83d\udccb Playback Controls - Play/pause preview at target FPS</li> <li>\ud83d\udccb Preview Optimization - Faster preview rendering mode</li> </ul>"},{"location":"roadmap/#templates-presets","title":"Templates &amp; Presets","text":"<ul> <li>\ud83d\udccb Instagram Stories Templates - Vertical video templates</li> <li>\ud83d\udccb TikTok-style Templates - Short-form video templates</li> <li>\ud83d\udccb YouTube Intro Templates - Channel intro animations</li> <li>\ud83d\udccb Lower Thirds - Name/title overlay templates</li> </ul>"},{"location":"roadmap/#future-considerations-04x","title":"Future Considerations (0.4.x+) \ud83d\udcad","text":""},{"location":"roadmap/#advanced-rendering","title":"Advanced Rendering","text":"<ul> <li>\ud83d\udcad GPU-Accelerated Rendering - Use GPU for faster rendering</li> <li>\ud83d\udcad Multi-threaded Encoding - Parallel frame rendering</li> <li>\ud83d\udcad Distributed Rendering - Cloud rendering integration</li> <li>\ud83d\udcad Progressive Rendering - Stream output while rendering</li> </ul>"},{"location":"roadmap/#3d-advanced-graphics","title":"3D &amp; Advanced Graphics","text":"<ul> <li>\ud83d\udcad 3D Scene Support - Basic 3D animations</li> <li>\ud83d\udcad Particle Systems - Advanced particle effects</li> <li>\ud83d\udcad Vector Graphics - SVG animation support</li> <li>\ud83d\udcad Advanced Masking - Complex masking and compositing</li> </ul>"},{"location":"roadmap/#plugin-system","title":"Plugin System","text":"<ul> <li>\ud83d\udcad Custom Effect Plugins - Third-party effect marketplace</li> <li>\ud83d\udcad Template Plugins - Shareable template packages</li> <li>\ud83d\udcad Codec Plugins - Additional video codecs</li> <li>\ud83d\udcad Cloud Provider Plugins - Render to cloud services</li> </ul>"},{"location":"roadmap/#live-streaming","title":"Live Streaming","text":"<ul> <li>\ud83d\udcad RTMP Streaming - Stream to Twitch, YouTube, etc.</li> <li>\ud83d\udcad WebRTC Support - Real-time video communication</li> <li>\ud83d\udcad Live Composition - Dynamic composition updates during streaming</li> </ul>"},{"location":"roadmap/#ai-integration","title":"AI Integration","text":"<ul> <li>\ud83d\udcad Auto Subtitles - Speech-to-text subtitle generation</li> <li>\ud83d\udcad Smart Cropping - AI-powered video framing</li> <li>\ud83d\udcad Scene Detection - Automatic scene transition detection</li> <li>\ud83d\udcad Audio Enhancement - Noise reduction, normalization</li> </ul>"},{"location":"roadmap/#version-compatibility","title":"Version Compatibility","text":"Version Flutter Dart Status 0.1.x &gt;=3.3.0 &gt;=3.10.0 Current 0.2.x &gt;=3.3.0 &gt;=3.10.0 In Progress 0.3.x &gt;=3.10.0 &gt;=3.10.0 Planned"},{"location":"roadmap/#release-schedule","title":"Release Schedule","text":"<p>Fluvie follows semantic versioning and aims for:</p> <ul> <li>Patch releases (0.1.x): Bug fixes, documentation updates - As needed</li> <li>Minor releases (0.x.0): New features, non-breaking changes - Every 2-3 months</li> <li>Major releases (x.0.0): Breaking changes, major rewrites - As needed</li> </ul>"},{"location":"roadmap/#contributing-to-the-roadmap","title":"Contributing to the Roadmap","text":"<p>We welcome community input on the roadmap! Here's how you can help:</p>"},{"location":"roadmap/#request-a-feature","title":"Request a Feature","text":"<ul> <li>Open a feature request</li> <li>Vote on existing feature requests with \ud83d\udc4d</li> <li>Join discussions on GitHub Discussions</li> </ul>"},{"location":"roadmap/#contribute-code","title":"Contribute Code","text":"<ul> <li>Check issues labeled <code>help wanted</code> or <code>good first issue</code></li> <li>Comment on roadmap items you'd like to work on</li> <li>See CONTRIBUTING.md for development guidelines</li> </ul>"},{"location":"roadmap/#sponsor-development","title":"Sponsor Development","text":"<ul> <li>Sponsorship accelerates development of high-priority features</li> <li>Contact the maintainers for sponsorship opportunities</li> </ul>"},{"location":"roadmap/#decision-process","title":"Decision Process","text":"<p>Features are prioritized based on:</p> <ol> <li>User Impact - How many users will benefit?</li> <li>Implementation Complexity - Effort required vs value delivered</li> <li>Platform Parity - Does it work across all platforms?</li> <li>Community Interest - Upvotes, discussions, and contributions</li> <li>Maintenance Burden - Long-term support requirements</li> </ol>"},{"location":"roadmap/#stay-updated","title":"Stay Updated","text":"<ul> <li>Watch this repository to get notified of releases</li> <li>Follow release notes in CHANGELOG.md</li> <li>Join discussions for early access to beta features</li> <li>Subscribe to GitHub releases for version announcements</li> </ul> <p>Last Updated: 2025-12-29</p> <p>Have a feature idea not on this roadmap? Let us know!</p>"},{"location":"templates/","title":"Fluvie Templates","text":"<p>Templates are pre-built, customizable scene compositions for creating Spotify Wrapped-style video content. They encapsulate complex animations, layouts, and timing into reusable components.</p>"},{"location":"templates/#overview","title":"Overview","text":"<p>Fluvie includes 30 templates across 6 categories:</p> Category Templates Purpose Intro 5 Opening sequences and identity reveals Ranking 5 Top lists and winner reveals Data Viz 5 Stats and metrics displays Collage 5 Multi-image layouts Thematic 5 Mood and aesthetic experiences Conclusion 5 Endings and farewell sequences"},{"location":"templates/#quick-start","title":"Quick Start","text":"<pre><code>import 'package:fluvie/declarative.dart';\n\nVideo(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  scenes: [\n    // Use templates directly as scenes\n    TheNeonGate(\n      data: IntroData(\n        title: 'Your 2024',\n        subtitle: 'Wrapped',\n        year: 2024,\n      ),\n    ).toScene(),\n\n    StackClimb(\n      data: RankingData(\n        title: 'Top Artists',\n        items: [\n          RankingItem(rank: 1, title: 'Artist One', subtitle: '500 plays'),\n          RankingItem(rank: 2, title: 'Artist Two', subtitle: '420 plays'),\n          RankingItem(rank: 3, title: 'Artist Three', subtitle: '380 plays'),\n        ],\n      ),\n    ).toScene(),\n\n    ParticleFarewell(\n      data: SummaryData(\n        message: 'See you next year!',\n        year: 2024,\n      ),\n    ).toScene(),\n  ],\n)\n</code></pre>"},{"location":"templates/#template-categories","title":"Template Categories","text":""},{"location":"templates/#intro-templates","title":"Intro Templates","text":"<p>Opening sequences that establish identity and set the mood.</p> Template Description <code>TheNeonGate</code> Neon-lit portal with dramatic text reveal <code>DigitalMirror</code> Reflective glass effect with mirrored animations <code>TheMixtape</code> Cassette tape-inspired retro intro <code>VortexTitle</code> Swirling vortex with centered title <code>NoiseID</code> Static noise effect with identity reveal"},{"location":"templates/#ranking-templates","title":"Ranking Templates","text":"<p>Display top lists with engaging animations.</p> Template Description <code>StackClimb</code> Items stack and climb upward <code>SlotMachine</code> Slot machine-style rolling reveal <code>TheSpotlight</code> Items step into a spotlight <code>PerspectiveLadder</code> 3D perspective ladder effect <code>FloatingPolaroids</code> Polaroid photos floating in space"},{"location":"templates/#data-visualization-templates","title":"Data Visualization Templates","text":"<p>Present statistics and metrics with visual impact.</p> Template Description <code>OrbitalMetrics</code> Orbital rings displaying data points <code>TheGrowthTree</code> Tree growing with data branches <code>LiquidMinutes</code> Liquid fill representing time <code>FrequencyGlow</code> Audio frequency visualization <code>BinaryRain</code> Matrix-style binary data rain"},{"location":"templates/#collage-templates","title":"Collage Templates","text":"<p>Multi-image layouts for showcasing collections.</p> Template Description <code>TheGridShuffle</code> Grid of images that shuffle and reveal <code>SplitPersonality</code> Split-screen image comparison <code>MosaicReveal</code> Mosaic tiles revealing an image <code>BentoRecap</code> Bento box grid layout <code>TriptychScroll</code> Three-panel horizontal scroll"},{"location":"templates/#thematic-templates","title":"Thematic Templates","text":"<p>Mood-setting visual experiences.</p> Template Description <code>LofiWindow</code> Lofi aesthetic with window scene <code>GlitchReality</code> Digital glitch effects <code>RetroPostcard</code> Vintage postcard aesthetic <code>Kaleidoscope</code> Kaleidoscopic pattern generation <code>MinimalistBeat</code> Minimal design with beat sync"},{"location":"templates/#conclusion-templates","title":"Conclusion Templates","text":"<p>Endings that leave a lasting impression.</p> Template Description <code>ParticleFarewell</code> Particle explosion farewell <code>TheSignature</code> Signature-style ending <code>TheSummaryPoster</code> Summary poster layout <code>TheInfinityLoop</code> Infinity symbol animation <code>WrappedReceipt</code> Receipt-style summary"},{"location":"templates/#data-models","title":"Data Models","text":"<p>Each template category has a corresponding data model:</p> <pre><code>// Intro templates\nIntroData(\n  title: 'Your 2024',\n  subtitle: 'Wrapped',\n  year: 2024,\n  username: 'optional_user',\n)\n\n// Ranking templates\nRankingData(\n  title: 'Top Artists',\n  items: [\n    RankingItem(rank: 1, title: 'Name', subtitle: 'Details', imageUrl: 'url'),\n  ],\n)\n\n// Data viz templates\nMetricsData(\n  title: 'Your Stats',\n  metrics: [\n    Metric(label: 'Hours', value: 1234),\n    Metric(label: 'Songs', value: 5678),\n  ],\n)\n\n// Collage templates\nCollageData(\n  images: ['url1', 'url2', 'url3'],\n  title: 'Your Moments',\n)\n\n// Thematic templates\nThematicData(\n  mood: 'chill',\n  primaryColor: Colors.purple,\n)\n\n// Conclusion templates\nSummaryData(\n  message: 'Until next time!',\n  year: 2024,\n  stats: {'songs': 1000, 'artists': 50},\n)\n</code></pre>"},{"location":"templates/#customization","title":"Customization","text":""},{"location":"templates/#theming","title":"Theming","text":"<p>All templates support theme customization:</p> <pre><code>TheNeonGate(\n  data: introData,\n  theme: TemplateTheme(\n    primaryColor: Colors.purple,\n    secondaryColor: Colors.pink,\n    backgroundColor: Colors.black,\n    textStyle: TextStyle(\n      fontFamily: 'CustomFont',\n      color: Colors.white,\n    ),\n    accentGradient: LinearGradient(\n      colors: [Colors.purple, Colors.pink],\n    ),\n  ),\n)\n</code></pre>"},{"location":"templates/#timing","title":"Timing","text":"<p>Customize animation timing:</p> <pre><code>TheNeonGate(\n  data: introData,\n  timing: TemplateTiming(\n    entryDuration: 30,  // frames\n    holdDuration: 60,\n    exitDuration: 30,\n    staggerDelay: 5,\n  ),\n)\n</code></pre>"},{"location":"templates/#scene-options","title":"Scene Options","text":"<p>Use helper methods for common scene configurations:</p> <pre><code>// With cross-fade transitions\nmyTemplate.toSceneWithCrossFade(fadeDuration: 15)\n\n// With slide transitions\nmyTemplate.toSceneWithSlide(\n  direction: TransitionSlideDirection.left,\n  slideDuration: 20,\n)\n\n// Custom scene configuration\nmyTemplate.toScene(\n  durationInFrames: 150,  // override recommended length\n  fadeInFrames: 10,\n  fadeOutFrames: 10,\n  transitionIn: SceneTransition.crossFade(durationInFrames: 15),\n)\n</code></pre>"},{"location":"templates/#creating-custom-templates","title":"Creating Custom Templates","text":""},{"location":"templates/#basic-template-structure","title":"Basic Template Structure","text":"<pre><code>import 'package:fluvie/declarative.dart';\n\nclass MyCustomTemplate extends WrappedTemplate with TemplateAnimationMixin {\n  const MyCustomTemplate({\n    super.key,\n    required super.data,\n    super.theme,\n    super.timing,\n  });\n\n  @override\n  int get recommendedLength =&gt; 120;  // 4 seconds at 30fps\n\n  @override\n  TemplateCategory get category =&gt; TemplateCategory.intro;\n\n  @override\n  String get description =&gt; 'My custom intro template';\n\n  @override\n  Widget build(BuildContext context) {\n    final introData = data as IntroData;\n    final colors = effectiveTheme;\n    final timing = effectiveTiming;\n\n    return TimeConsumer(\n      builder: (context, frame, _) {\n        final entryProgress = calculateEntryProgress(\n          frame,\n          0,\n          timing.entryDuration,\n        );\n\n        return Container(\n          color: colors.backgroundColor,\n          child: Center(\n            child: Opacity(\n              opacity: entryProgress,\n              child: Text(\n                introData.title,\n                style: colors.textStyle,\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"templates/#using-animation-helpers","title":"Using Animation Helpers","text":"<p>The <code>TemplateAnimationMixin</code> provides helper methods:</p> <pre><code>// Entry animation (0 to 1)\nfinal entryProgress = calculateEntryProgress(\n  frame,      // current frame\n  startFrame, // when animation starts\n  duration,   // animation duration in frames\n  Curves.easeOutCubic,  // optional curve\n);\n\n// Exit animation (0 to 1)\nfinal exitProgress = calculateExitProgress(\n  frame,\n  exitStart,\n  duration,\n  Curves.easeInCubic,\n);\n\n// Combined opacity\nfinal opacity = calculateOpacity(entryProgress, exitProgress);\n\n// Staggered timing\nfinal elementStart = staggeredStartFrame(baseStart, elementIndex);\n</code></pre>"},{"location":"templates/#template-data-contract","title":"Template Data Contract","text":"<p>Create a custom data class:</p> <pre><code>class MyTemplateData extends TemplateData {\n  final String title;\n  final List&lt;String&gt; items;\n  final Color? accentColor;\n\n  const MyTemplateData({\n    required this.title,\n    required this.items,\n    this.accentColor,\n  });\n}\n</code></pre>"},{"location":"templates/#best-practices","title":"Best Practices","text":"<ol> <li>Use recommended lengths: Each template has a <code>recommendedLength</code> optimized for its animations</li> <li>Respect timing: Use <code>effectiveTiming</code> to ensure consistent animation feel</li> <li>Theme consistency: Use <code>effectiveTheme</code> to respect user customizations</li> <li>Test transitions: Verify your templates work well with various scene transitions</li> <li>Document requirements: Specify required assets in <code>requiredAssets</code> getter</li> </ol>"},{"location":"templates/#performance-tips","title":"Performance Tips","text":"<ul> <li>Templates use <code>RepaintBoundary</code> automatically for efficient rendering</li> <li>Use <code>TimeConsumer</code> for frame-based animations</li> <li>Prefer <code>Fade</code> widgets over <code>Opacity</code> with <code>saveLayer</code> artifacts</li> <li>Keep particle counts reasonable for mobile performance</li> </ul>"},{"location":"time_consumer_guide/","title":"TimeConsumer Guide","text":"<p>TimeConsumer is the core frame-based animation primitive in Fluvie. While most users will use the higher-level declarative widgets like <code>AnimatedProp</code>, <code>FrameAnimatedPositioned</code>, and <code>Stagger</code>, TimeConsumer provides direct access to the frame-based timeline for power users who need complete control.</p>"},{"location":"time_consumer_guide/#when-to-use-timeconsumer","title":"When to Use TimeConsumer","text":"<p>Use TimeConsumer when you need:</p> <ul> <li>Custom animation curves not available in PropAnimation</li> <li>Complex multi-property animations with interdependent values</li> <li>Physics-based animations that depend on current state</li> <li>Procedural animations like particles or generative graphics</li> <li>Frame-perfect synchronization with audio or video</li> </ul> <p>For simpler animations, prefer the declarative alternatives:</p> Task Recommended Widget Fade in/out <code>AnimatedProp.fadeIn()</code> Slide animations <code>AnimatedProp.slideUp()</code> Entry/exit on positioned elements <code>FrameAnimatedPositioned</code> Staggered child animations <code>Stagger</code> Combined animations <code>AnimatedProp</code> with <code>PropAnimation.combine()</code>"},{"location":"time_consumer_guide/#basic-usage","title":"Basic Usage","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // frame: Current frame number (0 to durationInFrames-1)\n    // progress: Normalized progress 0.0 to 1.0\n\n    return Opacity(\n      opacity: progress,\n      child: Text('Fading in...'),\n    );\n  },\n)\n</code></pre>"},{"location":"time_consumer_guide/#understanding-frame-vs-progress","title":"Understanding Frame vs Progress","text":"<ul> <li>frame: The absolute frame number in the composition timeline (integer)</li> <li>progress: The normalized progress from 0.0 to 1.0 across the entire composition</li> </ul> <pre><code>// Example: 90-frame composition at 30fps = 3 seconds\n// At frame 45:\n//   frame = 45\n//   progress = 0.5 (halfway through)\n</code></pre>"},{"location":"time_consumer_guide/#calculating-local-progress","title":"Calculating Local Progress","text":"<p>Often you want an animation to run within a specific frame range:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    const startFrame = 30;\n    const duration = 60;\n    const endFrame = startFrame + duration;\n\n    // Calculate local progress (0.0 to 1.0) for this animation\n    double localProgress;\n    if (frame &lt; startFrame) {\n      localProgress = 0.0;\n    } else if (frame &gt;= endFrame) {\n      localProgress = 1.0;\n    } else {\n      localProgress = (frame - startFrame) / duration;\n    }\n\n    // Apply easing curve\n    final easedProgress = Curves.easeOutCubic.transform(localProgress);\n\n    // Use the progress\n    return Transform.translate(\n      offset: Offset(0, 100 * (1 - easedProgress)),\n      child: child,\n    );\n  },\n)\n</code></pre>"},{"location":"time_consumer_guide/#integration-with-animationcontext","title":"Integration with AnimationContext","text":"<p>When TimeConsumer is inside an <code>AnimatedPositioned</code> or other context-providing widget, you can access parent timing information:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    final animContext = AnimationContext.of(context);\n\n    if (animContext != null) {\n      // Get the frame when parent's entry animation completes\n      final parentEntryComplete = animContext.entryCompleteFrame;\n\n      // Calculate timing relative to parent\n      final effectiveStart = animContext.effectiveStartFrame(\n        offsetFrames: 10,  // Start 10 frames after parent entry\n        afterParentEntry: true,\n      );\n    }\n\n    // ... animation logic\n  },\n)\n</code></pre>"},{"location":"time_consumer_guide/#common-patterns","title":"Common Patterns","text":""},{"location":"time_consumer_guide/#ping-pong-animation","title":"Ping-Pong Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    const duration = 30;\n\n    // Create a ping-pong effect\n    final cycle = (frame % (duration * 2));\n    double progress;\n    if (cycle &lt; duration) {\n      progress = cycle / duration;\n    } else {\n      progress = 1.0 - (cycle - duration) / duration;\n    }\n\n    return Transform.scale(\n      scale: 0.5 + (0.5 * progress),\n      child: child,\n    );\n  },\n)\n</code></pre>"},{"location":"time_consumer_guide/#staggered-elements","title":"Staggered Elements","text":"<pre><code>Widget buildStaggeredItems(List&lt;Widget&gt; items) {\n  return TimeConsumer(\n    builder: (context, frame, _) {\n      return Stack(\n        children: items.asMap().entries.map((entry) {\n          final index = entry.key;\n          final child = entry.value;\n\n          // Each item starts 5 frames after the previous\n          final itemStart = index * 5;\n          final itemDuration = 20;\n\n          double opacity;\n          if (frame &lt; itemStart) {\n            opacity = 0.0;\n          } else if (frame &gt;= itemStart + itemDuration) {\n            opacity = 1.0;\n          } else {\n            opacity = (frame - itemStart) / itemDuration;\n          }\n\n          return Opacity(\n            opacity: Curves.easeOut.transform(opacity),\n            child: child,\n          );\n        }).toList(),\n      );\n    },\n  );\n}\n</code></pre>"},{"location":"time_consumer_guide/#physics-based-motion","title":"Physics-Based Motion","text":"<pre><code>class BouncingBall extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, frame, _) {\n        // Simple gravity simulation\n        final t = frame / 30.0; // Time in seconds\n        final gravity = 500.0;\n        final initialVelocity = -300.0;\n\n        // y = v0*t + 0.5*g*t^2 (with bounce)\n        var y = initialVelocity * t + 0.5 * gravity * t * t;\n\n        // Bounce when hitting the ground\n        final groundY = 400.0;\n        if (y &gt; groundY) {\n          y = groundY - (y - groundY) * 0.7; // Damped bounce\n        }\n\n        return Positioned(\n          left: 100,\n          top: y,\n          child: Container(\n            width: 50,\n            height: 50,\n            decoration: BoxDecoration(\n              color: Colors.red,\n              shape: BoxShape.circle,\n            ),\n          ),\n        );\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"time_consumer_guide/#conditional-visibility","title":"Conditional Visibility","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    // Only visible between frames 30 and 90\n    if (frame &lt; 30 || frame &gt;= 90) {\n      return const SizedBox.shrink();\n    }\n\n    return child;\n  },\n)\n</code></pre>"},{"location":"time_consumer_guide/#performance-tips","title":"Performance Tips","text":"<ol> <li> <p>Avoid heavy computations in builder: The builder is called every frame. Cache expensive calculations.</p> </li> <li> <p>Use const widgets: Mark child widgets as <code>const</code> when possible.</p> </li> <li> <p>Minimize rebuilds: Only return new widget instances when values actually change.</p> </li> </ol> <pre><code>// Good: Reuse widget when opacity hasn't changed\nTimeConsumer(\n  builder: (context, frame, _) {\n    final opacity = _calculateOpacity(frame);\n\n    // Only create new Opacity if value changed\n    if (opacity == _lastOpacity) {\n      return _cachedWidget!;\n    }\n\n    _lastOpacity = opacity;\n    _cachedWidget = Opacity(\n      opacity: opacity,\n      child: const ExpensiveWidget(),\n    );\n    return _cachedWidget!;\n  },\n)\n</code></pre>"},{"location":"time_consumer_guide/#frameprovider","title":"FrameProvider","text":"<p>TimeConsumer reads frame data from a <code>FrameProvider</code> ancestor. This is automatically set up by <code>VideoComposition</code> and <code>RenderableComposition</code>. For testing or custom setups:</p> <pre><code>FrameProvider(\n  frame: 45,  // Set the current frame\n  child: TimeConsumer(\n    builder: (context, frame, _) {\n      // frame will be 45\n      return Text('Frame: $frame');\n    },\n  ),\n)\n</code></pre>"},{"location":"time_consumer_guide/#related-widgets","title":"Related Widgets","text":"<ul> <li>AnimatedProp: Declarative animations with PropAnimation</li> <li>FrameAnimatedPositioned: Positioned widget with entry/exit animations</li> <li>Stagger: Automatic staggering of child animations</li> <li>AnimationContext: Access parent timing information</li> <li>SyncAnchor: Mark sync points for cross-element coordination</li> </ul>"},{"location":"widgets/","title":"Fluvie Widget Reference","text":"<p>Complete reference for all Fluvie widgets and their properties.</p>"},{"location":"widgets/#core-widgets","title":"Core Widgets","text":""},{"location":"widgets/#videocomposition","title":"VideoComposition","text":"<p>The root widget that defines video properties. Must wrap all video content.</p> <pre><code>VideoComposition(\n  fps: 30,                    // Frame rate\n  durationInFrames: 150,      // Total duration in frames\n  width: 1920,                // Video width in pixels\n  height: 1080,               // Video height in pixels\n  child: MyContent(),\n)\n</code></pre> <p>Properties: | Property | Type | Description | |----------|------|-------------| | <code>fps</code> | <code>int</code> | Frame rate (frames per second) | | <code>durationInFrames</code> | <code>int</code> | Total video duration in frames | | <code>width</code> | <code>int</code> | Video width in pixels | | <code>height</code> | <code>int</code> | Video height in pixels | | <code>child</code> | <code>Widget</code> | Content to render |</p> <p>Static Methods: - <code>VideoComposition.of(context)</code> - Access composition from descendant widgets</p>"},{"location":"widgets/#sequence","title":"Sequence","text":"<p>A time-bounded content container. Content is visible within the specified frame range.</p> <pre><code>Sequence(\n  startFrame: 0,\n  durationInFrames: 90,\n  child: MyContent(),\n)\n</code></pre> <p>Properties: | Property | Type | Description | |----------|------|-------------| | <code>startFrame</code> | <code>int</code> | First frame where content is visible | | <code>durationInFrames</code> | <code>int</code> | How many frames content is visible | | <code>child</code> | <code>Widget</code> | Content to display |</p>"},{"location":"widgets/#timeconsumer","title":"TimeConsumer","text":"<p>Provides access to the current frame for animations. Rebuilds on every frame.</p> <pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // frame: current frame number (int)\n    // progress: 0.0 to 1.0 within parent sequence\n    return Opacity(opacity: progress, child: Text('Hello'));\n  },\n)\n</code></pre> <p>Builder Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>context</code> | <code>BuildContext</code> | Build context | | <code>frame</code> | <code>int</code> | Current frame number | | <code>progress</code> | <code>double</code> | Progress 0.0-1.0 within parent |</p>"},{"location":"widgets/#layer-system","title":"Layer System","text":""},{"location":"widgets/#layer","title":"Layer","text":"<p>A single layer with time-based visibility and fade transitions.</p> <pre><code>Layer(\n  id: 'title',\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  fadeOutFrames: 15,\n  opacity: 1.0,\n  blendMode: BlendMode.srcOver,\n  zIndex: 0,\n  child: TitleWidget(),\n)\n</code></pre> <p>Properties: | Property | Type | Default | Description | |----------|------|---------|-------------| | <code>id</code> | <code>String?</code> | <code>null</code> | Optional identifier for debugging | | <code>child</code> | <code>Widget</code> | required | Layer content | | <code>startFrame</code> | <code>int?</code> | <code>null</code> | Frame when layer becomes visible | | <code>endFrame</code> | <code>int?</code> | <code>null</code> | Frame when layer becomes invisible | | <code>fadeInFrames</code> | <code>int</code> | <code>0</code> | Duration of fade-in transition | | <code>fadeOutFrames</code> | <code>int</code> | <code>0</code> | Duration of fade-out transition | | <code>opacity</code> | <code>double</code> | <code>1.0</code> | Base opacity (0.0-1.0) | | <code>blendMode</code> | <code>BlendMode</code> | <code>srcOver</code> | Compositing blend mode | | <code>enabled</code> | <code>bool</code> | <code>true</code> | Whether layer is rendered | | <code>zIndex</code> | <code>int?</code> | <code>null</code> | Z-ordering (higher = on top) | | <code>fadeInCurve</code> | <code>Curve</code> | <code>easeOut</code> | Easing for fade-in | | <code>fadeOutCurve</code> | <code>Curve</code> | <code>easeIn</code> | Easing for fade-out | | <code>transform</code> | <code>Matrix4?</code> | <code>null</code> | Transform matrix | | <code>transformAlignment</code> | <code>AlignmentGeometry</code> | <code>center</code> | Transform origin |</p> <p>Factory Constructors:</p> <pre><code>// Background layer with zIndex -1000\nLayer.background(child: Background())\n\n// Overlay layer with zIndex 1000\nLayer.overlay(child: Watermark())\n</code></pre>"},{"location":"widgets/#layerstack","title":"LayerStack","text":"<p>Container for Layer widgets with z-index sorting.</p> <pre><code>LayerStack(\n  children: [\n    Layer.background(child: Background()),\n    Layer(startFrame: 30, child: Content()),\n    Layer.overlay(child: Watermark()),\n  ],\n)\n</code></pre> <p>Properties: | Property | Type | Description | |----------|------|-------------| | <code>children</code> | <code>List&lt;Widget&gt;</code> | Layer widgets to stack |</p> <p>Behavior: - Sorts children by <code>zIndex</code> if specified - Preserves original order for equal z-indices - Non-Layer widgets are passed through unchanged</p>"},{"location":"widgets/#animatedlayer","title":"AnimatedLayer","text":"<p>A Layer with built-in TimeConsumer for simplified animations.</p> <pre><code>AnimatedLayer(\n  startFrame: 0,\n  endFrame: 60,\n  builder: (context, frame, progress) {\n    return Transform.scale(\n      scale: 1.0 + progress * 0.5,\n      child: Text('Growing'),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/#specialized-sequences","title":"Specialized Sequences","text":""},{"location":"widgets/#videosequence","title":"VideoSequence","text":"<p>Embeds an external video file with trimming support.</p> <pre><code>VideoSequence(\n  assetPath: 'assets/clip.mp4',\n  startFrame: 0,\n  durationInFrames: 90,\n  trimStartFrame: 30,    // Skip first 30 frames of source\n  trimDurationInFrames: 90,\n)\n</code></pre> <p>Properties: | Property | Type | Description | |----------|------|-------------| | <code>assetPath</code> | <code>String</code> | Path to video file | | <code>startFrame</code> | <code>int</code> | When to start in composition | | <code>durationInFrames</code> | <code>int</code> | How long to show | | <code>trimStartFrame</code> | <code>int</code> | Source video start offset | | <code>trimDurationInFrames</code> | <code>int</code> | Source video duration to use |</p>"},{"location":"widgets/#textsequence","title":"TextSequence","text":"<p>Renders styled text within a time range.</p> <pre><code>TextSequence(\n  text: 'Hello World',\n  startFrame: 0,\n  durationInFrames: 60,\n  style: TextStyle(fontSize: 48, color: Colors.white),\n)\n</code></pre>"},{"location":"widgets/#audio","title":"Audio","text":""},{"location":"widgets/#audiotrack","title":"AudioTrack","text":"<p>Adds an audio track to the video.</p> <pre><code>AudioTrack(\n  source: AudioSource.asset('audio/music.mp3'),\n  startFrame: 0,\n  durationInFrames: 300,\n  trimStartFrame: 0,\n  trimEndFrame: 300,\n  volume: 0.8,\n  fadeInFrames: 30,\n  fadeOutFrames: 30,\n  loop: false,\n)\n</code></pre> <p>Properties: | Property | Type | Default | Description | |----------|------|---------|-------------| | <code>source</code> | <code>AudioSource</code> | required | Audio source | | <code>startFrame</code> | <code>int</code> | required | When audio starts | | <code>durationInFrames</code> | <code>int</code> | required | Audio duration | | <code>trimStartFrame</code> | <code>int</code> | <code>0</code> | Source audio start offset | | <code>trimEndFrame</code> | <code>int?</code> | <code>null</code> | Source audio end | | <code>volume</code> | <code>double</code> | <code>1.0</code> | Volume (0.0-1.0) | | <code>fadeInFrames</code> | <code>int</code> | <code>0</code> | Fade-in duration | | <code>fadeOutFrames</code> | <code>int</code> | <code>0</code> | Fade-out duration | | <code>loop</code> | <code>bool</code> | <code>false</code> | Whether to loop |</p>"},{"location":"widgets/#audiosource","title":"AudioSource","text":"<p>Defines where audio comes from.</p> <pre><code>// From asset\nAudioSource.asset('audio/music.mp3')\n\n// From file path\nAudioSource.file('/path/to/audio.mp3')\n\n// From URL\nAudioSource.url('https://example.com/audio.mp3')\n</code></pre>"},{"location":"widgets/#backgroundaudio","title":"BackgroundAudio","text":"<p>Simplified audio for background music spanning the whole video.</p> <pre><code>BackgroundAudio(\n  source: AudioSource.asset('audio/bg.mp3'),\n  volume: 0.5,\n)\n</code></pre>"},{"location":"widgets/#transitions","title":"Transitions","text":""},{"location":"widgets/#crossfadetransition","title":"CrossFadeTransition","text":"<p>Smoothly fades between two widgets.</p> <pre><code>CrossFadeTransition(\n  startFrame: 60,\n  durationInFrames: 30,\n  child1: FirstWidget(),\n  child2: SecondWidget(),\n  curve: Curves.easeInOut,\n)\n</code></pre> <p>Properties: | Property | Type | Description | |----------|------|-------------| | <code>startFrame</code> | <code>int</code> | When transition begins | | <code>durationInFrames</code> | <code>int</code> | Transition duration | | <code>child1</code> | <code>Widget</code> | Widget to fade out | | <code>child2</code> | <code>Widget</code> | Widget to fade in | | <code>curve</code> | <code>Curve</code> | Animation curve |</p>"},{"location":"widgets/#layout","title":"Layout","text":""},{"location":"widgets/#collagetemplate","title":"CollageTemplate","text":"<p>Pre-defined layout templates.</p> <pre><code>CollageTemplate.splitScreen(\n  children: [\n    LeftContent(),\n    RightContent(),\n  ],\n)\n</code></pre>"},{"location":"widgets/#utilities","title":"Utilities","text":""},{"location":"widgets/#interpolate","title":"interpolate","text":"<p>Keyframe-based value interpolation.</p> <pre><code>final value = interpolate(\n  frame,                     // Current frame\n  [0, 30, 60],              // Input keyframes\n  [0.0, 100.0, 50.0],       // Output values\n  curve: Curves.easeInOut,   // Optional easing\n  extrapolate: false,        // Clamp to range\n);\n</code></pre>"},{"location":"widgets/#lerpvalue","title":"lerpValue","text":"<p>Simple two-value interpolation.</p> <pre><code>final opacity = lerpValue(\n  progress,           // 0.0 to 1.0\n  0.0,               // Start value\n  1.0,               // End value\n  curve: Curves.easeIn,\n);\n</code></pre>"},{"location":"widgets/#migration-from-v001","title":"Migration from v0.0.1","text":"<p>The following widgets have been renamed:</p> Old Name New Name <code>Clip</code> <code>Sequence</code> <code>VideoClip</code> <code>VideoSequence</code> <code>TextClip</code> <code>TextSequence</code> <p>Audio time parameters now use frames instead of milliseconds:</p> Old Parameter New Parameter <code>trimStartMs</code> <code>trimStartFrame</code> <code>trimEndMs</code> <code>trimEndFrame</code>"},{"location":"advanced/","title":"Advanced Features","text":"<p>Deep dives into Fluvie's advanced capabilities</p> <p>This section covers advanced topics for users who want to fine-tune rendering, synchronize audio with visuals, optimize performance, or customize the rendering pipeline.</p>"},{"location":"advanced/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Topics</li> <li>When You Need Advanced Features</li> <li>Related</li> </ul>"},{"location":"advanced/#topics","title":"Topics","text":"Guide Description Encoding Settings Quality, format, and compression options Sync Anchors Precise audio-visual synchronization Custom Render Pipeline Customizing the rendering process Frame Extraction Extracting frames from video files Performance Tips Optimization strategies"},{"location":"advanced/#when-you-need-advanced-features","title":"When You Need Advanced Features","text":""},{"location":"advanced/#encoding-settings","title":"Encoding Settings","text":"<p>Use when you need to: - Adjust video quality vs file size - Export in specific formats - Control compression settings - Debug rendering issues</p>"},{"location":"advanced/#sync-anchors","title":"Sync Anchors","text":"<p>Use when you need to: - Sync animations to beat drops - Align visuals with specific audio moments - Create music-reactive content - Ensure frame-perfect timing</p>"},{"location":"advanced/#custom-render-pipeline","title":"Custom Render Pipeline","text":"<p>Use when you need to: - Pre-process or post-process frames - Integrate with external services - Create custom progress reporting - Handle special output formats</p>"},{"location":"advanced/#frame-extraction","title":"Frame Extraction","text":"<p>Use when you need to: - Extract thumbnails from videos - Create video preview images - Analyze video content - Build video editing features</p>"},{"location":"advanced/#performance-tips","title":"Performance Tips","text":"<p>Use when you need to: - Render faster - Reduce memory usage - Handle large compositions - Optimize for production</p>"},{"location":"advanced/#quick-tips","title":"Quick Tips","text":""},{"location":"advanced/#quality-vs-speed","title":"Quality vs Speed","text":"<pre><code>// Fast preview quality\nRenderQuality.preview  // Lower quality, faster\n\n// Balanced\nRenderQuality.standard  // Good quality, reasonable speed\n\n// Maximum quality\nRenderQuality.high  // Best quality, slower\n</code></pre>"},{"location":"advanced/#memory-management","title":"Memory Management","text":"<ul> <li>Use <code>saveLayer</code> sparingly (prefer Fluvie's <code>Fade</code> widgets)</li> <li>Match image resolutions to output size</li> <li>Pre-trim videos before embedding</li> <li>Clear caches between renders</li> </ul>"},{"location":"advanced/#debugging","title":"Debugging","text":"<p>Enable debug frames to inspect individual frames:</p> <pre><code>EncodingConfig(\n  debugOutputFrames: true,  // Saves individual frame PNGs\n)\n</code></pre>"},{"location":"advanced/#related","title":"Related","text":"<ul> <li>Concept: Rendering Pipeline</li> <li>Concept: Two Modes</li> <li>ONLY_SERVER_MODE</li> </ul>"},{"location":"advanced/custom-render-pipeline/","title":"Custom Render Pipeline","text":"<p>Customizing the rendering process</p> <p>For advanced use cases, Fluvie allows you to customize various aspects of the rendering pipeline.</p>"},{"location":"advanced/custom-render-pipeline/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>RenderService</li> <li>Progress Tracking</li> <li>Custom Frame Processing</li> <li>Batch Rendering</li> <li>Integration Patterns</li> </ul>"},{"location":"advanced/custom-render-pipeline/#overview","title":"Overview","text":"<p>The rendering pipeline consists of:</p> <ol> <li>Frame Sequencing: Capturing each frame as an image</li> <li>Frame Processing: Optional post-processing</li> <li>Video Encoding: FFmpeg assembles frames into video</li> <li>Audio Mixing: Audio tracks are mixed in</li> </ol> <p>You can customize each stage for specific needs.</p>"},{"location":"advanced/custom-render-pipeline/#renderservice","title":"RenderService","text":"<p>The <code>RenderService</code> class orchestrates rendering:</p> <pre><code>await RenderService.execute(\n  composition: video,\n  outputPath: 'output.mp4',\n  settings: EncodingConfig.standard(),\n  tester: tester,  // WidgetTester in test environment\n  onProgress: (progress) {\n    print('Rendering: ${(progress * 100).toStringAsFixed(1)}%');\n  },\n);\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#execute-parameters","title":"Execute Parameters","text":"Parameter Type Description <code>composition</code> <code>Video</code> The video composition to render <code>outputPath</code> <code>String</code> Output file path <code>settings</code> <code>EncodingConfig</code> Encoding configuration <code>tester</code> <code>WidgetTester</code> Flutter test helper <code>onProgress</code> <code>Function(double)?</code> Progress callback (0.0-1.0) <code>onFrameCapture</code> <code>Function(int, Uint8List)?</code> Per-frame callback"},{"location":"advanced/custom-render-pipeline/#progress-tracking","title":"Progress Tracking","text":""},{"location":"advanced/custom-render-pipeline/#basic-progress","title":"Basic Progress","text":"<pre><code>await RenderService.execute(\n  composition: video,\n  outputPath: 'output.mp4',\n  onProgress: (progress) {\n    final percent = (progress * 100).toStringAsFixed(1);\n    print('Progress: $percent%');\n  },\n);\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#detailed-progress","title":"Detailed Progress","text":"<pre><code>int currentFrame = 0;\nfinal totalFrames = video.totalFrames;\n\nawait RenderService.execute(\n  composition: video,\n  outputPath: 'output.mp4',\n  onProgress: (progress) {\n    currentFrame = (progress * totalFrames).round();\n\n    // Estimate time remaining\n    final elapsed = stopwatch.elapsedMilliseconds;\n    final framesRemaining = totalFrames - currentFrame;\n    final msPerFrame = elapsed / currentFrame;\n    final estimatedRemaining = Duration(\n      milliseconds: (framesRemaining * msPerFrame).round(),\n    );\n\n    print('Frame $currentFrame/$totalFrames - ETA: $estimatedRemaining');\n  },\n);\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#ui-progress","title":"UI Progress","text":"<pre><code>class RenderProgressWidget extends StatefulWidget {\n  final Video video;\n  final String outputPath;\n\n  @override\n  State&lt;RenderProgressWidget&gt; createState() =&gt; _RenderProgressWidgetState();\n}\n\nclass _RenderProgressWidgetState extends State&lt;RenderProgressWidget&gt; {\n  double _progress = 0.0;\n  bool _isRendering = false;\n\n  Future&lt;void&gt; _startRender() async {\n    setState(() =&gt; _isRendering = true);\n\n    await RenderService.execute(\n      composition: widget.video,\n      outputPath: widget.outputPath,\n      onProgress: (progress) {\n        setState(() =&gt; _progress = progress);\n      },\n    );\n\n    setState(() =&gt; _isRendering = false);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        LinearProgressIndicator(value: _progress),\n        Text('${(_progress * 100).toStringAsFixed(0)}%'),\n        ElevatedButton(\n          onPressed: _isRendering ? null : _startRender,\n          child: Text(_isRendering ? 'Rendering...' : 'Start Render'),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#custom-frame-processing","title":"Custom Frame Processing","text":""},{"location":"advanced/custom-render-pipeline/#per-frame-callback","title":"Per-Frame Callback","text":"<p>Access each frame as it's captured:</p> <pre><code>await RenderService.execute(\n  composition: video,\n  outputPath: 'output.mp4',\n  onFrameCapture: (frameNumber, imageBytes) {\n    // imageBytes is PNG or raw RGBA data\n\n    // Example: Save specific frames\n    if (frameNumber % 30 == 0) {\n      File('thumbnails/frame_$frameNumber.png')\n        .writeAsBytesSync(imageBytes);\n    }\n  },\n);\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#frame-transformation","title":"Frame Transformation","text":"<p>For custom frame processing, you can:</p> <ol> <li>Capture frames to a temp directory</li> <li>Process frames with custom code</li> <li>Encode processed frames</li> </ol> <pre><code>// Step 1: Capture frames\nfinal tempDir = await Directory.systemTemp.createTemp('frames_');\n\nawait RenderService.execute(\n  composition: video,\n  outputPath: tempDir.path,  // Output to directory\n  settings: EncodingConfig(\n    debugOutputFrames: true,  // Save individual frames\n    frameFormat: FrameFormat.png,\n  ),\n);\n\n// Step 2: Process frames\nfor (final file in tempDir.listSync().whereType&lt;File&gt;()) {\n  final image = img.decodeImage(file.readAsBytesSync())!;\n\n  // Apply custom processing\n  final processed = applyCustomFilter(image);\n\n  file.writeAsBytesSync(img.encodePng(processed));\n}\n\n// Step 3: Encode processed frames\nawait FFmpegService.encodeFrames(\n  inputPath: '${tempDir.path}/frame_%04d.png',\n  outputPath: 'output.mp4',\n  fps: 30,\n);\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#batch-rendering","title":"Batch Rendering","text":""},{"location":"advanced/custom-render-pipeline/#sequential-batch","title":"Sequential Batch","text":"<pre><code>Future&lt;void&gt; renderBatch(List&lt;VideoConfig&gt; configs) async {\n  for (var i = 0; i &lt; configs.length; i++) {\n    final config = configs[i];\n    print('Rendering ${i + 1}/${configs.length}: ${config.name}');\n\n    final video = createVideo(config);\n\n    await RenderService.execute(\n      composition: video,\n      outputPath: 'output/${config.name}.mp4',\n      onProgress: (p) =&gt; print('  ${(p * 100).toStringAsFixed(0)}%'),\n    );\n  }\n}\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#parallel-batch-advanced","title":"Parallel Batch (Advanced)","text":"<p>For multi-core systems, render in parallel:</p> <pre><code>import 'dart:isolate';\n\nFuture&lt;void&gt; renderParallel(List&lt;VideoConfig&gt; configs) async {\n  final futures = configs.map((config) async {\n    // Each render in separate isolate\n    await Isolate.run(() async {\n      final video = createVideo(config);\n      await RenderService.execute(\n        composition: video,\n        outputPath: 'output/${config.name}.mp4',\n      );\n    });\n  });\n\n  await Future.wait(futures);\n}\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#integration-patterns","title":"Integration Patterns","text":""},{"location":"advanced/custom-render-pipeline/#cicd-integration","title":"CI/CD Integration","text":"<pre><code>// ci_render.dart\nvoid main() async {\n  final video = createVideo();\n\n  final stopwatch = Stopwatch()..start();\n\n  await RenderService.execute(\n    composition: video,\n    outputPath: 'output/video.mp4',\n    settings: EncodingConfig(quality: RenderQuality.high),\n    onProgress: (p) {\n      // CI-friendly progress\n      print('##[progress]${(p * 100).round()}');\n    },\n  );\n\n  print('Render completed in ${stopwatch.elapsed}');\n  exit(0);\n}\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#api-integration","title":"API Integration","text":"<pre><code>// Render as a service\nclass RenderController {\n  Future&lt;String&gt; renderVideo(RenderRequest request) async {\n    final video = buildVideoFromRequest(request);\n    final outputPath = '${tempDir}/${uuid()}.mp4';\n\n    await RenderService.execute(\n      composition: video,\n      outputPath: outputPath,\n      onProgress: (p) {\n        // Update job status in database\n        updateJobProgress(request.jobId, p);\n      },\n    );\n\n    // Upload to storage\n    final url = await uploadToStorage(outputPath);\n\n    // Cleanup\n    File(outputPath).deleteSync();\n\n    return url;\n  }\n}\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#queue-based-rendering","title":"Queue-Based Rendering","text":"<pre><code>class RenderQueue {\n  final _queue = &lt;RenderJob&gt;[];\n  bool _isProcessing = false;\n\n  void enqueue(RenderJob job) {\n    _queue.add(job);\n    _processNext();\n  }\n\n  Future&lt;void&gt; _processNext() async {\n    if (_isProcessing || _queue.isEmpty) return;\n    _isProcessing = true;\n\n    final job = _queue.removeAt(0);\n    job.status = JobStatus.rendering;\n\n    try {\n      await RenderService.execute(\n        composition: job.video,\n        outputPath: job.outputPath,\n        onProgress: (p) =&gt; job.progress = p,\n      );\n      job.status = JobStatus.completed;\n    } catch (e) {\n      job.status = JobStatus.failed;\n      job.error = e.toString();\n    }\n\n    _isProcessing = false;\n    _processNext();\n  }\n}\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#error-handling","title":"Error Handling","text":""},{"location":"advanced/custom-render-pipeline/#graceful-error-recovery","title":"Graceful Error Recovery","text":"<pre><code>Future&lt;void&gt; renderWithRetry(Video video, String outputPath) async {\n  const maxRetries = 3;\n\n  for (var attempt = 1; attempt &lt;= maxRetries; attempt++) {\n    try {\n      await RenderService.execute(\n        composition: video,\n        outputPath: outputPath,\n      );\n      return;  // Success\n    } catch (e) {\n      print('Render attempt $attempt failed: $e');\n\n      if (attempt == maxRetries) {\n        throw RenderException('Failed after $maxRetries attempts: $e');\n      }\n\n      // Wait before retry\n      await Future.delayed(Duration(seconds: attempt * 2));\n    }\n  }\n}\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#cleanup-on-failure","title":"Cleanup on Failure","text":"<pre><code>Future&lt;void&gt; renderSafely(Video video, String outputPath) async {\n  final tempFramesDir = await Directory.systemTemp.createTemp('render_');\n\n  try {\n    await RenderService.execute(\n      composition: video,\n      outputPath: outputPath,\n      settings: EncodingConfig(\n        tempDirectory: tempFramesDir.path,\n      ),\n    );\n  } finally {\n    // Always cleanup temp files\n    if (await tempFramesDir.exists()) {\n      await tempFramesDir.delete(recursive: true);\n    }\n  }\n}\n</code></pre>"},{"location":"advanced/custom-render-pipeline/#related","title":"Related","text":"<ul> <li>Encoding Settings</li> <li>Frame Extraction</li> <li>ONLY_SERVER_MODE</li> <li>Performance Tips</li> </ul>"},{"location":"advanced/encoding-settings/","title":"Encoding Settings","text":"<p>Control video quality, format, and compression</p> <p>Fluvie provides extensive control over the final video encoding through the <code>EncodingConfig</code> class.</p>"},{"location":"advanced/encoding-settings/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>RenderQuality Presets</li> <li>Custom Settings</li> <li>Output Formats</li> <li>Debug Options</li> <li>Examples</li> </ul>"},{"location":"advanced/encoding-settings/#overview","title":"Overview","text":"<p>Encoding settings control how FFmpeg encodes your final video:</p> <pre><code>final settings = EncodingConfig(\n  quality: RenderQuality.high,\n  outputFormat: OutputFormat.mp4,\n  audioCodec: AudioCodec.aac,\n);\n\nawait RenderService.execute(\n  composition: video,\n  outputPath: 'output.mp4',\n  settings: settings,\n  tester: tester,\n);\n</code></pre>"},{"location":"advanced/encoding-settings/#renderquality-presets","title":"RenderQuality Presets","text":""},{"location":"advanced/encoding-settings/#available-presets","title":"Available Presets","text":"Preset CRF Preset Use Case <code>preview</code> 28 <code>ultrafast</code> Quick previews, testing <code>standard</code> 23 <code>medium</code> General use, good balance <code>high</code> 18 <code>slow</code> Final output, best quality <code>lossless</code> 0 <code>veryslow</code> Archival, no quality loss"},{"location":"advanced/encoding-settings/#using-presets","title":"Using Presets","text":"<pre><code>// Quick preview\nEncodingConfig(quality: RenderQuality.preview)\n\n// Standard output\nEncodingConfig(quality: RenderQuality.standard)\n\n// High quality final\nEncodingConfig(quality: RenderQuality.high)\n\n// Lossless (very large files)\nEncodingConfig(quality: RenderQuality.lossless)\n</code></pre>"},{"location":"advanced/encoding-settings/#preset-details","title":"Preset Details","text":""},{"location":"advanced/encoding-settings/#preview-quality","title":"Preview Quality","text":"<ul> <li>CRF: 28 (lower quality)</li> <li>Preset: ultrafast</li> <li>Use: Testing, iteration</li> <li>File size: Small</li> <li>Speed: Very fast</li> </ul>"},{"location":"advanced/encoding-settings/#standard-quality","title":"Standard Quality","text":"<ul> <li>CRF: 23 (good quality)</li> <li>Preset: medium</li> <li>Use: General distribution</li> <li>File size: Moderate</li> <li>Speed: Moderate</li> </ul>"},{"location":"advanced/encoding-settings/#high-quality","title":"High Quality","text":"<ul> <li>CRF: 18 (excellent quality)</li> <li>Preset: slow</li> <li>Use: Final exports</li> <li>File size: Larger</li> <li>Speed: Slow</li> </ul>"},{"location":"advanced/encoding-settings/#lossless","title":"Lossless","text":"<ul> <li>CRF: 0 (perfect quality)</li> <li>Preset: veryslow</li> <li>Use: Archival, further editing</li> <li>File size: Very large</li> <li>Speed: Very slow</li> </ul>"},{"location":"advanced/encoding-settings/#custom-settings","title":"Custom Settings","text":""},{"location":"advanced/encoding-settings/#crf-constant-rate-factor","title":"CRF (Constant Rate Factor)","text":"<p>CRF controls quality. Lower = better quality, larger files.</p> <pre><code>EncodingConfig(\n  crf: 20,  // Custom CRF (0-51 for H.264)\n)\n</code></pre> CRF Range Quality File Size 0-17 Visually lossless Large 18-23 High quality Moderate 24-28 Good quality Smaller 29+ Lower quality Small"},{"location":"advanced/encoding-settings/#ffmpeg-preset","title":"FFmpeg Preset","text":"<p>Controls encoding speed vs compression efficiency:</p> <pre><code>EncodingConfig(\n  preset: 'slow',  // Better compression, slower\n)\n</code></pre> Preset Speed Compression <code>ultrafast</code> Fastest Lowest <code>superfast</code> Very fast Low <code>veryfast</code> Fast Below average <code>faster</code> Fast Average <code>fast</code> Medium-fast Above average <code>medium</code> Medium Good <code>slow</code> Slow Better <code>slower</code> Very slow Very good <code>veryslow</code> Slowest Best"},{"location":"advanced/encoding-settings/#video-codec","title":"Video Codec","text":"<pre><code>EncodingConfig(\n  videoCodec: VideoCodec.h264,  // Most compatible\n  // or\n  videoCodec: VideoCodec.h265,  // Better compression\n  // or\n  videoCodec: VideoCodec.vp9,   // Open format\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#audio-codec","title":"Audio Codec","text":"<pre><code>EncodingConfig(\n  audioCodec: AudioCodec.aac,   // Most compatible\n  // or\n  audioCodec: AudioCodec.mp3,   // Universal\n  // or\n  audioCodec: AudioCodec.opus,  // Best quality per bit\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#audio-bitrate","title":"Audio Bitrate","text":"<pre><code>EncodingConfig(\n  audioBitrate: '192k',  // Higher quality audio\n)\n</code></pre> Bitrate Quality Use Case <code>96k</code> Acceptable Speech <code>128k</code> Good General <code>192k</code> High Music <code>320k</code> Excellent High-fidelity"},{"location":"advanced/encoding-settings/#output-formats","title":"Output Formats","text":""},{"location":"advanced/encoding-settings/#mp4-recommended","title":"MP4 (Recommended)","text":"<p>Most compatible format:</p> <pre><code>EncodingConfig(\n  outputFormat: OutputFormat.mp4,\n  videoCodec: VideoCodec.h264,\n  audioCodec: AudioCodec.aac,\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#webm","title":"WebM","text":"<p>Open format, good for web:</p> <pre><code>EncodingConfig(\n  outputFormat: OutputFormat.webm,\n  videoCodec: VideoCodec.vp9,\n  audioCodec: AudioCodec.opus,\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#mov","title":"MOV","text":"<p>Apple ecosystem:</p> <pre><code>EncodingConfig(\n  outputFormat: OutputFormat.mov,\n  videoCodec: VideoCodec.h264,\n  audioCodec: AudioCodec.aac,\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#gif","title":"GIF","text":"<p>Animated images (no audio):</p> <pre><code>EncodingConfig(\n  outputFormat: OutputFormat.gif,\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#frame-format","title":"Frame Format","text":"<p>Control how frames are captured before encoding:</p> <pre><code>EncodingConfig(\n  frameFormat: FrameFormat.png,  // Higher quality, slower\n  // or\n  frameFormat: FrameFormat.rawRgba,  // Faster, more memory\n)\n</code></pre> Format Quality Speed Memory PNG Lossless Slower Lower Raw RGBA Lossless Faster Higher"},{"location":"advanced/encoding-settings/#debug-options","title":"Debug Options","text":""},{"location":"advanced/encoding-settings/#save-individual-frames","title":"Save Individual Frames","text":"<pre><code>EncodingConfig(\n  debugOutputFrames: true,\n  debugFramesPath: '/tmp/frames/',\n)\n</code></pre> <p>This saves each frame as a PNG file, useful for: - Debugging visual issues - Creating frame-by-frame animations - Inspecting specific frames</p>"},{"location":"advanced/encoding-settings/#verbose-logging","title":"Verbose Logging","text":"<pre><code>EncodingConfig(\n  verbose: true,  // Print FFmpeg output\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#examples","title":"Examples","text":""},{"location":"advanced/encoding-settings/#social-media-export","title":"Social Media Export","text":"<pre><code>// Instagram/TikTok optimized\nEncodingConfig(\n  quality: RenderQuality.high,\n  outputFormat: OutputFormat.mp4,\n  videoCodec: VideoCodec.h264,\n  audioCodec: AudioCodec.aac,\n  audioBitrate: '192k',\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#web-optimized","title":"Web Optimized","text":"<pre><code>// Smaller file for web streaming\nEncodingConfig(\n  crf: 25,\n  preset: 'fast',\n  outputFormat: OutputFormat.mp4,\n  audioBitrate: '128k',\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#archival-quality","title":"Archival Quality","text":"<pre><code>// Maximum quality preservation\nEncodingConfig(\n  quality: RenderQuality.lossless,\n  outputFormat: OutputFormat.mov,\n  frameFormat: FrameFormat.png,\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#fast-preview","title":"Fast Preview","text":"<pre><code>// Quick iteration\nEncodingConfig(\n  quality: RenderQuality.preview,\n  outputFormat: OutputFormat.mp4,\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#custom-fine-tuned","title":"Custom Fine-Tuned","text":"<pre><code>EncodingConfig(\n  crf: 20,\n  preset: 'slow',\n  videoCodec: VideoCodec.h264,\n  audioCodec: AudioCodec.aac,\n  audioBitrate: '256k',\n  outputFormat: OutputFormat.mp4,\n  // Extra FFmpeg arguments\n  extraArgs: ['-movflags', '+faststart'],\n)\n</code></pre>"},{"location":"advanced/encoding-settings/#file-size-estimation","title":"File Size Estimation","text":"<p>Rough estimates for 1080p video:</p> Quality Bitrate 1 min 5 min Preview (CRF 28) ~2 Mbps ~15 MB ~75 MB Standard (CRF 23) ~5 Mbps ~38 MB ~188 MB High (CRF 18) ~10 Mbps ~75 MB ~375 MB Lossless ~50+ Mbps ~400+ MB ~2+ GB"},{"location":"advanced/encoding-settings/#related","title":"Related","text":"<ul> <li>Custom Render Pipeline</li> <li>Performance Tips</li> <li>ONLY_SERVER_MODE</li> </ul>"},{"location":"advanced/error-handling/","title":"Error Handling in Fluvie","text":"<p>Comprehensive guide to handling errors during video composition and rendering.</p>"},{"location":"advanced/error-handling/#exception-hierarchy","title":"Exception Hierarchy","text":"<p>Fluvie provides a structured exception hierarchy for better error handling and debugging:</p> <pre><code>FluvieException (base)\n\u251c\u2500\u2500 FFmpegNotFoundException\n\u251c\u2500\u2500 FFmpegExecutionException\n\u251c\u2500\u2500 RenderException\n\u251c\u2500\u2500 FrameCaptureException\n\u251c\u2500\u2500 InvalidConfigurationException\n\u251c\u2500\u2500 AudioProcessingException\n\u251c\u2500\u2500 FileNotFoundException\n\u251c\u2500\u2500 FileIOException\n\u251c\u2500\u2500 VideoProbeException\n\u251c\u2500\u2500 TimelineException\n\u2514\u2500\u2500 UnsupportedPlatformException\n</code></pre> <p>All Fluvie exceptions extend <code>FluvieException</code>, allowing you to catch all library errors with a single handler if needed.</p>"},{"location":"advanced/error-handling/#common-error-scenarios","title":"Common Error Scenarios","text":""},{"location":"advanced/error-handling/#1-ffmpeg-not-found","title":"1. FFmpeg Not Found","text":"<p>Exception: <code>FFmpegNotFoundException</code></p> <p>When it happens: FFmpeg executable is not installed or not in PATH.</p> <p>Example: <pre><code>import 'package:fluvie/fluvie.dart';\n\ntry {\n  await renderService.execute(...);\n} on FFmpegNotFoundException catch (e) {\n  showDialog(\n    context: context,\n    builder: (context) =&gt; AlertDialog(\n      title: Text('FFmpeg Not Found'),\n      content: Text('Please install FFmpeg to use video rendering.\\n\\n${e.message}'),\n      actions: [\n        TextButton(\n          onPressed: () =&gt; launchUrl('https://ffmpeg.org/download.html'),\n          child: Text('Download FFmpeg'),\n        ),\n      ],\n    ),\n  );\n}\n</code></pre></p> <p>Prevention: <pre><code>// Check FFmpeg availability before rendering\nfinal diagnostics = await FFmpegChecker.check();\nif (!diagnostics.isAvailable) {\n  print(diagnostics.errorMessage);\n  print(diagnostics.installationInstructions);\n  return;\n}\n</code></pre></p>"},{"location":"advanced/error-handling/#2-ffmpeg-execution-failures","title":"2. FFmpeg Execution Failures","text":"<p>Exception: <code>FFmpegExecutionException</code></p> <p>When it happens: FFmpeg command fails during video encoding.</p> <p>Example: <pre><code>try {\n  final outputPath = await renderService.execute(...);\n} on FFmpegExecutionException catch (e) {\n  FluvieLogger.error('FFmpeg failed', module: 'render');\n  FluvieLogger.error('Exit code: ${e.exitCode}', module: 'render');\n  FluvieLogger.error('Command: ${e.command}', module: 'render');\n  FluvieLogger.error('Stderr: ${e.stderr}', module: 'render');\n\n  // Handle specific exit codes\n  if (e.exitCode == 1) {\n    // Generic error - check stderr for details\n  } else if (e.exitCode == 255) {\n    // Codec or format error\n    showError('Unsupported video format or codec');\n  }\n}\n</code></pre></p> <p>Common causes: - Unsupported video codecs - Corrupted input files - Insufficient disk space - Invalid FFmpeg arguments</p>"},{"location":"advanced/error-handling/#3-frame-capture-failures","title":"3. Frame Capture Failures","text":"<p>Exception: <code>FrameCaptureException</code></p> <p>When it happens: Widget rendering or frame capture fails.</p> <p>Example: <pre><code>try {\n  final image = await frameSequencer.captureFrame(pixelRatio: 3.0);\n} on FrameCaptureException catch (e) {\n  print('Frame capture failed: ${e.message}');\n  print('Boundary key: ${e.boundaryKey}');\n  if (e.frameNumber != null) {\n    print('Failed at frame: ${e.frameNumber}');\n  }\n\n  // Retry with lower pixel ratio\n  try {\n    final image = await frameSequencer.captureFrame(pixelRatio: 1.0);\n  } catch (retryError) {\n    // Still failed - report error\n    reportError(retryError);\n  }\n}\n</code></pre></p> <p>Common causes: - Missing RepaintBoundary widget - Widget tree not properly built - Memory exhaustion - Platform rendering issues</p> <p>Prevention: <pre><code>// Ensure RepaintBoundary is properly set up\nfinal boundaryKey = GlobalKey();\n\nRepaintBoundary(\n  key: boundaryKey,\n  child: VideoComposition(\n    fps: 30,\n    durationInFrames: 90,\n    child: MyContent(),\n  ),\n)\n</code></pre></p>"},{"location":"advanced/error-handling/#4-rendering-failures","title":"4. Rendering Failures","text":"<p>Exception: <code>RenderException</code></p> <p>When it happens: General rendering pipeline failures.</p> <p>Example: <pre><code>try {\n  final outputPath = await renderService.execute(\n    config: config,\n    onFrameUpdate: (frame) {\n      print('Rendering frame $frame');\n    },\n  );\n} on RenderException catch (e) {\n  if (e.frameNumber != null) {\n    print('Rendering failed at frame ${e.frameNumber}');\n    // Maybe skip this frame or stop rendering\n  }\n\n  // Log error for debugging\n  FluvieLogger.error('Render failed: ${e.message}', module: 'render');\n  if (e.cause != null) {\n    FluvieLogger.error('Caused by: ${e.cause}', module: 'render');\n  }\n}\n</code></pre></p>"},{"location":"advanced/error-handling/#5-configuration-errors","title":"5. Configuration Errors","text":"<p>Exception: <code>InvalidConfigurationException</code></p> <p>When it happens: Invalid parameters passed to Fluvie APIs.</p> <p>Example: <pre><code>try {\n  final composition = VideoComposition(\n    fps: -1,  // Invalid!\n    durationInFrames: 90,\n    child: MyContent(),\n  );\n} on InvalidConfigurationException catch (e) {\n  print('Invalid configuration: ${e.message}');\n  print('Field: ${e.fieldName}');\n  print('Value: ${e.invalidValue}');\n\n  // Show validation error to user\n  showSnackBar('${e.fieldName}: ${e.message}');\n}\n</code></pre></p> <p>Validation before rendering: <pre><code>void validateConfig(RenderConfig config) {\n  if (config.timeline.fps &lt;= 0) {\n    throw InvalidConfigurationException(\n      'FPS must be greater than 0',\n      fieldName: 'fps',\n      invalidValue: config.timeline.fps,\n    );\n  }\n\n  if (config.timeline.durationInFrames &lt;= 0) {\n    throw InvalidConfigurationException(\n      'Duration must be greater than 0 frames',\n      fieldName: 'durationInFrames',\n      invalidValue: config.timeline.durationInFrames,\n    );\n  }\n}\n</code></pre></p>"},{"location":"advanced/error-handling/#6-audio-processing-failures","title":"6. Audio Processing Failures","text":"<p>Exception: <code>AudioProcessingException</code></p> <p>When it happens: Audio file loading, BPM detection, or processing fails.</p> <p>Example: <pre><code>try {\n  final metadata = await videoProbeService.probe('song.mp3');\n} on AudioProcessingException catch (e) {\n  print('Audio processing failed: ${e.message}');\n  print('Operation: ${e.operation}');\n  print('File: ${e.audioFilePath}');\n\n  // Fall back to no audio\n  renderWithoutAudio();\n}\n</code></pre></p> <p>Handling missing audio gracefully: <pre><code>AudioTrack? loadAudio(String path) {\n  try {\n    return AudioTrack(\n      source: AudioSource.file(path),\n      volume: 1.0,\n    );\n  } on FileNotFoundException {\n    FluvieLogger.warning('Audio file not found, rendering without audio');\n    return null;\n  }\n}\n</code></pre></p>"},{"location":"advanced/error-handling/#7-file-not-found-errors","title":"7. File Not Found Errors","text":"<p>Exception: <code>FileNotFoundException</code></p> <p>When it happens: Required files (video, audio, assets) don't exist.</p> <p>Example: <pre><code>try {\n  final video = VideoSequence(\n    source: VideoSource.file('/path/to/video.mp4'),\n    startFrame: 0,\n    durationInFrames: 90,\n  );\n} on FileNotFoundException catch (e) {\n  showDialog(\n    context: context,\n    builder: (context) =&gt; AlertDialog(\n      title: Text('File Not Found'),\n      content: Text('Could not find: ${e.filePath}'),\n      actions: [\n        TextButton(\n          onPressed: () =&gt; pickFile(),\n          child: Text('Choose File'),\n        ),\n      ],\n    ),\n  );\n}\n</code></pre></p> <p>Validation before use: <pre><code>import 'dart:io';\n\nFuture&lt;void&gt; validateFile(String path) async {\n  final file = File(path);\n  if (!await file.exists()) {\n    throw FileNotFoundException(path);\n  }\n\n  // Check file is readable\n  try {\n    await file.length();\n  } catch (e) {\n    throw FileIOException(\n      'File exists but cannot be read',\n      filePath: path,\n      operation: 'read',\n      cause: e,\n    );\n  }\n}\n</code></pre></p>"},{"location":"advanced/error-handling/#8-timeline-configuration-errors","title":"8. Timeline Configuration Errors","text":"<p>Exception: <code>TimelineException</code></p> <p>When it happens: Invalid frame ranges, overlapping sequences, etc.</p> <p>Example: <pre><code>try {\n  final sequence = Sequence(\n    startFrame: 100,\n    endFrame: 50,  // Invalid: end before start!\n    child: MyWidget(),\n  );\n} on TimelineException catch (e) {\n  print('Timeline error: ${e.message}');\n  print('Start frame: ${e.startFrame}');\n  print('End frame: ${e.endFrame}');\n\n  // Fix the configuration\n  final fixed = Sequence(\n    startFrame: min(e.startFrame!, e.endFrame!),\n    endFrame: max(e.startFrame!, e.endFrame!),\n    child: MyWidget(),\n  );\n}\n</code></pre></p>"},{"location":"advanced/error-handling/#best-practices","title":"Best Practices","text":""},{"location":"advanced/error-handling/#1-always-use-specific-exception-types","title":"1. Always Use Specific Exception Types","text":"<p>Bad: <pre><code>try {\n  await renderService.execute(...);\n} catch (e) {\n  print('Something went wrong: $e');\n}\n</code></pre></p> <p>Good: <pre><code>try {\n  await renderService.execute(...);\n} on FFmpegNotFoundException catch (e) {\n  handleMissingFFmpeg(e);\n} on FFmpegExecutionException catch (e) {\n  handleFFmpegFailure(e);\n} on FrameCaptureException catch (e) {\n  handleFrameCaptureFailure(e);\n} on FluvieException catch (e) {\n  handleGenericFluvieError(e);\n} catch (e, stack) {\n  handleUnexpectedError(e, stack);\n}\n</code></pre></p>"},{"location":"advanced/error-handling/#2-provide-user-friendly-error-messages","title":"2. Provide User-Friendly Error Messages","text":"<p>Bad: <pre><code>} on FluvieException catch (e) {\n  showDialog(content: Text(e.toString()));  // Too technical\n}\n</code></pre></p> <p>Good: <pre><code>} on FFmpegNotFoundException catch (e) {\n  showDialog(\n    content: Text('Video rendering requires FFmpeg. Would you like to install it?'),\n    actions: [InstallButton()],\n  );\n} on FrameCaptureException catch (e) {\n  showDialog(\n    content: Text('Failed to capture video frame. Please try again or reduce quality.'),\n  );\n}\n</code></pre></p>"},{"location":"advanced/error-handling/#3-log-errors-for-debugging","title":"3. Log Errors for Debugging","text":"<pre><code>import 'package:fluvie/fluvie.dart';\n\nvoid handleError(FluvieException e, StackTrace? stack) {\n  // Log to Fluvie logger\n  FluvieLogger.error(e.message, module: 'app');\n\n  // Log cause if available\n  if (e.cause != null) {\n    FluvieLogger.error('Caused by: ${e.cause}', module: 'app');\n  }\n\n  // Log stack trace for debugging\n  if (stack != null) {\n    FluvieLogger.error('Stack trace:\\n$stack', module: 'app');\n  }\n\n  // Send to crash reporting service (e.g., Sentry, Firebase Crashlytics)\n  crashReporting.recordError(e, stack);\n}\n</code></pre>"},{"location":"advanced/error-handling/#4-retry-logic-for-transient-failures","title":"4. Retry Logic for Transient Failures","text":"<pre><code>Future&lt;String&gt; renderWithRetry(\n  RenderConfig config, {\n  int maxAttempts = 3,\n}) async {\n  for (int attempt = 1; attempt &lt;= maxAttempts; attempt++) {\n    try {\n      return await renderService.execute(config: config, ...);\n    } on FrameCaptureException catch (e) {\n      if (attempt == maxAttempts) rethrow;\n\n      FluvieLogger.warning(\n        'Frame capture failed (attempt $attempt/$maxAttempts), retrying...',\n        module: 'render',\n      );\n\n      await Future.delayed(Duration(seconds: 1));\n    }\n  }\n\n  throw RenderException('Failed after $maxAttempts attempts');\n}\n</code></pre>"},{"location":"advanced/error-handling/#5-graceful-degradation","title":"5. Graceful Degradation","text":"<pre><code>Future&lt;String&gt; renderVideo(VideoComposition composition) async {\n  // Try with high quality first\n  try {\n    return await renderService.execute(\n      config: RenderConfig(\n        width: 1920,\n        height: 1080,\n        ...\n      ),\n    );\n  } on FrameCaptureException {\n    // Fall back to lower quality\n    FluvieLogger.warning('Falling back to 720p rendering');\n    return await renderService.execute(\n      config: RenderConfig(\n        width: 1280,\n        height: 720,\n        ...\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"advanced/error-handling/#6-validate-early","title":"6. Validate Early","text":"<pre><code>class SafeVideoComposition extends StatelessWidget {\n  final int fps;\n  final int durationInFrames;\n  final Widget child;\n\n  const SafeVideoComposition({\n    required this.fps,\n    required this.durationInFrames,\n    required this.child,\n    super.key,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    // Validate parameters early\n    if (fps &lt;= 0) {\n      throw InvalidConfigurationException(\n        'FPS must be greater than 0',\n        fieldName: 'fps',\n        invalidValue: fps,\n      );\n    }\n\n    if (durationInFrames &lt;= 0) {\n      throw InvalidConfigurationException(\n        'Duration must be greater than 0',\n        fieldName: 'durationInFrames',\n        invalidValue: durationInFrames,\n      );\n    }\n\n    return VideoComposition(\n      fps: fps,\n      durationInFrames: durationInFrames,\n      child: child,\n    );\n  }\n}\n</code></pre>"},{"location":"advanced/error-handling/#error-recovery-strategies","title":"Error Recovery Strategies","text":""},{"location":"advanced/error-handling/#strategy-1-restart-rendering","title":"Strategy 1: Restart Rendering","text":"<pre><code>Future&lt;String?&gt; renderWithRestart(RenderConfig config) async {\n  try {\n    return await renderService.execute(config: config, ...);\n  } on RenderException catch (e) {\n    if (e.frameNumber != null &amp;&amp; e.frameNumber! &gt; 10) {\n      // Rendering failed mid-way - restart from scratch\n      FluvieLogger.warning('Restarting render from frame 0');\n\n      // Clear any partial output\n      await cleanupPartialRender();\n\n      // Try again\n      return await renderService.execute(config: config, ...);\n    }\n    rethrow;\n  }\n}\n</code></pre>"},{"location":"advanced/error-handling/#strategy-2-skip-problematic-frames","title":"Strategy 2: Skip Problematic Frames","text":"<pre><code>Future&lt;String&gt; renderWithSkip(RenderConfig config) async {\n  final failedFrames = &lt;int&gt;[];\n\n  try {\n    return await renderService.execute(\n      config: config,\n      onFrameUpdate: (frame) {\n        // Track progress\n      },\n    );\n  } on FrameCaptureException catch (e) {\n    if (e.frameNumber != null) {\n      failedFrames.add(e.frameNumber!);\n\n      if (failedFrames.length &gt; 10) {\n        throw RenderException(\n          'Too many failed frames: $failedFrames',\n        );\n      }\n\n      // Continue with next frame\n      return renderNextFrame();\n    }\n    rethrow;\n  }\n}\n</code></pre>"},{"location":"advanced/error-handling/#strategy-3-reduce-quality","title":"Strategy 3: Reduce Quality","text":"<pre><code>Future&lt;String&gt; renderWithQualityReduction(RenderConfig config) async {\n  try {\n    return await renderService.execute(config: config, ...);\n  } on FrameCaptureException {\n    FluvieLogger.warning('Reducing pixel ratio due to capture failure');\n\n    // Modify config to use lower pixel ratio\n    final lowerQualityConfig = config.copyWith(\n      pixelRatio: config.pixelRatio / 2,\n    );\n\n    return await renderService.execute(config: lowerQualityConfig, ...);\n  }\n}\n</code></pre>"},{"location":"advanced/error-handling/#testing-error-handling","title":"Testing Error Handling","text":"<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:fluvie/fluvie.dart';\n\nvoid main() {\n  group('Error Handling', () {\n    test('throws InvalidConfigurationException for negative FPS', () {\n      expect(\n        () =&gt; VideoComposition(\n          fps: -1,\n          durationInFrames: 90,\n          child: Container(),\n        ),\n        throwsA(isA&lt;InvalidConfigurationException&gt;()),\n      );\n    });\n\n    test('throws FileNotFoundException for missing file', () async {\n      expect(\n        () async =&gt; VideoSequence(\n          source: VideoSource.file('/nonexistent/video.mp4'),\n          startFrame: 0,\n          durationInFrames: 90,\n        ),\n        throwsA(isA&lt;FileNotFoundException&gt;()),\n      );\n    });\n\n    test('provides detailed error information', () async {\n      try {\n        throw FFmpegExecutionException(\n          'Codec not supported',\n          exitCode: 1,\n          stderr: 'Unknown codec: abc123',\n          command: 'ffmpeg -i input.mp4 ...',\n        );\n      } on FFmpegExecutionException catch (e) {\n        expect(e.message, contains('Codec not supported'));\n        expect(e.exitCode, equals(1));\n        expect(e.stderr, contains('Unknown codec'));\n        expect(e.command, contains('ffmpeg'));\n      }\n    });\n  });\n}\n</code></pre>"},{"location":"advanced/error-handling/#debugging-tips","title":"Debugging Tips","text":""},{"location":"advanced/error-handling/#1-enable-verbose-logging","title":"1. Enable Verbose Logging","text":"<pre><code>// Enable Fluvie logging\nFluvieLogger.setLevel(LogLevel.debug);\n\n// This will print detailed error information\ntry {\n  await renderService.execute(...);\n} on FluvieException catch (e, stack) {\n  FluvieLogger.error(e.toString(), module: 'app');\n  FluvieLogger.error('Stack: $stack', module: 'app');\n}\n</code></pre>"},{"location":"advanced/error-handling/#2-inspect-ffmpeg-commands","title":"2. Inspect FFmpeg Commands","text":"<pre><code>} on FFmpegExecutionException catch (e) {\n  // Print the exact FFmpeg command that failed\n  print('Failed FFmpeg command:');\n  print(e.command);\n\n  // Try running it manually to see the full error\n  print('\\nRun this command manually to debug:');\n  print(e.command);\n}\n</code></pre>"},{"location":"advanced/error-handling/#3-check-system-resources","title":"3. Check System Resources","text":"<pre><code>import 'dart:io';\n\nvoid checkResources() {\n  // Check disk space\n  final tempDir = Directory.systemTemp;\n  final stat = tempDir.statSync();\n  print('Temp dir: ${tempDir.path}');\n\n  // Check available memory (platform-specific)\n  // On Linux: cat /proc/meminfo\n  // On macOS: vm_stat\n}\n</code></pre>"},{"location":"advanced/error-handling/#related-documentation","title":"Related Documentation","text":"<ul> <li>Custom Exception Types - Source code</li> <li>Security Best Practices - Input validation</li> <li>Troubleshooting - Common issues and solutions</li> </ul> <p>Last Updated: 2025-12-29</p> <p>Remember: Good error handling makes the difference between a frustrating user experience and a robust, reliable application!</p>"},{"location":"advanced/frame-extraction/","title":"Frame Extraction","text":"<p>Extracting frames from video files</p> <p>Fluvie provides services for extracting frames from video files, useful for thumbnails, previews, and video analysis.</p>"},{"location":"advanced/frame-extraction/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>VideoProbeService</li> <li>FrameExtractionService</li> <li>VideoFrameCache</li> <li>Examples</li> <li>Performance Considerations</li> </ul>"},{"location":"advanced/frame-extraction/#overview","title":"Overview","text":"<p>Frame extraction involves:</p> <ol> <li>Probing: Get video metadata (duration, resolution, fps)</li> <li>Extraction: Extract specific frames as images</li> <li>Caching: Store extracted frames for reuse</li> </ol> <pre><code>// Get video info\nfinal info = await VideoProbeService.probe('video.mp4');\n\n// Extract a frame\nfinal frame = await FrameExtractionService.extractFrame(\n  videoPath: 'video.mp4',\n  timestamp: Duration(seconds: 5),\n);\n\n// Use cache for efficiency\nfinal cached = await VideoFrameCache.getFrame(\n  videoPath: 'video.mp4',\n  frameNumber: 150,\n);\n</code></pre>"},{"location":"advanced/frame-extraction/#videoprobeservice","title":"VideoProbeService","text":"<p>Get metadata about a video file.</p>"},{"location":"advanced/frame-extraction/#probe-a-video","title":"Probe a Video","text":"<pre><code>final info = await VideoProbeService.probe('assets/video.mp4');\n\nprint('Duration: ${info.duration}');\nprint('Resolution: ${info.width}x${info.height}');\nprint('FPS: ${info.fps}');\nprint('Codec: ${info.codec}');\nprint('Bitrate: ${info.bitrate}');\n</code></pre>"},{"location":"advanced/frame-extraction/#videoinfo-properties","title":"VideoInfo Properties","text":"Property Type Description <code>duration</code> <code>Duration</code> Video length <code>width</code> <code>int</code> Video width in pixels <code>height</code> <code>int</code> Video height in pixels <code>fps</code> <code>double</code> Frames per second <code>codec</code> <code>String</code> Video codec (h264, etc.) <code>bitrate</code> <code>int</code> Bitrate in bits/sec <code>frameCount</code> <code>int</code> Total frame count <code>hasAudio</code> <code>bool</code> Whether video has audio <code>audioCodec</code> <code>String?</code> Audio codec if present"},{"location":"advanced/frame-extraction/#calculate-frame-numbers","title":"Calculate Frame Numbers","text":"<pre><code>final info = await VideoProbeService.probe('video.mp4');\n\n// Frame at specific time\nfinal frameAt5Sec = (5.0 * info.fps).round();\n\n// Time at specific frame\nfinal timeAtFrame100 = Duration(\n  milliseconds: (100 / info.fps * 1000).round(),\n);\n\n// Total frames\nfinal totalFrames = info.frameCount;\n</code></pre>"},{"location":"advanced/frame-extraction/#frameextractionservice","title":"FrameExtractionService","text":"<p>Extract individual frames from videos.</p>"},{"location":"advanced/frame-extraction/#extract-single-frame","title":"Extract Single Frame","text":"<pre><code>// By timestamp\nfinal frame = await FrameExtractionService.extractFrame(\n  videoPath: 'video.mp4',\n  timestamp: Duration(seconds: 5),\n);\n\n// Returns Uint8List of image data (PNG format)\nawait File('thumbnail.png').writeAsBytes(frame);\n</code></pre>"},{"location":"advanced/frame-extraction/#extract-by-frame-number","title":"Extract by Frame Number","text":"<pre><code>final frame = await FrameExtractionService.extractFrameByNumber(\n  videoPath: 'video.mp4',\n  frameNumber: 150,\n  fps: 30.0,\n);\n</code></pre>"},{"location":"advanced/frame-extraction/#extract-multiple-frames","title":"Extract Multiple Frames","text":"<pre><code>// Extract frames at specific timestamps\nfinal timestamps = [\n  Duration(seconds: 0),\n  Duration(seconds: 5),\n  Duration(seconds: 10),\n  Duration(seconds: 15),\n];\n\nfinal frames = await FrameExtractionService.extractFrames(\n  videoPath: 'video.mp4',\n  timestamps: timestamps,\n);\n\nfor (var i = 0; i &lt; frames.length; i++) {\n  await File('frame_$i.png').writeAsBytes(frames[i]);\n}\n</code></pre>"},{"location":"advanced/frame-extraction/#extract-frame-range","title":"Extract Frame Range","text":"<pre><code>// Extract frames 0-30 (one second at 30fps)\nfinal frames = await FrameExtractionService.extractFrameRange(\n  videoPath: 'video.mp4',\n  startFrame: 0,\n  endFrame: 30,\n  fps: 30.0,\n);\n</code></pre>"},{"location":"advanced/frame-extraction/#resize-during-extraction","title":"Resize During Extraction","text":"<pre><code>// Extract at lower resolution\nfinal thumbnail = await FrameExtractionService.extractFrame(\n  videoPath: 'video.mp4',\n  timestamp: Duration(seconds: 5),\n  width: 320,   // Scale to 320px wide\n  height: 180,  // Scale to 180px tall\n);\n</code></pre>"},{"location":"advanced/frame-extraction/#videoframecache","title":"VideoFrameCache","text":"<p>Cache extracted frames for efficient reuse.</p>"},{"location":"advanced/frame-extraction/#using-the-cache","title":"Using the Cache","text":"<pre><code>final cache = VideoFrameCache();\n\n// Get frame (extracts if not cached)\nfinal frame = await cache.getFrame(\n  videoPath: 'video.mp4',\n  frameNumber: 100,\n  fps: 30.0,\n);\n\n// Check if cached\nfinal isCached = cache.hasFrame('video.mp4', 100);\n\n// Clear cache for a video\ncache.clearVideo('video.mp4');\n\n// Clear entire cache\ncache.clearAll();\n</code></pre>"},{"location":"advanced/frame-extraction/#cache-configuration","title":"Cache Configuration","text":"<pre><code>final cache = VideoFrameCache(\n  maxCacheSize: 100,        // Max frames to cache\n  maxCacheSizeBytes: 100 * 1024 * 1024,  // 100MB max\n  evictionPolicy: LRU,      // Least recently used\n);\n</code></pre>"},{"location":"advanced/frame-extraction/#pre-caching-frames","title":"Pre-caching Frames","text":"<pre><code>// Pre-cache frames for smooth playback\nawait cache.precache(\n  videoPath: 'video.mp4',\n  frameNumbers: List.generate(300, (i) =&gt; i),\n  fps: 30.0,\n  onProgress: (p) =&gt; print('Caching: ${(p * 100).toStringAsFixed(0)}%'),\n);\n</code></pre>"},{"location":"advanced/frame-extraction/#examples","title":"Examples","text":""},{"location":"advanced/frame-extraction/#generate-video-thumbnails","title":"Generate Video Thumbnails","text":"<pre><code>Future&lt;Uint8List&gt; generateThumbnail(String videoPath) async {\n  final info = await VideoProbeService.probe(videoPath);\n\n  // Extract frame at 10% into video\n  final thumbnailTime = Duration(\n    milliseconds: (info.duration.inMilliseconds * 0.1).round(),\n  );\n\n  return await FrameExtractionService.extractFrame(\n    videoPath: videoPath,\n    timestamp: thumbnailTime,\n    width: 320,\n    height: 180,\n  );\n}\n</code></pre>"},{"location":"advanced/frame-extraction/#create-video-timeline-preview","title":"Create Video Timeline Preview","text":"<pre><code>Future&lt;List&lt;Uint8List&gt;&gt; createTimelinePreview(\n  String videoPath, {\n  int thumbnailCount = 10,\n}) async {\n  final info = await VideoProbeService.probe(videoPath);\n  final interval = info.duration.inMilliseconds / thumbnailCount;\n\n  final timestamps = List.generate(\n    thumbnailCount,\n    (i) =&gt; Duration(milliseconds: (i * interval).round()),\n  );\n\n  return await FrameExtractionService.extractFrames(\n    videoPath: videoPath,\n    timestamps: timestamps,\n    width: 160,\n    height: 90,\n  );\n}\n</code></pre>"},{"location":"advanced/frame-extraction/#video-preview-widget","title":"Video Preview Widget","text":"<pre><code>class VideoPreview extends StatefulWidget {\n  final String videoPath;\n\n  @override\n  State&lt;VideoPreview&gt; createState() =&gt; _VideoPreviewState();\n}\n\nclass _VideoPreviewState extends State&lt;VideoPreview&gt; {\n  Uint8List? _thumbnail;\n  VideoInfo? _info;\n\n  @override\n  void initState() {\n    super.initState();\n    _loadPreview();\n  }\n\n  Future&lt;void&gt; _loadPreview() async {\n    final info = await VideoProbeService.probe(widget.videoPath);\n    final thumbnail = await FrameExtractionService.extractFrame(\n      videoPath: widget.videoPath,\n      timestamp: Duration(seconds: 1),\n      width: 320,\n      height: 180,\n    );\n\n    setState(() {\n      _info = info;\n      _thumbnail = thumbnail;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (_thumbnail == null) {\n      return Center(child: CircularProgressIndicator());\n    }\n\n    return Column(\n      children: [\n        Image.memory(_thumbnail!),\n        Text('${_info!.width}x${_info!.height}'),\n        Text('Duration: ${_info!.duration}'),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"advanced/frame-extraction/#extract-frames-for-embeddedvideo","title":"Extract Frames for EmbeddedVideo","text":"<pre><code>// Used internally by EmbeddedVideo widget\nFuture&lt;void&gt; prepareEmbeddedVideo(\n  String videoPath,\n  int startFrame,\n  int durationInFrames,\n  double fps,\n) async {\n  final cache = VideoFrameCache();\n\n  // Pre-extract all needed frames\n  final frameNumbers = List.generate(\n    durationInFrames,\n    (i) =&gt; startFrame + i,\n  );\n\n  await cache.precache(\n    videoPath: videoPath,\n    frameNumbers: frameNumbers,\n    fps: fps,\n  );\n}\n</code></pre>"},{"location":"advanced/frame-extraction/#performance-considerations","title":"Performance Considerations","text":""},{"location":"advanced/frame-extraction/#extraction-speed","title":"Extraction Speed","text":"Factor Impact Video codec H.264 fastest, H.265 slower Resolution Higher = slower Seek distance Keyframe-aligned = faster SSD vs HDD SSD significantly faster"},{"location":"advanced/frame-extraction/#memory-usage","title":"Memory Usage","text":"<pre><code>// Estimate memory for caching\n// 1080p PNG frame \u2248 500KB-2MB\n// 4K PNG frame \u2248 2MB-8MB\n\n// For 300 frames at 1080p:\n// ~150MB - 600MB memory\n</code></pre>"},{"location":"advanced/frame-extraction/#optimization-tips","title":"Optimization Tips","text":"<ol> <li> <p>Extract at lower resolution if full quality isn't needed:    <pre><code>extractFrame(videoPath: path, width: 480, height: 270)\n</code></pre></p> </li> <li> <p>Batch extractions rather than one-by-one:    <pre><code>extractFrames(timestamps: [...])  // Better\n// vs\nfor (ts in timestamps) extractFrame(ts)  // Slower\n</code></pre></p> </li> <li> <p>Use keyframe-aligned timestamps when possible:    <pre><code>// Videos typically have keyframes every 1-2 seconds\n// Extracting at keyframes is faster\n</code></pre></p> </li> <li> <p>Clear cache when done:    <pre><code>cache.clearAll();\n</code></pre></p> </li> </ol>"},{"location":"advanced/frame-extraction/#related","title":"Related","text":"<ul> <li>Videos - Embedding videos</li> <li>EmbeddedVideo - Video widget</li> <li>Custom Render Pipeline</li> <li>Performance Tips</li> </ul>"},{"location":"advanced/performance-tips/","title":"Performance Tips","text":"<p>Optimizing Fluvie compositions for speed and efficiency</p> <p>This guide covers optimization strategies for faster rendering, lower memory usage, and smoother previews.</p>"},{"location":"advanced/performance-tips/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Rendering Speed</li> <li>Memory Management</li> <li>Widget Optimization</li> <li>Media Optimization</li> <li>Profiling</li> </ul>"},{"location":"advanced/performance-tips/#overview","title":"Overview","text":"<p>Performance bottlenecks typically occur in:</p> <ol> <li>Frame Capture: Converting widgets to images</li> <li>Media Processing: Loading images, extracting video frames</li> <li>Encoding: FFmpeg video encoding</li> <li>Memory: Large images, many cached frames</li> </ol>"},{"location":"advanced/performance-tips/#rendering-speed","title":"Rendering Speed","text":""},{"location":"advanced/performance-tips/#use-appropriate-quality","title":"Use Appropriate Quality","text":"<pre><code>// For testing - fastest\nEncodingConfig(quality: RenderQuality.preview)\n\n// For final output\nEncodingConfig(quality: RenderQuality.high)\n</code></pre>"},{"location":"advanced/performance-tips/#preview-vs-full-render","title":"Preview vs Full Render","text":"<p>Test compositions at lower resolution:</p> <pre><code>// Preview at half resolution\nVideo(\n  fps: 30,\n  width: 540,   // Half of 1080\n  height: 960,  // Half of 1920\n  ...\n)\n\n// Final render at full resolution\nVideo(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  ...\n)\n</code></pre>"},{"location":"advanced/performance-tips/#reduce-frame-rate-for-testing","title":"Reduce Frame Rate for Testing","text":"<pre><code>// 15fps for quick tests (half the frames)\nVideo(fps: 15, ...)\n\n// 30fps for final\nVideo(fps: 30, ...)\n</code></pre>"},{"location":"advanced/performance-tips/#shorter-test-duration","title":"Shorter Test Duration","text":"<pre><code>// Test with just the first scene\nVideo(\n  scenes: [scenes.first],  // Only first scene\n  ...\n)\n</code></pre>"},{"location":"advanced/performance-tips/#memory-management","title":"Memory Management","text":""},{"location":"advanced/performance-tips/#avoid-savelayer","title":"Avoid saveLayer","text":"<p>Flutter's <code>saveLayer</code> is expensive. Avoid widgets that use it:</p> <pre><code>// BAD - Opacity uses saveLayer\nOpacity(\n  opacity: 0.5,\n  child: complexWidget,\n)\n\n// GOOD - Use Fluvie's Fade widget\nFade(\n  startFrame: 0,\n  fadeInFrames: 30,\n  child: complexWidget,\n)\n\n// GOOD - Or use color opacity where possible\nContainer(\n  color: Colors.black.withOpacity(0.5),\n)\n</code></pre>"},{"location":"advanced/performance-tips/#widgets-that-use-savelayer","title":"Widgets That Use saveLayer","text":"<p>Avoid or minimize: - <code>Opacity</code> with non-trivial children - <code>ColorFiltered</code> - <code>ShaderMask</code> - Complex <code>ClipPath</code> operations - <code>BackdropFilter</code></p>"},{"location":"advanced/performance-tips/#use-fadetext-instead-of-animated-opacity","title":"Use FadeText Instead of Animated Opacity","text":"<pre><code>// BAD\nAnimatedOpacity(\n  opacity: visible ? 1.0 : 0.0,\n  child: Text('Hello'),\n)\n\n// GOOD\nFadeText(\n  text: 'Hello',\n  startFrame: 30,\n  fadeInFrames: 20,\n)\n</code></pre>"},{"location":"advanced/performance-tips/#clear-image-cache","title":"Clear Image Cache","text":"<pre><code>// Between renders or scenes\nimageCache.clear();\nimageCache.clearLiveImages();\n</code></pre>"},{"location":"advanced/performance-tips/#widget-optimization","title":"Widget Optimization","text":""},{"location":"advanced/performance-tips/#minimize-widget-rebuilds","title":"Minimize Widget Rebuilds","text":"<pre><code>// BAD - Creates new TextStyle every frame\nTimeConsumer(\n  builder: (context, frame, _) {\n    return Text(\n      'Frame: $frame',\n      style: TextStyle(fontSize: 24),  // New instance each frame\n    );\n  },\n)\n\n// GOOD - Reuse constant styles\nconst _textStyle = TextStyle(fontSize: 24);\n\nTimeConsumer(\n  builder: (context, frame, _) {\n    return Text(\n      'Frame: $frame',\n      style: _textStyle,  // Reused\n    );\n  },\n)\n</code></pre>"},{"location":"advanced/performance-tips/#avoid-unnecessary-animation-calculations","title":"Avoid Unnecessary Animation Calculations","text":"<pre><code>// BAD - Calculates even when not needed\nTimeConsumer(\n  builder: (context, frame, _) {\n    final progress = frame / 100;  // Always calculated\n    final opacity = progress.clamp(0.0, 1.0);\n    final scale = 1.0 + progress * 0.5;\n    final rotation = progress * 2 * pi;\n\n    return Transform(\n      transform: Matrix4.identity()\n        ..scale(scale)\n        ..rotateZ(rotation),\n      child: Opacity(\n        opacity: opacity,\n        child: content,\n      ),\n    );\n  },\n)\n\n// GOOD - Only calculate when animating\nTimeConsumer(\n  builder: (context, frame, _) {\n    // Skip calculation if animation complete\n    if (frame &gt;= 100) {\n      return content;  // Static content\n    }\n\n    final progress = frame / 100;\n    // ... animation logic\n  },\n)\n</code></pre>"},{"location":"advanced/performance-tips/#use-const-widgets","title":"Use const Widgets","text":"<pre><code>// BAD\nWidget build(BuildContext context) {\n  return Container(\n    color: Colors.black,\n    child: Center(\n      child: Text('Static'),\n    ),\n  );\n}\n\n// GOOD\nWidget build(BuildContext context) {\n  return const Container(\n    color: Colors.black,\n    child: Center(\n      child: Text('Static'),\n    ),\n  );\n}\n</code></pre>"},{"location":"advanced/performance-tips/#flatten-deep-widget-trees","title":"Flatten Deep Widget Trees","text":"<pre><code>// BAD - Deep nesting\nCenter(\n  child: Padding(\n    padding: EdgeInsets.all(20),\n    child: Container(\n      child: Column(\n        children: [\n          Padding(\n            padding: EdgeInsets.only(bottom: 10),\n            child: Text('Title'),\n          ),\n        ],\n      ),\n    ),\n  ),\n)\n\n// GOOD - Flatter structure\nVCenter(\n  child: VPadding(\n    padding: EdgeInsets.all(20),\n    child: VColumn(\n      spacing: 10,\n      children: [\n        Text('Title'),\n      ],\n    ),\n  ),\n)\n</code></pre>"},{"location":"advanced/performance-tips/#media-optimization","title":"Media Optimization","text":""},{"location":"advanced/performance-tips/#match-image-resolution-to-output","title":"Match Image Resolution to Output","text":"<pre><code>// Output: 1080x1920\n// Don't use 4K images!\n\n// Pre-scale images to target resolution\n// 1080p image = ~2MB vs 4K image = ~8MB\n</code></pre>"},{"location":"advanced/performance-tips/#use-appropriate-image-formats","title":"Use Appropriate Image Formats","text":"Format Use Case Size JPEG Photos Smaller PNG Graphics, transparency Larger WebP Both (if supported) Smallest"},{"location":"advanced/performance-tips/#pre-trim-videos","title":"Pre-Trim Videos","text":"<pre><code># Trim externally before using in Fluvie\nffmpeg -i long_video.mp4 -ss 00:00:30 -t 00:00:10 -c copy trimmed.mp4\n</code></pre>"},{"location":"advanced/performance-tips/#optimize-audio-files","title":"Optimize Audio Files","text":"<pre><code># Convert to efficient format\nffmpeg -i audio.wav -acodec libmp3lame -q:a 4 audio.mp3\n</code></pre>"},{"location":"advanced/performance-tips/#limit-video-resolution","title":"Limit Video Resolution","text":"<pre><code>// For embedded videos, consider using lower resolution\n// 720p is often sufficient for PiP or backgrounds\n</code></pre>"},{"location":"advanced/performance-tips/#profiling","title":"Profiling","text":""},{"location":"advanced/performance-tips/#time-individual-renders","title":"Time Individual Renders","text":"<pre><code>final stopwatch = Stopwatch()..start();\n\nawait RenderService.execute(\n  composition: video,\n  outputPath: 'output.mp4',\n  onProgress: (p) {\n    if (p &gt; 0) {\n      final elapsed = stopwatch.elapsedMilliseconds;\n      final estimatedTotal = elapsed / p;\n      print('Estimated total time: ${estimatedTotal / 1000}s');\n    }\n  },\n);\n\nprint('Render completed in ${stopwatch.elapsed}');\n</code></pre>"},{"location":"advanced/performance-tips/#profile-frame-capture","title":"Profile Frame Capture","text":"<pre><code>int slowFrames = 0;\nconst slowThreshold = Duration(milliseconds: 100);\n\nawait RenderService.execute(\n  composition: video,\n  outputPath: 'output.mp4',\n  onFrameCapture: (frame, _) {\n    final duration = captureTimer.elapsed;\n    captureTimer.reset();\n\n    if (duration &gt; slowThreshold) {\n      slowFrames++;\n      print('Slow frame $frame: ${duration.inMilliseconds}ms');\n    }\n  },\n);\n\nprint('Slow frames: $slowFrames');\n</code></pre>"},{"location":"advanced/performance-tips/#identify-heavy-scenes","title":"Identify Heavy Scenes","text":"<pre><code>// Render scenes individually to find slow ones\nfor (var i = 0; i &lt; scenes.length; i++) {\n  final stopwatch = Stopwatch()..start();\n\n  await RenderService.execute(\n    composition: Video(scenes: [scenes[i]], ...),\n    outputPath: 'scene_$i.mp4',\n  );\n\n  print('Scene $i: ${stopwatch.elapsed}');\n}\n</code></pre>"},{"location":"advanced/performance-tips/#quick-reference","title":"Quick Reference","text":""},{"location":"advanced/performance-tips/#do","title":"Do","text":"<ul> <li>Use <code>Fade</code> widgets instead of <code>Opacity</code></li> <li>Match media resolution to output</li> <li>Use <code>const</code> widgets where possible</li> <li>Pre-trim video files</li> <li>Clear caches between renders</li> <li>Test at lower resolution first</li> </ul>"},{"location":"advanced/performance-tips/#dont","title":"Don't","text":"<ul> <li>Use <code>saveLayer</code>-heavy widgets excessively</li> <li>Load 4K images for 1080p output</li> <li>Create new objects in <code>TimeConsumer</code> builders</li> <li>Forget to clear image cache</li> <li>Use WAV files when MP3 suffices</li> </ul>"},{"location":"advanced/performance-tips/#performance-checklist","title":"Performance Checklist","text":"<ul> <li>[ ] Preview quality for testing</li> <li>[ ] Images sized appropriately</li> <li>[ ] Videos pre-trimmed</li> <li>[ ] No unnecessary <code>Opacity</code> widgets</li> <li>[ ] Cache cleared between renders</li> <li>[ ] Profiled to find bottlenecks</li> </ul>"},{"location":"advanced/performance-tips/#related","title":"Related","text":"<ul> <li>Encoding Settings</li> <li>Custom Render Pipeline</li> <li>Frame Extraction</li> <li>Concept: Rendering Pipeline</li> </ul>"},{"location":"advanced/sync-anchors/","title":"Sync Anchors","text":"<p>Precise audio-visual synchronization</p> <p>Sync anchors allow you to create precise timing relationships between audio and visual elements, perfect for music-reactive content.</p>"},{"location":"advanced/sync-anchors/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>SyncAnchor Widget</li> <li>SyncAnchorRegistry</li> <li>Audio Sync Configurations</li> <li>Examples</li> <li>Best Practices</li> </ul>"},{"location":"advanced/sync-anchors/#overview","title":"Overview","text":"<p>Sync anchors create named timing points in your composition that can be referenced by audio tracks for precise synchronization.</p>"},{"location":"advanced/sync-anchors/#how-it-works","title":"How It Works","text":"<ol> <li>Place <code>SyncAnchor</code> widgets at key visual moments</li> <li>Register sync points with <code>SyncAnchorRegistry</code></li> <li>Reference anchors in audio track configurations</li> <li>Fluvie ensures audio plays at exactly the right frame</li> </ol>"},{"location":"advanced/sync-anchors/#syncanchor-widget","title":"SyncAnchor Widget","text":"<p>Mark visual timing points:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    // Text appears at frame 60\n    SyncAnchor(\n      id: 'title_reveal',\n      frame: 60,\n      child: AnimatedProp(\n        startFrame: 60,\n        animation: PropAnimation.zoomIn(),\n        child: Text('Welcome'),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"advanced/sync-anchors/#properties","title":"Properties","text":"Property Type Description <code>id</code> <code>String</code> Unique identifier for this anchor <code>frame</code> <code>int</code> Frame number this anchor represents <code>child</code> <code>Widget</code> Child widget"},{"location":"advanced/sync-anchors/#syncanchorregistry","title":"SyncAnchorRegistry","text":"<p>Register and manage sync points:</p> <pre><code>final registry = SyncAnchorRegistry();\n\n// Register anchors\nregistry.register('intro_start', 0);\nregistry.register('beat_drop', 90);\nregistry.register('climax', 180);\nregistry.register('outro', 270);\n\n// Query anchors\nfinal beatDropFrame = registry.getFrame('beat_drop');  // 90\n</code></pre>"},{"location":"advanced/sync-anchors/#automatic-registration","title":"Automatic Registration","text":"<p>Anchors are automatically registered when <code>SyncAnchor</code> widgets build:</p> <pre><code>Scene(\n  children: [\n    SyncAnchor(id: 'section_a', frame: 0, child: ...),\n    SyncAnchor(id: 'section_b', frame: 90, child: ...),\n  ],\n)\n\n// Registry automatically contains 'section_a' and 'section_b'\n</code></pre>"},{"location":"advanced/sync-anchors/#audio-sync-configurations","title":"Audio Sync Configurations","text":""},{"location":"advanced/sync-anchors/#sync-audio-to-anchor","title":"Sync Audio to Anchor","text":"<pre><code>Video(\n  scenes: [\n    Scene(\n      durationInFrames: 180,\n      children: [\n        SyncAnchor(\n          id: 'impact',\n          frame: 60,\n          child: AnimatedProp(\n            startFrame: 60,\n            animation: PropAnimation.zoomIn(),\n            child: Image.asset('assets/explosion.png'),\n          ),\n        ),\n      ],\n    ),\n  ],\n  audioTracks: [\n    AudioTrack(\n      source: AudioSource.asset('assets/boom.mp3'),\n      syncToAnchor: 'impact',  // Plays at frame 60\n    ),\n  ],\n)\n</code></pre>"},{"location":"advanced/sync-anchors/#multiple-synced-sounds","title":"Multiple Synced Sounds","text":"<pre><code>audioTracks: [\n  // Background music (no sync)\n  AudioTrack(\n    source: AudioSource.asset('assets/music.mp3'),\n    volume: 0.6,\n  ),\n\n  // Whoosh at title reveal\n  AudioTrack(\n    source: AudioSource.asset('assets/whoosh.mp3'),\n    syncToAnchor: 'title_reveal',\n    volume: 0.8,\n  ),\n\n  // Impact at number reveal\n  AudioTrack(\n    source: AudioSource.asset('assets/impact.mp3'),\n    syncToAnchor: 'number_reveal',\n    volume: 0.9,\n  ),\n\n  // Celebration at end\n  AudioTrack(\n    source: AudioSource.asset('assets/celebration.mp3'),\n    syncToAnchor: 'finale',\n    volume: 0.7,\n  ),\n]\n</code></pre>"},{"location":"advanced/sync-anchors/#examples","title":"Examples","text":""},{"location":"advanced/sync-anchors/#beat-synced-animation","title":"Beat-Synced Animation","text":"<p>Sync visual animations to music beats:</p> <pre><code>final beatFrames = [0, 30, 60, 90, 120, 150];  // Every second at 30fps\n\nVideo(\n  fps: 30,\n  scenes: [\n    Scene(\n      durationInFrames: 180,\n      children: [\n        // Pulsing element on each beat\n        TimeConsumer(\n          builder: (context, frame, _) {\n            final onBeat = beatFrames.contains(frame);\n            final scale = onBeat ? 1.2 : 1.0;\n\n            return Transform.scale(\n              scale: scale,\n              child: Container(\n                width: 200,\n                height: 200,\n                decoration: BoxDecoration(\n                  shape: BoxShape.circle,\n                  color: Colors.cyan,\n                ),\n              ),\n            );\n          },\n        ),\n\n        // Sync anchors at each beat\n        for (var i = 0; i &lt; beatFrames.length; i++)\n          SyncAnchor(\n            id: 'beat_$i',\n            frame: beatFrames[i],\n            child: SizedBox.shrink(),\n          ),\n      ],\n    ),\n  ],\n  audioTracks: [\n    // Kick drum on each beat\n    for (var i = 0; i &lt; beatFrames.length; i++)\n      AudioTrack(\n        source: AudioSource.asset('assets/kick.mp3'),\n        syncToAnchor: 'beat_$i',\n        volume: 0.8,\n      ),\n  ],\n)\n</code></pre>"},{"location":"advanced/sync-anchors/#countdown-with-sound-effects","title":"Countdown with Sound Effects","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    // Countdown numbers\n    ...[3, 2, 1].asMap().entries.map((entry) {\n      final index = entry.key;\n      final number = entry.value;\n      final frame = index * 40;\n\n      return SyncAnchor(\n        id: 'count_$number',\n        frame: frame,\n        child: AnimatedProp(\n          startFrame: frame,\n          duration: 35,\n          animation: PropAnimation.combine([\n            PropAnimation.zoomIn(start: 2.0, end: 0.8),\n            PropAnimation.fadeOut(),\n          ]),\n          child: Text(\n            '$number',\n            style: TextStyle(fontSize: 200, fontWeight: FontWeight.bold),\n          ),\n        ),\n      );\n    }),\n\n    // \"GO!\" at the end\n    SyncAnchor(\n      id: 'go',\n      frame: 120,\n      child: AnimatedProp(\n        startFrame: 120,\n        animation: PropAnimation.elasticPop(),\n        child: Text('GO!', style: TextStyle(fontSize: 150)),\n      ),\n    ),\n  ],\n)\n</code></pre> <pre><code>audioTracks: [\n  AudioTrack(source: AudioSource.asset('assets/beep.mp3'), syncToAnchor: 'count_3'),\n  AudioTrack(source: AudioSource.asset('assets/beep.mp3'), syncToAnchor: 'count_2'),\n  AudioTrack(source: AudioSource.asset('assets/beep.mp3'), syncToAnchor: 'count_1'),\n  AudioTrack(source: AudioSource.asset('assets/horn.mp3'), syncToAnchor: 'go'),\n]\n</code></pre>"},{"location":"advanced/sync-anchors/#scene-transition-sounds","title":"Scene Transition Sounds","text":"<pre><code>Video(\n  scenes: [\n    Scene(\n      durationInFrames: 150,\n      transitionOut: SceneTransition.slideLeft(durationInFrames: 20),\n      children: [\n        SyncAnchor(id: 'scene1_end', frame: 130, child: ...),\n      ],\n    ),\n    Scene(\n      durationInFrames: 150,\n      transitionIn: SceneTransition.slideLeft(durationInFrames: 20),\n      children: [\n        SyncAnchor(id: 'scene2_start', frame: 0, child: ...),\n      ],\n    ),\n  ],\n  audioTracks: [\n    AudioTrack(\n      source: AudioSource.asset('assets/whoosh.mp3'),\n      startFrame: 130,  // At transition\n    ),\n  ],\n)\n</code></pre>"},{"location":"advanced/sync-anchors/#best-practices","title":"Best Practices","text":""},{"location":"advanced/sync-anchors/#1-name-anchors-descriptively","title":"1. Name Anchors Descriptively","text":"<pre><code>// Good\nSyncAnchor(id: 'title_reveal', ...)\nSyncAnchor(id: 'beat_drop_1', ...)\nSyncAnchor(id: 'confetti_burst', ...)\n\n// Avoid\nSyncAnchor(id: 'a1', ...)\nSyncAnchor(id: 'sync', ...)\n</code></pre>"},{"location":"advanced/sync-anchors/#2-start-audio-slightly-early","title":"2. Start Audio Slightly Early","text":"<p>Human perception anticipates sound. Start audio 2-3 frames early:</p> <pre><code>SyncAnchor(id: 'visual', frame: 60, ...)\n\nAudioTrack(\n  syncToAnchor: 'visual',\n  syncOffset: -2,  // 2 frames early\n)\n</code></pre>"},{"location":"advanced/sync-anchors/#3-test-audio-sync","title":"3. Test Audio Sync","text":"<p>Preview your composition to verify sync feels right. Visual and audio perception can vary.</p>"},{"location":"advanced/sync-anchors/#4-use-consistent-timing","title":"4. Use Consistent Timing","text":"<p>If using beat-based sync, calculate frames consistently:</p> <pre><code>// 120 BPM at 30fps = 15 frames per beat\nconst bpm = 120;\nconst fps = 30;\nconst framesPerBeat = (60 / bpm * fps).round();  // 15\n\nfinal beats = List.generate(8, (i) =&gt; i * framesPerBeat);\n// [0, 15, 30, 45, 60, 75, 90, 105]\n</code></pre>"},{"location":"advanced/sync-anchors/#5-dont-over-sync","title":"5. Don't Over-Sync","text":"<p>Not every visual element needs a sound. Over-syncing can feel cluttered.</p>"},{"location":"advanced/sync-anchors/#related","title":"Related","text":"<ul> <li>Audio - Audio embedding guide</li> <li>TimeConsumer - Frame-based animation</li> <li>Interpolate - Smooth value animation</li> </ul>"},{"location":"animations/","title":"Animations","text":"<p>Fluvie provides a powerful, frame-based animation system designed for deterministic video rendering. Animations in Fluvie work with progress values (0.0 to 1.0) rather than time, making them perfectly synchronized with frame capture.</p>"},{"location":"animations/#overview","title":"Overview","text":"Topic Description PropAnimation Base animation class for transforms EntryAnimation Specialized reveal animations StaggerConfig Sequential child animations interpolate() Keyframe-based value interpolation Easing Animation curves reference"},{"location":"animations/#quick-examples","title":"Quick Examples","text":""},{"location":"animations/#basic-animation","title":"Basic Animation","text":"<pre><code>AnimatedProp(\n  duration: 30,\n  animation: PropAnimation.slideUp(),\n  child: Text('Hello World'),\n)\n</code></pre>"},{"location":"animations/#combined-animation","title":"Combined Animation","text":"<pre><code>AnimatedProp(\n  duration: 45,\n  animation: PropAnimation.combine([\n    PropAnimation.slideUp(distance: 50),\n    PropAnimation.fadeIn(),\n    PropAnimation.zoomIn(start: 0.8),\n  ]),\n  curve: Easing.easeOutCubic,\n  child: MyContent(),\n)\n</code></pre>"},{"location":"animations/#staggered-list","title":"Staggered List","text":"<pre><code>VColumn(\n  stagger: StaggerConfig.slideUp(delay: 10, duration: 30),\n  children: [\n    Text('Item 1'),  // Starts at frame 0\n    Text('Item 2'),  // Starts at frame 10\n    Text('Item 3'),  // Starts at frame 20\n  ],\n)\n</code></pre>"},{"location":"animations/#keyframe-animation","title":"Keyframe Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    final opacity = interpolate(\n      frame,\n      [0, 30, 60, 90],\n      [0.0, 1.0, 1.0, 0.0],\n      curve: Easing.easeInOut,\n    );\n    return Opacity(opacity: opacity, child: child);\n  },\n  child: Text('Fade in and out'),\n)\n</code></pre>"},{"location":"animations/#animation-concepts","title":"Animation Concepts","text":""},{"location":"animations/#progress-based-animation","title":"Progress-Based Animation","text":"<p>All animations in Fluvie work with a progress value from 0.0 (start) to 1.0 (end):</p> <pre><code>// PropAnimation.apply(child, progress)\nanimation.apply(myWidget, 0.0);  // Initial state\nanimation.apply(myWidget, 0.5);  // Halfway\nanimation.apply(myWidget, 1.0);  // Final state\n</code></pre>"},{"location":"animations/#frame-based-timing","title":"Frame-Based Timing","text":"<p>Durations are specified in frames, not milliseconds:</p> <pre><code>// At 30fps:\n// 30 frames = 1 second\n// 15 frames = 0.5 seconds\n// 60 frames = 2 seconds\n\nAnimatedProp(\n  duration: 45,  // 1.5 seconds at 30fps\n  ...\n)\n</code></pre>"},{"location":"animations/#easing-curves","title":"Easing Curves","text":"<p>Curves transform linear progress into shaped motion:</p> <pre><code>// Linear: constant speed\n// easeOut: fast start, slow end (most common)\n// easeInOut: slow start and end\n// easeOutBack: overshoot at end\n\nAnimatedProp(\n  curve: Easing.easeOutCubic,\n  ...\n)\n</code></pre>"},{"location":"animations/#animation-types","title":"Animation Types","text":""},{"location":"animations/#transform-animations","title":"Transform Animations","text":"<p>Move, scale, rotate, or fade elements:</p> Method Effect <code>PropAnimation.translate()</code> Move by offset <code>PropAnimation.scale()</code> Scale up/down <code>PropAnimation.rotate()</code> Rotate by radians <code>PropAnimation.fade()</code> Change opacity"},{"location":"animations/#convenience-animations","title":"Convenience Animations","text":"<p>Pre-configured common animations:</p> Method Effect <code>PropAnimation.slideUp()</code> Slide from below <code>PropAnimation.slideDown()</code> Slide from above <code>PropAnimation.slideLeft()</code> Slide from right <code>PropAnimation.slideRight()</code> Slide from left <code>PropAnimation.zoomIn()</code> Scale up <code>PropAnimation.zoomOut()</code> Scale down <code>PropAnimation.fadeIn()</code> Fade from 0 to 1 <code>PropAnimation.fadeOut()</code> Fade from 1 to 0 <code>PropAnimation.slideUpFade()</code> Combined slide + fade"},{"location":"animations/#entry-animations","title":"Entry Animations","text":"<p>Dramatic reveal effects:</p> Type Effect <code>EntryAnimation.elasticPop()</code> Spring-like pop with overshoot <code>EntryAnimation.strobeReveal()</code> Flickering reveal <code>EntryAnimation.glitchSlide()</code> RGB echo glitch effect <code>EntryAnimation.maskedWipe()</code> Shape-based reveal"},{"location":"animations/#continuous-animations","title":"Continuous Animations","text":"<p>For looping motion:</p> Method Effect <code>PropAnimation.float()</code> Oscillating movement <code>PropAnimation.pulse()</code> Oscillating scale"},{"location":"animations/#using-with-widgets","title":"Using with Widgets","text":""},{"location":"animations/#animatedprop-widget","title":"AnimatedProp Widget","text":"<p>The primary way to apply animations:</p> <pre><code>AnimatedProp(\n  animation: PropAnimation.slideUpFade(),\n  duration: 30,\n  startFrame: 60,\n  curve: Easing.easeOut,\n  child: Text('Animated text'),\n)\n</code></pre>"},{"location":"animations/#vcolumnvrow-with-stagger","title":"VColumn/VRow with Stagger","text":"<p>Automatic sequential animation:</p> <pre><code>VColumn(\n  stagger: StaggerConfig(\n    delay: 15,\n    duration: 30,\n    fadeIn: true,\n    slideIn: true,\n    slideOffset: Offset(0, 40),\n  ),\n  children: myWidgets,\n)\n</code></pre>"},{"location":"animations/#timeconsumer-with-interpolate","title":"TimeConsumer with interpolate()","text":"<p>Full manual control:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    final scale = interpolate(frame, [0, 30], [0.5, 1.0]);\n    final rotation = interpolate(frame, [0, 60], [0.0, 6.28]);\n\n    return Transform.scale(\n      scale: scale,\n      child: Transform.rotate(\n        angle: rotation,\n        child: child,\n      ),\n    );\n  },\n  child: Icon(Icons.star),\n)\n</code></pre>"},{"location":"animations/#best-practices","title":"Best Practices","text":""},{"location":"animations/#1-use-convenience-methods","title":"1. Use Convenience Methods","text":"<pre><code>// Good: Clear intent\nPropAnimation.slideUpFade()\n\n// Verbose: Same effect\nPropAnimation.combine([\n  PropAnimation.translate(start: Offset(0, 30), end: Offset.zero),\n  PropAnimation.fade(start: 0.0, end: 1.0),\n])\n</code></pre>"},{"location":"animations/#2-choose-appropriate-curves","title":"2. Choose Appropriate Curves","text":"<pre><code>// Elements entering: easeOut (fast start, gentle landing)\ncurve: Easing.easeOutCubic\n\n// Elements exiting: easeIn (gentle start, fast exit)\ncurve: Easing.easeInCubic\n\n// Emphasis/attention: easeOutBack (overshoot)\ncurve: Easing.easeOutBack\n</code></pre>"},{"location":"animations/#3-keep-durations-reasonable","title":"3. Keep Durations Reasonable","text":"<pre><code>// Text/small elements: 15-30 frames\nAnimatedProp(duration: 20, ...)\n\n// Large elements/containers: 30-45 frames\nAnimatedProp(duration: 40, ...)\n\n// Dramatic reveals: 45-60 frames\nAnimatedProp(duration: 50, ...)\n</code></pre>"},{"location":"animations/#4-stagger-appropriately","title":"4. Stagger Appropriately","text":"<pre><code>// Fast stagger: items appear quickly\nStaggerConfig(delay: 5, duration: 20)\n\n// Medium stagger: comfortable reading pace\nStaggerConfig(delay: 10, duration: 25)\n\n// Slow stagger: dramatic reveals\nStaggerConfig(delay: 20, duration: 40)\n</code></pre>"},{"location":"animations/#related","title":"Related","text":"<ul> <li>AnimatedProp - Animation widget</li> <li>TimeConsumer - Frame access</li> <li>VColumn - Column with stagger</li> <li>VRow - Row with stagger</li> </ul>"},{"location":"animations/easing/","title":"Easing","text":"<p>Animation curves for smooth, natural motion</p> <p>The <code>Easing</code> class provides access to commonly used animation curves with semantic names. These curves transform linear animation progress into shaped motion.</p>"},{"location":"animations/easing/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Curve Categories</li> <li>All Curves</li> <li>Visual Guide</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"animations/easing/#overview","title":"Overview","text":"<p>Easing curves control the rate of change during animations:</p> <pre><code>AnimatedProp(\n  animation: PropAnimation.slideUp(),\n  duration: 30,\n  curve: Easing.easeOutCubic,  // Fast start, slow end\n  child: Text('Smooth entrance'),\n)\n</code></pre>"},{"location":"animations/easing/#without-vs-with-easing","title":"Without vs With Easing","text":"<pre><code>Linear:        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n               constant speed throughout\n\neaseOut:       \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\n               fast start, gradually slows\n\neaseIn:        \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n               slow start, gradually speeds up\n\neaseInOut:     \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\n               slow start, fast middle, slow end\n</code></pre>"},{"location":"animations/easing/#curve-categories","title":"Curve Categories","text":""},{"location":"animations/easing/#standard-curves","title":"Standard Curves","text":"<p>Basic easing patterns:</p> Curve Effect Use Case <code>linear</code> Constant speed Mechanical movement <code>easeIn</code> Slow start Elements exiting <code>easeOut</code> Slow end Elements entering <code>easeInOut</code> Slow start and end Emphasis, transitions"},{"location":"animations/easing/#cubic-curves","title":"Cubic Curves","text":"<p>More pronounced easing:</p> Curve Effect Use Case <code>easeInCubic</code> Pronounced slow start Dramatic exits <code>easeOutCubic</code> Pronounced slow end Smooth entrances <code>easeInOutCubic</code> Pronounced both ends Elegant transitions"},{"location":"animations/easing/#exponential-curves","title":"Exponential Curves","text":"<p>Very dramatic easing:</p> Curve Effect Use Case <code>easeInExpo</code> Very slow start Building anticipation <code>easeOutExpo</code> Very fast start Snappy entrances <code>easeInOutExpo</code> Extreme contrast Dramatic emphasis"},{"location":"animations/easing/#back-curves-overshoot","title":"Back Curves (Overshoot)","text":"<p>Animations that go past their target:</p> Curve Effect Use Case <code>easeInBack</code> Pull back then forward Wind-up effect <code>easeOutBack</code> Overshoot then settle Pop into place <code>easeInOutBack</code> Both ends overshoot Bouncy transitions"},{"location":"animations/easing/#elastic-curves","title":"Elastic Curves","text":"<p>Spring-like oscillation:</p> Curve Effect Use Case <code>elastic</code> Elastic out Bouncy arrivals <code>elasticIn</code> Elastic in Building tension <code>elasticInOut</code> Elastic both Springy emphasis"},{"location":"animations/easing/#bounce-curves","title":"Bounce Curves","text":"<p>Ball-bouncing effect:</p> Curve Effect Use Case <code>bounce</code> Bounce out Landing impacts <code>bounceIn</code> Bounce in Approaching impact <code>bounceInOut</code> Bounce both Playful animations"},{"location":"animations/easing/#sine-curves","title":"Sine Curves","text":"<p>Gentle, natural motion:</p> Curve Effect Use Case <code>easeInSine</code> Gentle slow start Subtle entrances <code>easeOutSine</code> Gentle slow end Subtle exits <code>easeInOutSine</code> Gentle both ends Natural movement"},{"location":"animations/easing/#quartquint-curves","title":"Quart/Quint Curves","text":"<p>Stronger easing variations:</p> Curve Effect Use Case <code>easeOutQuart</code> Stronger than cubic Quick snap <code>easeOutQuint</code> Strongest standard Very snappy"},{"location":"animations/easing/#circular-curves","title":"Circular Curves","text":"<p>Based on circular motion:</p> Curve Effect Use Case <code>easeInCirc</code> Circular ease in Smooth acceleration <code>easeOutCirc</code> Circular ease out Smooth deceleration <code>easeInOutCirc</code> Circular both Orbital motion"},{"location":"animations/easing/#step-curves","title":"Step Curves","text":"<p>Instant jumps:</p> Curve Effect Use Case <code>stepStart</code> Jump at start Instant appear <code>stepEnd</code> Jump at end Instant disappear"},{"location":"animations/easing/#flutter-built-in","title":"Flutter Built-in","text":"<p>Additional Flutter curves:</p> Curve Effect Use Case <code>fastOutSlowIn</code> Material Design standard Material animations <code>slowMiddle</code> Slow in middle Dramatic pause <code>decelerate</code> Constant deceleration Natural stopping <code>fastLinearToSlowEaseIn</code> Fast then eases Quick starts"},{"location":"animations/easing/#all-curves","title":"All Curves","text":""},{"location":"animations/easing/#quick-reference","title":"Quick Reference","text":"<pre><code>// Standard\nEasing.linear\nEasing.easeIn\nEasing.easeOut\nEasing.easeInOut\n\n// Cubic\nEasing.easeInCubic\nEasing.easeOutCubic\nEasing.easeInOutCubic\n\n// Exponential\nEasing.easeInExpo\nEasing.easeOutExpo\nEasing.easeInOutExpo\n\n// Back (overshoot)\nEasing.easeInBack\nEasing.easeOutBack\nEasing.easeInOutBack\n\n// Elastic\nEasing.elastic\nEasing.elasticIn\nEasing.elasticInOut\n\n// Bounce\nEasing.bounce\nEasing.bounceIn\nEasing.bounceInOut\n\n// Sine\nEasing.easeInSine\nEasing.easeOutSine\nEasing.easeInOutSine\n\n// Quart/Quint\nEasing.easeOutQuart\nEasing.easeOutQuint\n\n// Circular\nEasing.easeInCirc\nEasing.easeOutCirc\nEasing.easeInOutCirc\n\n// Step\nEasing.stepStart\nEasing.stepEnd\n\n// Flutter built-in\nEasing.fastOutSlowIn\nEasing.slowMiddle\nEasing.decelerate\nEasing.fastLinearToSlowEaseIn\n</code></pre>"},{"location":"animations/easing/#visual-guide","title":"Visual Guide","text":""},{"location":"animations/easing/#linear-vs-eased","title":"Linear vs Eased","text":"<pre><code>Progress:  0%   25%   50%   75%   100%\n           |     |     |     |     |\n\nlinear:    \u25a0\u2500\u2500\u2500\u2500\u2500\u25a0\u2500\u2500\u2500\u2500\u2500\u25a0\u2500\u2500\u2500\u2500\u2500\u25a0\u2500\u2500\u2500\u2500\u2500\u25a0\n           equal spacing\n\neaseOut:   \u25a0\u2500\u2500\u2500\u2500\u25a0\u2500\u2500\u2500\u25a0\u2500\u2500\u25a0\u2500\u25a0\n           fast start, slowing down\n\neaseIn:            \u25a0\u2500\u25a0\u2500\u2500\u25a0\u2500\u2500\u2500\u25a0\u2500\u2500\u2500\u2500\u25a0\n           slow start, speeding up\n</code></pre>"},{"location":"animations/easing/#overshoot-back-curves","title":"Overshoot (Back Curves)","text":"<pre><code>Target:    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25a0 (100%)\n                               \u2571\u2502\u2572\neaseOutBack:              \u25a0\u2500\u2500\u2500\u25a0 \u2502\n                         \u2571      \u2502\n                        \u25a0       \u2502\n                       \u2571        \u2502 overshoot\nStart:     \u25a0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500          \u2502\n           0%                   \u2502\n</code></pre>"},{"location":"animations/easing/#elastic","title":"Elastic","text":"<pre><code>Target:    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25a0 (100%)\n                          \u2571\u2572\u2571\u2572\u2571\u2502\nelastic:              \u25a0\u2500\u2500\u25a0    \u2572\u2502\n                     \u2571         \u2502\n                    \u25a0          \u2502 oscillates\n                   \u2571           \u2502\nStart:     \u25a0\u2500\u2500\u2500\u2500\u2500\u2500             \u2502\n           0%                  \u2502\n</code></pre>"},{"location":"animations/easing/#bounce","title":"Bounce","text":"<pre><code>Target:    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25a0 (100%)\n                            \u2571\u2502  \u2502\nbounce:                   \u25a0\u2571 \u2502\u25a0 \u2502\n                         \u2571   \u2572\u2571 \u2502 bounces\n                        \u25a0       \u2502\n                       \u2571        \u2502\nStart:     \u25a0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500          \u2502\n           0%                   \u2502\n</code></pre>"},{"location":"animations/easing/#examples","title":"Examples","text":""},{"location":"animations/easing/#element-entrance-easeout","title":"Element Entrance (easeOut)","text":"<pre><code>// Fast arrival, gentle landing\nAnimatedProp(\n  animation: PropAnimation.slideUp(),\n  duration: 30,\n  curve: Easing.easeOutCubic,\n  child: Text('Welcome'),\n)\n</code></pre>"},{"location":"animations/easing/#element-exit-easein","title":"Element Exit (easeIn)","text":"<pre><code>// Gentle start, fast departure\nAnimatedProp(\n  animation: PropAnimation.slideUp(),\n  duration: 25,\n  curve: Easing.easeInCubic,\n  child: Text('Goodbye'),\n)\n</code></pre>"},{"location":"animations/easing/#pop-effect-easeoutback","title":"Pop Effect (easeOutBack)","text":"<pre><code>// Overshoots then settles\nAnimatedProp(\n  animation: PropAnimation.zoomIn(start: 0.0),\n  duration: 35,\n  curve: Easing.easeOutBack,\n  child: Icon(Icons.check, size: 64, color: Colors.green),\n)\n</code></pre>"},{"location":"animations/easing/#bouncy-landing-bounce","title":"Bouncy Landing (bounce)","text":"<pre><code>// Ball drop effect\nAnimatedProp(\n  animation: PropAnimation.slideDown(distance: 200),\n  duration: 60,\n  curve: Easing.bounce,\n  child: Container(\n    width: 50,\n    height: 50,\n    decoration: BoxDecoration(\n      color: Colors.red,\n      shape: BoxShape.circle,\n    ),\n  ),\n)\n</code></pre>"},{"location":"animations/easing/#spring-effect-elastic","title":"Spring Effect (elastic)","text":"<pre><code>// Springy scale animation\nAnimatedProp(\n  animation: PropAnimation.zoomIn(start: 0.3),\n  duration: 50,\n  curve: Easing.elastic,\n  child: Text('Boing!', style: TextStyle(fontSize: 48)),\n)\n</code></pre>"},{"location":"animations/easing/#snappy-entrance-easeoutexpo","title":"Snappy Entrance (easeOutExpo)","text":"<pre><code>// Very fast start\nAnimatedProp(\n  animation: PropAnimation.slideLeft(distance: 300),\n  duration: 40,\n  curve: Easing.easeOutExpo,\n  child: Card(child: ListTile(title: Text('Quick!'))),\n)\n</code></pre>"},{"location":"animations/easing/#smooth-transition-easeinoutcubic","title":"Smooth Transition (easeInOutCubic)","text":"<pre><code>// Elegant scene transition\nAnimatedProp(\n  animation: PropAnimation.fade(start: 0.0, end: 1.0),\n  duration: 45,\n  curve: Easing.easeInOutCubic,\n  child: newSceneContent,\n)\n</code></pre>"},{"location":"animations/easing/#with-interpolate","title":"With interpolate()","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    final scale = interpolate(\n      frame,\n      [0, 30],\n      [0.5, 1.0],\n      curve: Easing.easeOutBack,\n    );\n    return Transform.scale(scale: scale, child: child);\n  },\n  child: content,\n)\n</code></pre>"},{"location":"animations/easing/#staggered-list-with-curve","title":"Staggered List with Curve","text":"<pre><code>VColumn(\n  stagger: StaggerConfig.slideUp(\n    delay: 8,\n    duration: 30,\n    curve: Easing.easeOutCubic,\n  ),\n  children: items,\n)\n</code></pre>"},{"location":"animations/easing/#choosing-the-right-curve","title":"Choosing the Right Curve","text":""},{"location":"animations/easing/#for-entrances","title":"For Entrances","text":"Situation Recommended Curve Standard entrance <code>easeOutCubic</code> Quick entrance <code>easeOutExpo</code> Playful entrance <code>easeOutBack</code> Bouncy entrance <code>elastic</code> or <code>bounce</code> Subtle entrance <code>easeOutSine</code>"},{"location":"animations/easing/#for-exits","title":"For Exits","text":"Situation Recommended Curve Standard exit <code>easeInCubic</code> Quick exit <code>easeInExpo</code> Anticipation exit <code>easeInBack</code> Subtle exit <code>easeInSine</code>"},{"location":"animations/easing/#for-emphasis","title":"For Emphasis","text":"Situation Recommended Curve Pop/attention <code>easeOutBack</code> Spring effect <code>elastic</code> Impact <code>bounce</code> Smooth highlight <code>easeInOutCubic</code>"},{"location":"animations/easing/#for-continuous-motion","title":"For Continuous Motion","text":"Situation Recommended Curve Mechanical <code>linear</code> Natural <code>easeInOutSine</code> Pulsing <code>easeInOutCubic</code>"},{"location":"animations/easing/#custom-curves","title":"Custom Curves","text":"<p>Create custom cubic bezier curves:</p> <pre><code>// Custom curve using Flutter's Cubic\nconst customCurve = Cubic(0.25, 0.1, 0.25, 1.0);\n\nAnimatedProp(\n  curve: customCurve,\n  ...\n)\n</code></pre> <p>Use tools like cubic-bezier.com to design curves.</p>"},{"location":"animations/easing/#related","title":"Related","text":"<ul> <li>PropAnimation - Animation class</li> <li>interpolate() - Keyframe animation</li> <li>StaggerConfig - Staggered animations</li> <li>AnimatedProp - Animation widget</li> </ul>"},{"location":"animations/entry-animations/","title":"Entry Animations","text":"<p>Specialized reveal animations with dramatic effects</p> <p><code>EntryAnimation</code> extends <code>PropAnimation</code> with specialized reveal effects designed for element entrances. These animations include elastic bounces, strobe reveals, glitch effects, and masked wipes.</p>"},{"location":"animations/entry-animations/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Animation Types</li> <li>Properties</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"animations/entry-animations/#overview","title":"Overview","text":"<p>Entry animations reveal elements with cinematic effects:</p> <pre><code>AnimatedProp(\n  animation: EntryAnimation.elasticPop(overshoot: 1.15),\n  duration: 45,\n  child: Text('Pop!'),\n)\n</code></pre> <p>Each entry animation has: - <code>defaultDuration</code> - Recommended animation length in frames - <code>recommendedCurve</code> - Suggested easing curve</p>"},{"location":"animations/entry-animations/#animation-types","title":"Animation Types","text":""},{"location":"animations/entry-animations/#elasticpop","title":"ElasticPop","text":"<p>A spring-like pop effect that scales up with overshoot, then settles:</p> <pre><code>EntryAnimation.elasticPop(\n  overshoot: 1.1,              // Maximum scale (default: 1.1)\n  startScale: 0.0,             // Starting scale (default: 0.0)\n  alignment: Alignment.center, // Scale origin\n)\n</code></pre> Property Type Default Description <code>overshoot</code> <code>double</code> <code>1.1</code> Peak scale before settling to 1.0 <code>startScale</code> <code>double</code> <code>0.0</code> Initial scale <code>alignment</code> <code>Alignment</code> <code>center</code> Scale origin <p>Animation Timeline: <pre><code>Progress:  0%        70%        100%\nScale:     0.0 \u2500\u2500\u2500\u2500&gt; 1.1 \u2500\u2500\u2500\u2500&gt; 1.0\n                     \u2191          \u2191\n                overshoot    settle\n</code></pre></p> <p>Default Duration: 45 frames Recommended Curve: <code>Curves.easeOutBack</code></p>"},{"location":"animations/entry-animations/#strobereveal","title":"StrobeReveal","text":"<p>A flickering strobe effect that dampens over time:</p> <pre><code>EntryAnimation.strobeReveal(\n  flickerCount: 5,        // Number of flicker cycles (default: 5)\n  flickerIntensity: 0.7,  // Strength of flicker 0-1 (default: 0.7)\n)\n</code></pre> Property Type Default Description <code>flickerCount</code> <code>int</code> <code>5</code> Number of complete flicker cycles <code>flickerIntensity</code> <code>double</code> <code>0.7</code> Intensity of the effect (0.0-1.0) <p>Animation Timeline: <pre><code>Progress:  0%                              100%\nOpacity:   \u2571\u2572\u2571\u2572\u2571\u2572\u2571\u2572 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 1.0\n           \u2191 rapid flicker    \u2191 dampened    \u2191 settled\n</code></pre></p> <p>Default Duration: 30 frames Recommended Curve: <code>Curves.linear</code></p>"},{"location":"animations/entry-animations/#glitchslide","title":"GlitchSlide","text":"<p>A slide animation with RGB chromatic aberration glitch effect:</p> <pre><code>EntryAnimation.glitchSlide(\n  direction: EntrySlideDirection.fromLeft,  // Slide direction\n  distance: 200,                            // Slide distance in pixels\n  rgbOffset: 8,                             // RGB channel separation\n  echoOpacity: 0.4,                         // Opacity of RGB echoes\n)\n</code></pre> Property Type Default Description <code>direction</code> <code>EntrySlideDirection</code> <code>fromLeft</code> Direction to slide from <code>distance</code> <code>double</code> <code>200</code> Distance in pixels <code>rgbOffset</code> <code>double</code> <code>8</code> RGB channel separation <code>echoOpacity</code> <code>double</code> <code>0.4</code> Echo layer opacity <p>Available Directions: - <code>EntrySlideDirection.fromLeft</code> - <code>EntrySlideDirection.fromRight</code> - <code>EntrySlideDirection.fromTop</code> - <code>EntrySlideDirection.fromBottom</code></p> <p>Animation Timeline: <pre><code>Progress:   0%           70%         100%\nPosition:   -200px \u2500\u2500\u2500\u2500\u2500&gt; 0px \u2500\u2500\u2500\u2500\u2500&gt; 0px\nRGB Glitch: [STRONG] \u2500\u2500\u2500&gt; [FADE] \u2500\u2500&gt; [NONE]\n</code></pre></p> <p>Default Duration: 40 frames Recommended Curve: <code>Curves.easeOutExpo</code></p>"},{"location":"animations/entry-animations/#maskedwipe","title":"MaskedWipe","text":"<p>Reveals through an expanding geometric shape:</p> <pre><code>EntryAnimation.maskedWipe(\n  shape: WipeShape.circle,     // Shape of the mask\n  origin: Alignment.center,    // Where mask expands from\n)\n</code></pre> Property Type Default Description <code>shape</code> <code>WipeShape</code> <code>circle</code> Mask shape <code>origin</code> <code>Alignment</code> <code>center</code> Expansion origin <p>Available Shapes: - <code>WipeShape.circle</code> - Circular reveal - <code>WipeShape.star</code> - 5-point star reveal - <code>WipeShape.diamond</code> - Diamond/rhombus reveal - <code>WipeShape.hexagon</code> - Hexagonal reveal - <code>WipeShape.heart</code> - Heart-shaped reveal</p> <p>Animation Timeline: <pre><code>Progress:  0%     50%     100%\nShape:     \u00b7  \u2192   \u25c9   \u2192   \u2588\u2588\u2588\u2588\n          tiny  medium   full\n</code></pre></p> <p>Default Duration: 45 frames Recommended Curve: <code>Curves.easeOutCubic</code></p>"},{"location":"animations/entry-animations/#properties","title":"Properties","text":"<p>All entry animations share these properties:</p> Property Type Description <code>defaultDuration</code> <code>int</code> Recommended animation length <code>recommendedCurve</code> <code>Curve</code> Suggested easing curve <p>Access them to use recommended settings:</p> <pre><code>final animation = EntryAnimation.elasticPop();\n\nAnimatedProp(\n  animation: animation,\n  duration: animation.defaultDuration,\n  curve: animation.recommendedCurve,\n  child: MyWidget(),\n)\n</code></pre>"},{"location":"animations/entry-animations/#examples","title":"Examples","text":""},{"location":"animations/entry-animations/#elastic-pop-title","title":"Elastic Pop Title","text":"<pre><code>Scene(\n  durationInFrames: 120,\n  background: Background.solid(Colors.black),\n  children: [\n    VCenter(\n      startFrame: 30,\n      child: AnimatedProp(\n        animation: EntryAnimation.elasticPop(overshoot: 1.2),\n        duration: 45,\n        startFrame: 30,\n        child: Text(\n          'Welcome!',\n          style: TextStyle(\n            fontSize: 72,\n            fontWeight: FontWeight.bold,\n            color: Colors.white,\n          ),\n        ),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"animations/entry-animations/#strobe-reveal-text","title":"Strobe Reveal Text","text":"<pre><code>AnimatedProp(\n  animation: EntryAnimation.strobeReveal(\n    flickerCount: 8,\n    flickerIntensity: 0.8,\n  ),\n  duration: 35,\n  startFrame: 0,\n  child: Text(\n    'ALERT',\n    style: TextStyle(\n      fontSize: 64,\n      color: Colors.red,\n      fontWeight: FontWeight.w900,\n    ),\n  ),\n)\n</code></pre>"},{"location":"animations/entry-animations/#glitch-slide-hero","title":"Glitch Slide Hero","text":"<pre><code>VPositioned(\n  left: 0,\n  right: 0,\n  top: 100,\n  startFrame: 0,\n  child: AnimatedProp(\n    animation: EntryAnimation.glitchSlide(\n      direction: EntrySlideDirection.fromLeft,\n      distance: 300,\n      rgbOffset: 12,\n    ),\n    duration: 50,\n    curve: Easing.easeOutExpo,\n    child: Text(\n      'CYBERPUNK',\n      textAlign: TextAlign.center,\n      style: TextStyle(\n        fontSize: 80,\n        fontWeight: FontWeight.w900,\n        color: Colors.cyan,\n        letterSpacing: 8,\n      ),\n    ),\n  ),\n)\n</code></pre>"},{"location":"animations/entry-animations/#star-wipe-reveal","title":"Star Wipe Reveal","text":"<pre><code>AnimatedProp(\n  animation: EntryAnimation.maskedWipe(\n    shape: WipeShape.star,\n    origin: Alignment.center,\n  ),\n  duration: 60,\n  curve: Easing.easeOutCubic,\n  child: Image.asset(\n    'assets/photo.jpg',\n    width: 400,\n    height: 400,\n    fit: BoxFit.cover,\n  ),\n)\n</code></pre>"},{"location":"animations/entry-animations/#heart-reveal-photo","title":"Heart Reveal Photo","text":"<pre><code>VCenter(\n  startFrame: 30,\n  child: AnimatedProp(\n    animation: EntryAnimation.maskedWipe(\n      shape: WipeShape.heart,\n      origin: Alignment.center,\n    ),\n    duration: 50,\n    startFrame: 30,\n    child: ClipRRect(\n      borderRadius: BorderRadius.circular(20),\n      child: Image.asset(\n        'assets/loved_memory.jpg',\n        width: 500,\n        height: 500,\n        fit: BoxFit.cover,\n      ),\n    ),\n  ),\n)\n</code></pre>"},{"location":"animations/entry-animations/#sequential-entry-effects","title":"Sequential Entry Effects","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    // First: Circle wipe for image\n    VPositioned(\n      left: 100,\n      top: 100,\n      startFrame: 0,\n      child: AnimatedProp(\n        animation: EntryAnimation.maskedWipe(\n          shape: WipeShape.circle,\n        ),\n        duration: 45,\n        child: Image.asset('assets/profile.jpg', width: 200),\n      ),\n    ),\n\n    // Then: Elastic pop for name\n    VPositioned(\n      left: 100,\n      top: 320,\n      startFrame: 30,\n      child: AnimatedProp(\n        animation: EntryAnimation.elasticPop(overshoot: 1.15),\n        duration: 40,\n        startFrame: 30,\n        child: Text('John Doe', style: TextStyle(fontSize: 32)),\n      ),\n    ),\n\n    // Finally: Glitch slide for title\n    VPositioned(\n      left: 100,\n      top: 360,\n      startFrame: 50,\n      child: AnimatedProp(\n        animation: EntryAnimation.glitchSlide(\n          direction: EntrySlideDirection.fromRight,\n          distance: 150,\n        ),\n        duration: 35,\n        startFrame: 50,\n        child: Text('Developer', style: TextStyle(fontSize: 20)),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"animations/entry-animations/#different-wipe-origins","title":"Different Wipe Origins","text":"<pre><code>// Reveal from top-left corner\nEntryAnimation.maskedWipe(\n  shape: WipeShape.circle,\n  origin: Alignment.topLeft,\n)\n\n// Reveal from bottom\nEntryAnimation.maskedWipe(\n  shape: WipeShape.diamond,\n  origin: Alignment.bottomCenter,\n)\n\n// Reveal from right side\nEntryAnimation.maskedWipe(\n  shape: WipeShape.hexagon,\n  origin: Alignment.centerRight,\n)\n</code></pre>"},{"location":"animations/entry-animations/#combining-entry-with-propanimation","title":"Combining Entry with PropAnimation","text":"<p>Entry animations extend PropAnimation, so you can combine them:</p> <pre><code>PropAnimation.combine([\n  EntryAnimation.elasticPop(startScale: 0.5),\n  PropAnimation.slideUp(distance: 30),\n])\n</code></pre>"},{"location":"animations/entry-animations/#custom-entry-animations","title":"Custom Entry Animations","text":"<p>Create custom entry animations by extending <code>EntryAnimation</code>:</p> <pre><code>class SpinRevealAnimation extends EntryAnimation {\n  final double rotations;\n\n  const SpinRevealAnimation({this.rotations = 2});\n\n  @override\n  int get defaultDuration =&gt; 40;\n\n  @override\n  Curve get recommendedCurve =&gt; Curves.easeOutCubic;\n\n  @override\n  Widget apply(Widget child, double progress) {\n    final angle = rotations * 2 * 3.14159 * (1 - progress);\n    final scale = progress;\n    final opacity = progress;\n\n    return Opacity(\n      opacity: opacity,\n      child: Transform.scale(\n        scale: scale,\n        child: Transform.rotate(\n          angle: angle,\n          child: child,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"animations/entry-animations/#related","title":"Related","text":"<ul> <li>PropAnimation - Base animation class</li> <li>Easing - Animation curves</li> <li>AnimatedProp - Animation widget</li> <li>AnimatedText - Text animations</li> </ul>"},{"location":"animations/interpolate/","title":"interpolate()","text":"<p>Keyframe-based value interpolation for frame animations</p> <p>The <code>interpolate()</code> function performs piecewise linear interpolation between keyframes, enabling complex multi-segment animations with optional easing curves.</p>"},{"location":"animations/interpolate/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Parameters</li> <li>Examples</li> <li>lerpValue Helper</li> <li>Advanced Usage</li> <li>Related</li> </ul>"},{"location":"animations/interpolate/#overview","title":"Overview","text":"<p><code>interpolate()</code> maps frame numbers to output values through keyframes:</p> <pre><code>// Frames 0-30: value goes from 0 to 100\nfinal value = interpolate(15, [0, 30], [0.0, 100.0]);\n// value == 50.0 (halfway)\n</code></pre>"},{"location":"animations/interpolate/#why-use-interpolate","title":"Why Use interpolate()?","text":"<ul> <li>Multi-segment animations - Create complex timing with multiple keyframes</li> <li>Frame-precise - Works with frame numbers for deterministic rendering</li> <li>Easing support - Apply curves to each segment</li> <li>Extrapolation - Optionally extend beyond the defined range</li> </ul>"},{"location":"animations/interpolate/#parameters","title":"Parameters","text":"<pre><code>double interpolate(\n  int frame,\n  List&lt;int&gt; inputRange,\n  List&lt;double&gt; outputRange, {\n  bool extrapolate = false,\n  Curve curve = Curves.linear,\n})\n</code></pre> Parameter Type Default Description <code>frame</code> <code>int</code> required Current frame number <code>inputRange</code> <code>List&lt;int&gt;</code> required Frame keypoints (sorted ascending, min 2) <code>outputRange</code> <code>List&lt;double&gt;</code> required Corresponding values (same length) <code>extrapolate</code> <code>bool</code> <code>false</code> Extend beyond range <code>curve</code> <code>Curve</code> <code>Curves.linear</code> Easing curve for segments"},{"location":"animations/interpolate/#validation","title":"Validation","text":"<p>The function throws <code>ArgumentError</code> if: - <code>inputRange</code> and <code>outputRange</code> have different lengths - <code>inputRange</code> has fewer than 2 elements - <code>inputRange</code> is not sorted in ascending order</p>"},{"location":"animations/interpolate/#examples","title":"Examples","text":""},{"location":"animations/interpolate/#simple-linear","title":"Simple Linear","text":"<pre><code>// Opacity from 0 to 1 over 30 frames\nTimeConsumer(\n  builder: (context, frame, child) {\n    final opacity = interpolate(\n      frame,\n      [0, 30],\n      [0.0, 1.0],\n    );\n    return Opacity(opacity: opacity, child: child);\n  },\n  child: Text('Fading in'),\n)\n</code></pre>"},{"location":"animations/interpolate/#with-easing","title":"With Easing","text":"<pre><code>// Smooth ease-out opacity\nfinal opacity = interpolate(\n  frame,\n  [0, 30],\n  [0.0, 1.0],\n  curve: Curves.easeOut,\n);\n</code></pre>"},{"location":"animations/interpolate/#multi-segment-fade-in-hold-fade-out","title":"Multi-Segment (Fade In, Hold, Fade Out)","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    final opacity = interpolate(\n      frame,\n      [0, 30, 90, 120],    // Keyframes\n      [0.0, 1.0, 1.0, 0.0], // Values\n    );\n    return Opacity(opacity: opacity, child: child);\n  },\n  child: Text('Appears and disappears'),\n)\n</code></pre> <p>Timeline: <pre><code>Frame:    0        30        90       120\n          |         |         |         |\nOpacity:  0 \u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; 1 \u2550\u2550\u2550\u2550\u2550\u2550\u2550&gt; 1 \u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; 0\n          [fade in]  [hold]    [fade out]\n</code></pre></p>"},{"location":"animations/interpolate/#bounce-back","title":"Bounce Back","text":"<pre><code>// Position moves right, then back\nfinal xPosition = interpolate(\n  frame,\n  [0, 30, 60],\n  [0.0, 200.0, 100.0],\n);\n</code></pre> <p>Timeline: <pre><code>Frame:    0        30        60\n          |         |         |\nX:        0 \u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; 200 \u2500\u2500\u2500\u2500&gt; 100\n          [move right] [return]\n</code></pre></p>"},{"location":"animations/interpolate/#scale-animation","title":"Scale Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    final scale = interpolate(\n      frame,\n      [0, 20, 25, 30],\n      [0.0, 1.2, 0.9, 1.0],  // Pop effect\n      curve: Curves.easeOut,\n    );\n    return Transform.scale(scale: scale, child: child);\n  },\n  child: Icon(Icons.star, size: 64),\n)\n</code></pre>"},{"location":"animations/interpolate/#complex-path","title":"Complex Path","text":"<pre><code>// Animate along a custom path\nfinal x = interpolate(frame, [0, 30, 60, 90], [0.0, 100.0, 50.0, 150.0]);\nfinal y = interpolate(frame, [0, 30, 60, 90], [0.0, -50.0, 20.0, 0.0]);\n\nTransform.translate(\n  offset: Offset(x, y),\n  child: myWidget,\n)\n</code></pre>"},{"location":"animations/interpolate/#rotation","title":"Rotation","text":"<pre><code>// Spin 360 degrees\nfinal rotation = interpolate(\n  frame,\n  [0, 60],\n  [0.0, 2 * 3.14159],  // 0 to 2\u03c0 radians\n  curve: Curves.easeInOut,\n);\n\nTransform.rotate(angle: rotation, child: icon)\n</code></pre>"},{"location":"animations/interpolate/#color-component-animation","title":"Color Component Animation","text":"<pre><code>// Animate color channels separately\nfinal red = interpolate(frame, [0, 30], [255.0, 0.0]);\nfinal green = interpolate(frame, [0, 30], [0.0, 255.0]);\nfinal blue = interpolate(frame, [0, 30], [0.0, 0.0]);\n\nContainer(\n  color: Color.fromRGBO(red.toInt(), green.toInt(), blue.toInt(), 1.0),\n)\n</code></pre>"},{"location":"animations/interpolate/#extrapolation","title":"Extrapolation","text":"<pre><code>// Without extrapolation (default)\ninterpolate(-10, [0, 30], [0.0, 100.0]);  // Returns 0.0 (clamped)\ninterpolate(50, [0, 30], [0.0, 100.0]);   // Returns 100.0 (clamped)\n\n// With extrapolation\ninterpolate(-10, [0, 30], [0.0, 100.0], extrapolate: true);  // Returns -33.33\ninterpolate(50, [0, 30], [0.0, 100.0], extrapolate: true);   // Returns 166.67\n</code></pre>"},{"location":"animations/interpolate/#lerpvalue-helper","title":"lerpValue Helper","text":"<p>For simple two-value interpolation with a progress (0-1):</p> <pre><code>double lerpValue(\n  double t,\n  double begin,\n  double end, {\n  Curve curve = Curves.linear,\n})\n</code></pre> Parameter Type Default Description <code>t</code> <code>double</code> required Progress (0.0 to 1.0) <code>begin</code> <code>double</code> required Starting value <code>end</code> <code>double</code> required Ending value <code>curve</code> <code>Curve</code> <code>Curves.linear</code> Easing curve"},{"location":"animations/interpolate/#lerpvalue-examples","title":"lerpValue Examples","text":"<pre><code>// Linear interpolation\nlerpValue(0.5, 0.0, 100.0);  // 50.0\n\n// With easing\nlerpValue(0.5, 0.0, 100.0, curve: Curves.easeOut);  // ~70.7\n\n// Use when you already have progress calculated\nfinal progress = (frame - startFrame) / duration;\nfinal opacity = lerpValue(progress, 0.0, 1.0, curve: Curves.easeIn);\n</code></pre>"},{"location":"animations/interpolate/#advanced-usage","title":"Advanced Usage","text":""},{"location":"animations/interpolate/#stair-step-values","title":"Stair-Step Values","text":"<p>Create discrete steps:</p> <pre><code>// Jump between values\nfinal step = interpolate(\n  frame,\n  [0, 1, 30, 31, 60, 61, 90],\n  [0.0, 1.0, 1.0, 2.0, 2.0, 3.0, 3.0],\n);\n// Result: 0 at frame 0, 1 from frames 1-30, 2 from 31-60, 3 from 61+\n</code></pre>"},{"location":"animations/interpolate/#hold-values","title":"Hold Values","text":"<p>Keep value constant for a range:</p> <pre><code>// Fade in, hold, fade out\nfinal opacity = interpolate(\n  frame,\n  [0, 30, 120, 150],  // Long hold period (frames 30-120)\n  [0.0, 1.0, 1.0, 0.0],\n);\n</code></pre>"},{"location":"animations/interpolate/#synchronized-multiple-properties","title":"Synchronized Multiple Properties","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    // All properties on the same timeline\n    final opacity = interpolate(frame, [0, 30, 90, 120], [0.0, 1.0, 1.0, 0.0]);\n    final scale = interpolate(frame, [0, 30, 90, 120], [0.5, 1.0, 1.0, 0.8]);\n    final yOffset = interpolate(frame, [0, 30, 90, 120], [50.0, 0.0, 0.0, -30.0]);\n\n    return Opacity(\n      opacity: opacity,\n      child: Transform.scale(\n        scale: scale,\n        child: Transform.translate(\n          offset: Offset(0, yOffset),\n          child: child,\n        ),\n      ),\n    );\n  },\n  child: myContent,\n)\n</code></pre>"},{"location":"animations/interpolate/#different-curves-per-segment","title":"Different Curves Per Segment","text":"<p>Apply different curves to different segments by calculating manually:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    double opacity;\n\n    if (frame &lt; 30) {\n      // Fade in with ease-out\n      final progress = frame / 30;\n      opacity = lerpValue(progress, 0.0, 1.0, curve: Curves.easeOut);\n    } else if (frame &lt; 90) {\n      // Hold at 1\n      opacity = 1.0;\n    } else {\n      // Fade out with ease-in\n      final progress = (frame - 90) / 30;\n      opacity = lerpValue(progress, 1.0, 0.0, curve: Curves.easeIn);\n    }\n\n    return Opacity(opacity: opacity.clamp(0.0, 1.0), child: child);\n  },\n  child: myContent,\n)\n</code></pre>"},{"location":"animations/interpolate/#counter-animation","title":"Counter Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    final value = interpolate(\n      frame,\n      [0, 60],\n      [0.0, 1000.0],\n      curve: Curves.easeOutCubic,\n    );\n\n    return Text(\n      '${value.toInt()}',\n      style: TextStyle(fontSize: 64, fontWeight: FontWeight.bold),\n    );\n  },\n)\n</code></pre>"},{"location":"animations/interpolate/#progress-bar","title":"Progress Bar","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    final progress = interpolate(\n      frame,\n      [0, 90],\n      [0.0, 1.0],\n      curve: Curves.easeInOut,\n    );\n\n    return Container(\n      width: 400,\n      height: 20,\n      decoration: BoxDecoration(\n        color: Colors.grey[800],\n        borderRadius: BorderRadius.circular(10),\n      ),\n      child: FractionallySizedBox(\n        alignment: Alignment.centerLeft,\n        widthFactor: progress,\n        child: Container(\n          decoration: BoxDecoration(\n            color: Colors.blue,\n            borderRadius: BorderRadius.circular(10),\n          ),\n        ),\n      ),\n    );\n  },\n)\n</code></pre>"},{"location":"animations/interpolate/#comparison-with-propanimation","title":"Comparison with PropAnimation","text":"Use Case interpolate() PropAnimation Simple transforms More verbose Cleaner API Multi-segment timing Natural fit Requires manual work Custom value types Direct access Widget transforms only Complex keyframes Ideal Not supported <pre><code>// PropAnimation: Simple slide-up\nPropAnimation.slideUp(distance: 50)\n\n// interpolate(): Same effect, more control\nfinal yOffset = interpolate(frame, [0, 30], [50.0, 0.0], curve: Curves.easeOut);\nTransform.translate(offset: Offset(0, yOffset), child: widget)\n</code></pre>"},{"location":"animations/interpolate/#related","title":"Related","text":"<ul> <li>TimeConsumer - Access current frame</li> <li>PropAnimation - Widget animations</li> <li>Easing - Available curves</li> </ul>"},{"location":"animations/prop-animation/","title":"PropAnimation","text":"<p>Base class for property animations that transform widgets</p> <p><code>PropAnimation</code> is the foundation of Fluvie's animation system. It defines transformations that animate over a progress value from 0.0 to 1.0, making animations perfectly synchronized with frame capture.</p>"},{"location":"animations/prop-animation/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Factory Constructors</li> <li>Convenience Methods</li> <li>Animation Classes</li> <li>Combining Animations</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"animations/prop-animation/#overview","title":"Overview","text":"<p><code>PropAnimation</code> applies transformations to widgets based on animation progress:</p> <pre><code>// Create an animation\nfinal animation = PropAnimation.slideUp(distance: 50);\n\n// Apply at different progress values\nanimation.apply(child, 0.0);  // Widget 50px below final position\nanimation.apply(child, 0.5);  // Widget 25px below final position\nanimation.apply(child, 1.0);  // Widget at final position\n</code></pre>"},{"location":"animations/prop-animation/#basic-usage","title":"Basic Usage","text":"<pre><code>AnimatedProp(\n  animation: PropAnimation.fadeIn(),\n  duration: 30,\n  child: Text('Fading in'),\n)\n</code></pre>"},{"location":"animations/prop-animation/#factory-constructors","title":"Factory Constructors","text":"<p>These create specific animation types:</p>"},{"location":"animations/prop-animation/#propanimationtranslate","title":"PropAnimation.translate","text":"<p>Animates position from one offset to another:</p> <pre><code>PropAnimation.translate(\n  start: Offset(100, 0),  // Start 100px to the right\n  end: Offset.zero,       // End at original position\n)\n</code></pre> Parameter Type Default Description <code>start</code> <code>Offset</code> <code>Offset.zero</code> Starting position <code>end</code> <code>Offset</code> <code>Offset.zero</code> Ending position"},{"location":"animations/prop-animation/#propanimationscale","title":"PropAnimation.scale","text":"<p>Animates scale from one value to another:</p> <pre><code>PropAnimation.scale(\n  start: 0.0,                     // Start invisible\n  end: 1.0,                       // End at full size\n  alignment: Alignment.center,    // Scale from center\n)\n</code></pre> Parameter Type Default Description <code>start</code> <code>double</code> <code>0.0</code> Starting scale <code>end</code> <code>double</code> <code>1.0</code> Ending scale <code>alignment</code> <code>Alignment</code> <code>center</code> Scale origin"},{"location":"animations/prop-animation/#propanimationrotate","title":"PropAnimation.rotate","text":"<p>Animates rotation from one angle to another (in radians):</p> <pre><code>PropAnimation.rotate(\n  start: 0.0,                     // Start upright\n  end: 3.14159,                   // End rotated 180 degrees\n  alignment: Alignment.center,    // Rotate around center\n)\n</code></pre> Parameter Type Default Description <code>start</code> <code>double</code> <code>0.0</code> Starting angle (radians) <code>end</code> <code>double</code> <code>0.0</code> Ending angle (radians) <code>alignment</code> <code>Alignment</code> <code>center</code> Rotation origin"},{"location":"animations/prop-animation/#propanimationfade","title":"PropAnimation.fade","text":"<p>Animates opacity from one value to another:</p> <pre><code>PropAnimation.fade(\n  start: 0.0,  // Start invisible\n  end: 1.0,    // End fully visible\n)\n</code></pre> Parameter Type Default Description <code>start</code> <code>double</code> <code>0.0</code> Starting opacity (0-1) <code>end</code> <code>double</code> <code>1.0</code> Ending opacity (0-1)"},{"location":"animations/prop-animation/#propanimationcombine","title":"PropAnimation.combine","text":"<p>Combines multiple animations:</p> <pre><code>PropAnimation.combine([\n  PropAnimation.translate(start: Offset(0, 50), end: Offset.zero),\n  PropAnimation.fade(start: 0.0, end: 1.0),\n  PropAnimation.scale(start: 0.8, end: 1.0),\n])\n</code></pre> Parameter Type Description <code>animations</code> <code>List&lt;PropAnimation&gt;</code> Animations to combine"},{"location":"animations/prop-animation/#convenience-methods","title":"Convenience Methods","text":"<p>Pre-configured animations for common effects:</p>"},{"location":"animations/prop-animation/#slide-animations","title":"Slide Animations","text":"<pre><code>// Slide from below to original position\nPropAnimation.slideUp(distance: 30)  // Default: 30px\n\n// Slide from above to original position\nPropAnimation.slideDown(distance: 30)\n\n// Slide from right to original position\nPropAnimation.slideLeft(distance: 30)\n\n// Slide from left to original position\nPropAnimation.slideRight(distance: 30)\n</code></pre>"},{"location":"animations/prop-animation/#scale-animations","title":"Scale Animations","text":"<pre><code>// Scale from small to full size\nPropAnimation.zoomIn(start: 0.5)  // Default: 0.5\n\n// Scale from full size to small\nPropAnimation.zoomOut(end: 0.5)\n</code></pre>"},{"location":"animations/prop-animation/#fade-animations","title":"Fade Animations","text":"<pre><code>// Fade from invisible to visible\nPropAnimation.fadeIn()\n\n// Fade from visible to invisible\nPropAnimation.fadeOut()\n</code></pre>"},{"location":"animations/prop-animation/#combined-animations","title":"Combined Animations","text":"<pre><code>// Slide up + fade in\nPropAnimation.slideUpFade(distance: 30)\n\n// Slide up + scale in\nPropAnimation.slideUpScale(\n  distance: 30,\n  startScale: 0.8,\n)\n</code></pre>"},{"location":"animations/prop-animation/#continuous-animations","title":"Continuous Animations","text":"<p>For looping/oscillating effects:</p> <pre><code>// Floating motion (use with Loop widget)\nPropAnimation.float(\n  amplitude: Offset(0, 10),  // Move 10px up/down\n  phase: 0.0,                // Starting phase\n)\n\n// Pulsing scale (use with Loop widget)\nPropAnimation.pulse(\n  min: 0.95,   // Minimum scale\n  max: 1.05,   // Maximum scale\n  phase: 0.0,\n)\n</code></pre>"},{"location":"animations/prop-animation/#animation-classes","title":"Animation Classes","text":""},{"location":"animations/prop-animation/#translateanimation","title":"TranslateAnimation","text":"<p>Moves widget by interpolated offset:</p> <pre><code>const TranslateAnimation(\n  start: Offset(0, 100),\n  end: Offset.zero,\n)\n</code></pre>"},{"location":"animations/prop-animation/#scaleanimation","title":"ScaleAnimation","text":"<p>Scales widget by interpolated factor:</p> <pre><code>const ScaleAnimation(\n  start: 0.0,\n  end: 1.0,\n  alignment: Alignment.center,\n)\n</code></pre>"},{"location":"animations/prop-animation/#rotateanimation","title":"RotateAnimation","text":"<p>Rotates widget by interpolated angle:</p> <pre><code>const RotateAnimation(\n  start: 0.0,\n  end: 3.14159,  // 180 degrees\n  alignment: Alignment.center,\n)\n</code></pre>"},{"location":"animations/prop-animation/#fadeanimation","title":"FadeAnimation","text":"<p>Changes widget opacity:</p> <pre><code>const FadeAnimation(\n  start: 0.0,\n  end: 1.0,\n)\n</code></pre>"},{"location":"animations/prop-animation/#combinedanimation","title":"CombinedAnimation","text":"<p>Applies multiple animations in sequence:</p> <pre><code>const CombinedAnimation([\n  TranslateAnimation(start: Offset(0, 30), end: Offset.zero),\n  FadeAnimation(start: 0.0, end: 1.0),\n])\n</code></pre>"},{"location":"animations/prop-animation/#floatanimation","title":"FloatAnimation","text":"<p>Creates oscillating movement using sine wave:</p> <pre><code>const FloatAnimation(\n  amplitude: Offset(0, 10),  // X and Y movement range\n  phase: 0.0,                // Phase offset (0-1)\n)\n</code></pre>"},{"location":"animations/prop-animation/#pulseanimation","title":"PulseAnimation","text":"<p>Creates oscillating scale using sine wave:</p> <pre><code>const PulseAnimation(\n  min: 0.95,   // Minimum scale\n  max: 1.05,   // Maximum scale\n  phase: 0.0,  // Phase offset (0-1)\n)\n</code></pre>"},{"location":"animations/prop-animation/#combining-animations","title":"Combining Animations","text":""},{"location":"animations/prop-animation/#multiple-effects","title":"Multiple Effects","text":"<p>Combine any animations for complex effects:</p> <pre><code>final animation = PropAnimation.combine([\n  PropAnimation.slideUp(distance: 50),\n  PropAnimation.fadeIn(),\n  PropAnimation.zoomIn(start: 0.9),\n]);\n\nAnimatedProp(\n  animation: animation,\n  duration: 40,\n  curve: Easing.easeOutCubic,\n  child: MyWidget(),\n)\n</code></pre>"},{"location":"animations/prop-animation/#order-matters","title":"Order Matters","text":"<p>Animations are applied in order. This affects rotation/scale origin:</p> <pre><code>// Translate then rotate: rotates around original center\nPropAnimation.combine([\n  PropAnimation.translate(...),\n  PropAnimation.rotate(...),\n])\n\n// Rotate then translate: rotates around new position\nPropAnimation.combine([\n  PropAnimation.rotate(...),\n  PropAnimation.translate(...),\n])\n</code></pre>"},{"location":"animations/prop-animation/#examples","title":"Examples","text":""},{"location":"animations/prop-animation/#basic-slide-up","title":"Basic Slide-Up","text":"<pre><code>AnimatedProp(\n  animation: PropAnimation.slideUp(),\n  duration: 30,\n  startFrame: 0,\n  child: Text(\n    'Hello World',\n    style: TextStyle(fontSize: 48, color: Colors.white),\n  ),\n)\n</code></pre>"},{"location":"animations/prop-animation/#dramatic-entrance","title":"Dramatic Entrance","text":"<pre><code>AnimatedProp(\n  animation: PropAnimation.combine([\n    PropAnimation.slideUp(distance: 100),\n    PropAnimation.fadeIn(),\n    PropAnimation.zoomIn(start: 0.5),\n  ]),\n  duration: 45,\n  curve: Easing.easeOutBack,\n  child: Container(\n    padding: EdgeInsets.all(20),\n    decoration: BoxDecoration(\n      color: Colors.blue,\n      borderRadius: BorderRadius.circular(12),\n    ),\n    child: Text('Featured'),\n  ),\n)\n</code></pre>"},{"location":"animations/prop-animation/#rotating-icon","title":"Rotating Icon","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, child) {\n    // One full rotation over 60 frames\n    final progress = (frame % 60) / 60;\n    final rotation = PropAnimation.rotate(\n      start: 0,\n      end: 2 * 3.14159,\n    );\n    return rotation.apply(child!, progress);\n  },\n  child: Icon(Icons.refresh, size: 48),\n)\n</code></pre>"},{"location":"animations/prop-animation/#floating-element","title":"Floating Element","text":"<pre><code>// Requires a Loop widget or continuous frame updates\nTimeConsumer(\n  builder: (context, frame, child) {\n    final progress = (frame % 120) / 120;  // 4 second cycle at 30fps\n    final float = PropAnimation.float(\n      amplitude: Offset(0, 15),\n    );\n    return float.apply(child!, progress);\n  },\n  child: Image.asset('assets/cloud.png'),\n)\n</code></pre>"},{"location":"animations/prop-animation/#exit-animation","title":"Exit Animation","text":"<pre><code>// Fade out while scaling down\nAnimatedProp(\n  animation: PropAnimation.combine([\n    PropAnimation.fadeOut(),\n    PropAnimation.zoomOut(end: 0.8),\n  ]),\n  duration: 25,\n  startFrame: 150,  // Start exit at frame 150\n  curve: Easing.easeInCubic,\n  child: MyContent(),\n)\n</code></pre>"},{"location":"animations/prop-animation/#spin-in","title":"Spin In","text":"<pre><code>AnimatedProp(\n  animation: PropAnimation.combine([\n    PropAnimation.rotate(start: -3.14159, end: 0),  // 180 degree spin\n    PropAnimation.fadeIn(),\n    PropAnimation.zoomIn(start: 0.3),\n  ]),\n  duration: 40,\n  curve: Easing.easeOutBack,\n  child: Icon(Icons.star, size: 64, color: Colors.yellow),\n)\n</code></pre>"},{"location":"animations/prop-animation/#creating-custom-animations","title":"Creating Custom Animations","text":"<p>Extend <code>PropAnimation</code> for custom effects:</p> <pre><code>class BlurAnimation extends PropAnimation {\n  final double startBlur;\n  final double endBlur;\n\n  const BlurAnimation({\n    this.startBlur = 10.0,\n    this.endBlur = 0.0,\n  });\n\n  @override\n  Widget apply(Widget child, double progress) {\n    final blur = startBlur + (endBlur - startBlur) * progress;\n    if (blur == 0.0) return child;\n\n    return ImageFiltered(\n      imageFilter: ImageFilter.blur(sigmaX: blur, sigmaY: blur),\n      child: child,\n    );\n  }\n}\n</code></pre>"},{"location":"animations/prop-animation/#related","title":"Related","text":"<ul> <li>EntryAnimation - Specialized reveal animations</li> <li>StaggerConfig - Sequential animations</li> <li>Easing - Animation curves</li> <li>interpolate() - Keyframe animation</li> <li>AnimatedProp - Animation widget</li> </ul>"},{"location":"animations/stagger-config/","title":"StaggerConfig","text":"<p>Configuration for staggered child animations</p> <p><code>StaggerConfig</code> defines how children in <code>VColumn</code> and <code>VRow</code> should animate in sequence, with configurable delays between each child's animation start.</p>"},{"location":"animations/stagger-config/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Factory Constructors</li> <li>Helper Methods</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"animations/stagger-config/#overview","title":"Overview","text":"<p>Stagger animations create a cascading reveal effect where each child starts animating after a delay:</p> <pre><code>VColumn(\n  stagger: StaggerConfig(\n    delay: 10,\n    duration: 30,\n  ),\n  children: [\n    Text('Item 1'),  // Starts at frame 0\n    Text('Item 2'),  // Starts at frame 10\n    Text('Item 3'),  // Starts at frame 20\n    Text('Item 4'),  // Starts at frame 30\n  ],\n)\n</code></pre>"},{"location":"animations/stagger-config/#animation-timeline","title":"Animation Timeline","text":"<pre><code>Frame:    0   10   20   30   40   50   60   70\n          |    |    |    |    |    |    |    |\nItem 1:   \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nItem 2:        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nItem 3:             \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nItem 4:                  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n          \u2191    \u2191    \u2191    \u2191\n       delay between each start\n</code></pre>"},{"location":"animations/stagger-config/#properties","title":"Properties","text":"Property Type Default Description <code>delay</code> <code>int</code> required Frames between each child's start <code>duration</code> <code>int?</code> <code>null</code> Animation duration (default: 20) <code>curve</code> <code>Curve</code> <code>Curves.easeOut</code> Easing curve <code>fadeIn</code> <code>bool</code> <code>true</code> Enable fade animation <code>slideIn</code> <code>bool</code> <code>false</code> Enable slide animation <code>slideOffset</code> <code>Offset</code> <code>Offset(0, 30)</code> Slide start offset <code>scaleIn</code> <code>bool</code> <code>false</code> Enable scale animation <code>scaleStart</code> <code>double</code> <code>0.8</code> Starting scale value"},{"location":"animations/stagger-config/#factory-constructors","title":"Factory Constructors","text":""},{"location":"animations/stagger-config/#basic-constructor","title":"Basic Constructor","text":"<p>Full control over all properties:</p> <pre><code>StaggerConfig(\n  delay: 10,\n  duration: 30,\n  curve: Curves.easeOut,\n  fadeIn: true,\n  slideIn: true,\n  slideOffset: Offset(0, 40),\n  scaleIn: false,\n  scaleStart: 0.8,\n)\n</code></pre>"},{"location":"animations/stagger-config/#staggerconfigfade","title":"StaggerConfig.fade","text":"<p>Simple fade-in only:</p> <pre><code>StaggerConfig.fade(\n  delay: 10,\n  duration: 25,\n  curve: Curves.easeOut,\n)\n</code></pre>"},{"location":"animations/stagger-config/#staggerconfigslideup","title":"StaggerConfig.slideUp","text":"<p>Slide up from below with fade:</p> <pre><code>StaggerConfig.slideUp(\n  delay: 10,\n  duration: 30,\n  distance: 40,  // Pixels to slide\n  curve: Curves.easeOut,\n)\n</code></pre>"},{"location":"animations/stagger-config/#staggerconfigslidedown","title":"StaggerConfig.slideDown","text":"<p>Slide down from above with fade:</p> <pre><code>StaggerConfig.slideDown(\n  delay: 10,\n  duration: 30,\n  distance: 40,\n  curve: Curves.easeOut,\n)\n</code></pre>"},{"location":"animations/stagger-config/#staggerconfigslideleft","title":"StaggerConfig.slideLeft","text":"<p>Slide from the right with fade:</p> <pre><code>StaggerConfig.slideLeft(\n  delay: 10,\n  duration: 30,\n  distance: 50,\n  curve: Curves.easeOut,\n)\n</code></pre>"},{"location":"animations/stagger-config/#staggerconfigslideright","title":"StaggerConfig.slideRight","text":"<p>Slide from the left with fade:</p> <pre><code>StaggerConfig.slideRight(\n  delay: 10,\n  duration: 30,\n  distance: 50,\n  curve: Curves.easeOut,\n)\n</code></pre>"},{"location":"animations/stagger-config/#staggerconfigscale","title":"StaggerConfig.scale","text":"<p>Scale up with fade:</p> <pre><code>StaggerConfig.scale(\n  delay: 10,\n  duration: 30,\n  start: 0.7,  // Starting scale\n  curve: Curves.easeOut,\n)\n</code></pre>"},{"location":"animations/stagger-config/#staggerconfigslideupscale","title":"StaggerConfig.slideUpScale","text":"<p>Combined slide up + scale + fade:</p> <pre><code>StaggerConfig.slideUpScale(\n  delay: 12,\n  duration: 35,\n  slideDistance: 30,\n  scaleStart: 0.85,\n  curve: Curves.easeOut,\n)\n</code></pre>"},{"location":"animations/stagger-config/#helper-methods","title":"Helper Methods","text":""},{"location":"animations/stagger-config/#effectiveduration","title":"effectiveDuration","text":"<p>Returns the actual duration (default 20 if not specified):</p> <pre><code>final stagger = StaggerConfig(delay: 10);\nprint(stagger.effectiveDuration);  // 20\n</code></pre>"},{"location":"animations/stagger-config/#startframeforindex","title":"startFrameForIndex","text":"<p>Calculates when a specific child starts:</p> <pre><code>final stagger = StaggerConfig(delay: 10);\nprint(stagger.startFrameForIndex(0));  // 0\nprint(stagger.startFrameForIndex(1));  // 10\nprint(stagger.startFrameForIndex(2));  // 20\n\n// With base frame offset\nprint(stagger.startFrameForIndex(0, 30));  // 30\nprint(stagger.startFrameForIndex(1, 30));  // 40\n</code></pre>"},{"location":"animations/stagger-config/#endframeforindex","title":"endFrameForIndex","text":"<p>Calculates when a specific child's animation ends:</p> <pre><code>final stagger = StaggerConfig(delay: 10, duration: 25);\nprint(stagger.endFrameForIndex(0));  // 25\nprint(stagger.endFrameForIndex(1));  // 35\nprint(stagger.endFrameForIndex(2));  // 45\n</code></pre>"},{"location":"animations/stagger-config/#totalduration","title":"totalDuration","text":"<p>Calculates the total time for all children to finish:</p> <pre><code>final stagger = StaggerConfig(delay: 10, duration: 30);\n\n// 3 children: last starts at frame 20, ends at frame 50\nprint(stagger.totalDuration(3));  // 50\n\n// 5 children: last starts at frame 40, ends at frame 70\nprint(stagger.totalDuration(5));  // 70\n</code></pre>"},{"location":"animations/stagger-config/#examples","title":"Examples","text":""},{"location":"animations/stagger-config/#basic-staggered-list","title":"Basic Staggered List","text":"<pre><code>Scene(\n  durationInFrames: 150,\n  background: Background.solid(Colors.black),\n  children: [\n    VPadding(\n      padding: EdgeInsets.all(60),\n      startFrame: 0,\n      child: VColumn(\n        spacing: 20,\n        stagger: StaggerConfig.slideUp(\n          delay: 10,\n          duration: 30,\n          distance: 40,\n        ),\n        children: [\n          Text('First item', style: TextStyle(fontSize: 24, color: Colors.white)),\n          Text('Second item', style: TextStyle(fontSize: 24, color: Colors.white)),\n          Text('Third item', style: TextStyle(fontSize: 24, color: Colors.white)),\n          Text('Fourth item', style: TextStyle(fontSize: 24, color: Colors.white)),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"animations/stagger-config/#staggered-row","title":"Staggered Row","text":"<pre><code>VRow(\n  spacing: 20,\n  stagger: StaggerConfig.scale(\n    delay: 8,\n    duration: 25,\n    start: 0.5,\n  ),\n  children: [\n    Icon(Icons.star, size: 48, color: Colors.yellow),\n    Icon(Icons.star, size: 48, color: Colors.yellow),\n    Icon(Icons.star, size: 48, color: Colors.yellow),\n    Icon(Icons.star, size: 48, color: Colors.yellow),\n    Icon(Icons.star, size: 48, color: Colors.yellow),\n  ],\n)\n</code></pre>"},{"location":"animations/stagger-config/#ranking-list","title":"Ranking List","text":"<pre><code>VColumn(\n  spacing: 16,\n  stagger: StaggerConfig.slideRight(\n    delay: 12,\n    duration: 30,\n    distance: 100,\n  ),\n  children: [\n    _buildRankItem(1, 'Pop Hits', '2,450 streams'),\n    _buildRankItem(2, 'Rock Classics', '1,890 streams'),\n    _buildRankItem(3, 'Jazz Vibes', '1,234 streams'),\n    _buildRankItem(4, 'Electronic', '987 streams'),\n    _buildRankItem(5, 'Classical', '654 streams'),\n  ],\n)\n</code></pre>"},{"location":"animations/stagger-config/#grid-with-stagger","title":"Grid with Stagger","text":"<pre><code>Column(\n  children: [\n    // First row\n    VRow(\n      stagger: StaggerConfig.scale(delay: 5, duration: 20),\n      children: [card1, card2, card3],\n    ),\n    SizedBox(height: 20),\n    // Second row (starts after first row)\n    VRow(\n      stagger: StaggerConfig.scale(\n        delay: 5,\n        duration: 20,\n      ).copyWith(startFrame: 30),  // Offset start\n      children: [card4, card5, card6],\n    ),\n  ],\n)\n</code></pre>"},{"location":"animations/stagger-config/#fast-reveal","title":"Fast Reveal","text":"<p>Quick succession for dynamic feel:</p> <pre><code>VColumn(\n  stagger: StaggerConfig.fade(\n    delay: 3,      // Very short delay\n    duration: 15,  // Quick animation\n  ),\n  children: statsWidgets,\n)\n</code></pre>"},{"location":"animations/stagger-config/#slow-dramatic-reveal","title":"Slow Dramatic Reveal","text":"<p>Slower pacing for emphasis:</p> <pre><code>VColumn(\n  stagger: StaggerConfig.slideUpScale(\n    delay: 25,     // Long delay between items\n    duration: 45,  // Slow animation\n    slideDistance: 60,\n    scaleStart: 0.6,\n  ),\n  children: importantItems,\n)\n</code></pre>"},{"location":"animations/stagger-config/#custom-combined-effect","title":"Custom Combined Effect","text":"<pre><code>VColumn(\n  stagger: StaggerConfig(\n    delay: 15,\n    duration: 35,\n    curve: Easing.easeOutBack,  // Bounce effect\n    fadeIn: true,\n    slideIn: true,\n    slideOffset: Offset(0, 50),\n    scaleIn: true,\n    scaleStart: 0.7,\n  ),\n  children: featureCards,\n)\n</code></pre>"},{"location":"animations/stagger-config/#calculating-scene-length","title":"Calculating Scene Length","text":"<p>Use <code>totalDuration</code> to size your scene:</p> <pre><code>final items = ['Item 1', 'Item 2', 'Item 3', 'Item 4', 'Item 5'];\nfinal stagger = StaggerConfig.slideUp(delay: 15, duration: 30);\n\n// Calculate minimum scene length\nfinal animationLength = stagger.totalDuration(items.length);\nfinal holdTime = 60;  // Time to hold after animations complete\nfinal sceneLength = animationLength + holdTime;\n\nScene(\n  durationInFrames: sceneLength,  // 90 + 60 = 150 frames\n  children: [\n    VColumn(\n      stagger: stagger,\n      children: items.map((item) =&gt; Text(item)).toList(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"animations/stagger-config/#different-curves","title":"Different Curves","text":"<pre><code>// Snappy entrance\nStaggerConfig.slideUp(\n  delay: 8,\n  curve: Easing.easeOutExpo,\n)\n\n// Bouncy entrance\nStaggerConfig.scale(\n  delay: 10,\n  curve: Easing.easeOutBack,\n)\n\n// Smooth entrance\nStaggerConfig.fade(\n  delay: 12,\n  curve: Easing.easeInOutCubic,\n)\n</code></pre>"},{"location":"animations/stagger-config/#timing-visualization","title":"Timing Visualization","text":"<p>For a stagger with <code>delay: 10</code> and <code>duration: 30</code>:</p> <pre><code>Child    Start    End      Timeline\n\u2500\u2500\u2500\u2500\u2500    \u2500\u2500\u2500\u2500\u2500    \u2500\u2500\u2500      \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  0        0       30      \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n  1       10       40           \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n  2       20       50                \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n  3       30       60                     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n  4       40       70                          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\nFrame:   0   10   20   30   40   50   60   70\n</code></pre> <p>Total duration = <code>startFrame(4) + duration</code> = <code>40 + 30</code> = <code>70 frames</code></p>"},{"location":"animations/stagger-config/#related","title":"Related","text":"<ul> <li>VColumn - Vertical layout with stagger</li> <li>VRow - Horizontal layout with stagger</li> <li>PropAnimation - Animation base class</li> <li>Easing - Animation curves</li> </ul>"},{"location":"concept/","title":"Core Concepts","text":"<p>Understanding how Fluvie works under the hood</p> <p>Before diving into building videos, it helps to understand the fundamental concepts that make Fluvie work. This section covers the architecture, animation model, and rendering pipeline.</p>"},{"location":"concept/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Architecture - The dual-engine model</li> <li>Frame-Based Animation - Why frames matter</li> <li>Rendering Pipeline - From widgets to video</li> <li>Preview vs Render Mode - Development workflow</li> </ul>"},{"location":"concept/#quick-overview","title":"Quick Overview","text":""},{"location":"concept/#the-big-picture","title":"The Big Picture","text":"<p>Fluvie combines two powerful technologies:</p> <ol> <li>Flutter - Provides the widget system, rendering engine, and developer experience</li> <li>FFmpeg - Handles video encoding, audio mixing, and format conversion</li> </ol> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Your Code                             \u2502\n\u2502                                                          \u2502\n\u2502   Video(                                                 \u2502\n\u2502     scenes: [                                            \u2502\n\u2502       Scene(children: [...]),                            \u2502\n\u2502       Scene(children: [...]),                            \u2502\n\u2502     ],                                                   \u2502\n\u2502   )                                                      \u2502\n\u2502                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502      Flutter Engine       \u2502\n           \u2502   (Skia/Impeller)         \u2502\n           \u2502                           \u2502\n           \u2502  Rasterizes each frame    \u2502\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502        FFmpeg             \u2502\n           \u2502                           \u2502\n           \u2502  Encodes frames + audio   \u2502\n           \u2502  into final video file    \u2502\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502     Output Video          \u2502\n           \u2502     (MP4, WebM, etc.)     \u2502\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concept/#frame-based-thinking","title":"Frame-Based Thinking","text":"<p>Unlike traditional Flutter animations that run on wall-clock time, Fluvie animations are tied to frame numbers. This is crucial for video:</p> <ul> <li>Frame 0 is always the start of your video</li> <li>At 30 fps, frame 30 is exactly 1 second into the video</li> <li>Animations are deterministic and reproducible</li> </ul> <pre><code>// Instead of Duration, use frames\nScene(\n  durationInFrames: 90,  // 3 seconds at 30fps\n  children: [\n    AnimatedText.slideUpFade(\n      'Hello',\n      startFrame: 0,   // Start immediately\n      duration: 30,    // Animate over 1 second\n    ),\n  ],\n)\n</code></pre>"},{"location":"concept/#two-operating-modes","title":"Two Operating Modes","text":"<p>Fluvie operates in two modes:</p> Mode Purpose How It Works Preview Development Plays at real-time speed with audio Render Export Captures frames deterministically <p>In preview mode, you get instant feedback. In render mode, every frame is captured perfectly, regardless of how long each frame takes to render.</p>"},{"location":"concept/#key-concepts-to-understand","title":"Key Concepts to Understand","text":""},{"location":"concept/#1-compositions-are-widget-trees","title":"1. Compositions are Widget Trees","text":"<p>A Fluvie video is just a Flutter widget tree. Everything you know about Flutter widgets applies:</p> <pre><code>Video(                          // Root widget\n  scenes: [\n    Scene(                      // Container widget\n      children: [\n        VStack(                 // Layout widget\n          children: [\n            AnimatedText(...),  // Content widget\n            Image.asset(...),   // Standard Flutter widget\n          ],\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"concept/#2-time-is-measured-in-frames","title":"2. Time is Measured in Frames","text":"<p>Every timing value is expressed in frames:</p> <pre><code>Scene(\n  durationInFrames: 150,           // Scene duration: 150 frames\n  fadeInFrames: 15,      // Fade in over 15 frames\n  fadeOutFrames: 15,     // Fade out over 15 frames\n  children: [\n    VPositioned(\n      startFrame: 30,    // Appear at frame 30\n      endFrame: 120,     // Disappear at frame 120\n      child: ...,\n    ),\n  ],\n)\n</code></pre>"},{"location":"concept/#3-state-comes-from-frame-number","title":"3. State Comes from Frame Number","text":"<p>Instead of stateful widgets, Fluvie uses the current frame number to derive state:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // frame: current frame number (0, 1, 2, ...)\n    // progress: 0.0 to 1.0 through the composition\n\n    final color = Color.lerp(Colors.blue, Colors.red, progress)!;\n    return Container(color: color);\n  },\n)\n</code></pre>"},{"location":"concept/#4-audio-is-synchronized","title":"4. Audio is Synchronized","text":"<p>Audio tracks are precisely aligned to frame numbers:</p> <pre><code>AudioTrack(\n  source: AudioSource.asset('music.mp3'),\n  startFrame: 0,         // Start with the video\n  durationInFrames: 300, // Play for 300 frames\n  fadeInFrames: 30,      // Fade in over 30 frames\n  fadeOutFrames: 30,     // Fade out over 30 frames\n  child: ...,\n)\n</code></pre>"},{"location":"concept/#next-steps","title":"Next Steps","text":"<p>Dive deeper into each concept:</p> <ol> <li> <p>Architecture - Learn about the four layers (Presentation, Domain, Capture, Encoding)</p> </li> <li> <p>Frame-Based Animation - Understand why frame-based timing is essential for video</p> </li> <li> <p>Rendering Pipeline - Follow a frame from widget to video file</p> </li> <li> <p>Preview vs Render Mode - Learn how to develop and export efficiently</p> </li> </ol>"},{"location":"concept/#related-documentation","title":"Related Documentation","text":"<ul> <li>Getting Started - Installation and first video</li> <li>TimeConsumer Widget - Frame-based state</li> <li>Encoding Settings - Video output options</li> </ul>"},{"location":"concept/architecture/","title":"Architecture","text":"<p>The dual-engine model that powers Fluvie</p> <p>Fluvie combines Flutter's powerful widget system with FFmpeg's video encoding capabilities. This page explains how these components work together.</p>"},{"location":"concept/architecture/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>The Four Layers</li> <li>Data Flow</li> <li>Why This Architecture?</li> </ul>"},{"location":"concept/architecture/#overview","title":"Overview","text":"<p>Fluvie is built on a dual-engine architecture:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         FLUVIE                                   \u2502\n\u2502                                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502    Flutter Engine    \u2502      \u2502       FFmpeg Engine         \u2502   \u2502\n\u2502  \u2502                      \u2502      \u2502                             \u2502   \u2502\n\u2502  \u2502  \u2022 Widget system     \u2502      \u2502  \u2022 Video encoding           \u2502   \u2502\n\u2502  \u2502  \u2022 Layout &amp; styling  \u2502      \u2502  \u2022 Audio mixing             \u2502   \u2502\n\u2502  \u2502  \u2022 Animation curves  \u2502      \u2502  \u2022 Filter processing        \u2502   \u2502\n\u2502  \u2502  \u2022 Frame rasterization\u2502     \u2502  \u2022 Format conversion        \u2502   \u2502\n\u2502  \u2502                      \u2502      \u2502                             \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502             \u2502                                  \u2502                  \u2502\n\u2502             \u2502     Raw Frame Bytes              \u2502                  \u2502\n\u2502             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2502                                                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Flutter handles everything visual: - Building the widget tree - Computing layouts - Rasterizing each frame to pixels</p> <p>FFmpeg handles everything video: - Encoding frames into video codec (H.264, VP9, etc.) - Mixing audio tracks - Writing the final container (MP4, WebM, etc.)</p>"},{"location":"concept/architecture/#the-four-layers","title":"The Four Layers","text":"<p>Fluvie is organized into four distinct layers, each with a specific responsibility:</p>"},{"location":"concept/architecture/#1-presentation-layer","title":"1. Presentation Layer","text":"<p>Location: <code>lib/src/presentation/</code></p> <p>The presentation layer contains all the Flutter widgets you use to build videos:</p> Component Description <code>VideoComposition</code> Root widget that defines video properties <code>Scene</code> Time-bounded section of video <code>Sequence</code> Basic timing container <code>TimeConsumer</code> Frame-based animation driver <code>Layer</code> / <code>LayerStack</code> Z-indexed compositing <code>AudioTrack</code> Audio attachment <p>Key insight: These are standard Flutter widgets! They follow Flutter's composition model and can be combined with any Flutter widget.</p> <pre><code>// Presentation layer widgets\nVideoComposition(\n  fps: 30,\n  durationInFrames: 150,\n  child: LayerStack(\n    children: [\n      Layer.background(child: GradientBackground()),\n      Layer(child: AnimatedTitle()),\n    ],\n  ),\n)\n</code></pre>"},{"location":"concept/architecture/#2-domain-layer","title":"2. Domain Layer","text":"<p>Location: <code>lib/src/domain/</code></p> <p>The domain layer contains serializable configuration models. These represent the video structure in a format that can be passed between layers:</p> Component Description <code>RenderConfig</code> Complete video configuration <code>TimelineConfig</code> FPS, duration, dimensions <code>SequenceConfig</code> Individual sequence timing <code>AudioTrackConfig</code> Audio file and timing <code>EncodingConfig</code> Quality and format options <p>Key insight: Domain models are pure data. They can be serialized to JSON, stored, or transmitted.</p> <pre><code>// Domain layer models (auto-generated from widgets)\nRenderConfig(\n  timeline: TimelineConfig(\n    fps: 30,\n    durationInFrames: 150,\n    width: 1920,\n    height: 1080,\n  ),\n  sequences: [...],\n  audioTracks: [...],\n)\n</code></pre>"},{"location":"concept/architecture/#3-capture-layer","title":"3. Capture Layer","text":"<p>Location: <code>lib/src/capture/</code></p> <p>The capture layer extracts raw pixel data from Flutter's rendering pipeline:</p> Component Description <code>FrameSequencer</code> Captures frames from RepaintBoundary <code>RenderModeProvider</code> Context for render vs preview mode <code>FrameReadyNotifier</code> Tracks async operations <p>Key insight: Flutter renders to a <code>RepaintBoundary</code>, which is then captured as raw RGBA bytes.</p> <pre><code>// Capture layer operation\nfinal boundary = boundaryKey.currentContext!.findRenderObject() as RenderRepaintBoundary;\nfinal image = await boundary.toImage(pixelRatio: devicePixelRatio);\nfinal byteData = await image.toByteData(format: ImageByteFormat.rawRgba);\n</code></pre>"},{"location":"concept/architecture/#4-encoding-layer","title":"4. Encoding Layer","text":"<p>Location: <code>lib/src/encoding/</code></p> <p>The encoding layer manages FFmpeg and produces the final video:</p> Component Description <code>VideoEncoderService</code> Manages FFmpeg encoding session <code>FFmpegFilterGraphBuilder</code> Builds complex filter graphs <code>FFmpegProvider</code> Platform-specific FFmpeg interface <code>VideoProbeService</code> Extracts video metadata <code>FrameExtractionService</code> Extracts frames from video files <p>Key insight: FFmpeg receives raw frames via stdin and outputs an encoded video file.</p> <pre><code>// Encoding layer operation\nfinal session = await encoderService.startEncoding(\n  config: renderConfig,\n  outputPath: 'output.mp4',\n);\n\n// Stream frames to FFmpeg\nfor (final frameBytes in frames) {\n  session.sink.add(frameBytes);\n}\n\nawait session.close();\n</code></pre>"},{"location":"concept/architecture/#data-flow","title":"Data Flow","text":"<p>Here's how data flows through all four layers during video rendering:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  1. PRESENTATION LAYER                                          \u2502\n\u2502                                                                  \u2502\n\u2502     Your widgets define the video structure                      \u2502\n\u2502     VideoComposition \u2192 Scene \u2192 Widgets                           \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u2502 createConfigFromContext()\n                             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  2. DOMAIN LAYER                                                 \u2502\n\u2502                                                                  \u2502\n\u2502     Widget tree is converted to RenderConfig                     \u2502\n\u2502     (serializable data structure)                                \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u2502 For each frame...\n                             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  3. CAPTURE LAYER                                                \u2502\n\u2502                                                                  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502     \u2502  Frame 0    \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Pump widget tree                   \u2502 \u2502\n\u2502     \u2502             \u2502     \u2502  Wait for rasterization             \u2502 \u2502\n\u2502     \u2502             \u2502     \u2502  Capture from RepaintBoundary       \u2502 \u2502\n\u2502     \u2502             \u2502     \u2502  Return raw RGBA bytes              \u2502 \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                  \u2502               \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                              \u2502               \u2502\n\u2502     \u2502  Frame 1    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524               \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                              \u2502               \u2502\n\u2502                                                  \u2502               \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                              \u2502               \u2502\n\u2502     \u2502  Frame N    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524               \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                              \u2502               \u2502\n\u2502                                                  \u25bc               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u2502 Stream of frame bytes\n                             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  4. ENCODING LAYER                                               \u2502\n\u2502                                                                  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502     \u2502  FFmpeg Process                                         \u2502  \u2502\n\u2502     \u2502                                                         \u2502  \u2502\n\u2502     \u2502  Inputs:                                                \u2502  \u2502\n\u2502     \u2502    - Frame stream (stdin)                               \u2502  \u2502\n\u2502     \u2502    - Audio files                                        \u2502  \u2502\n\u2502     \u2502    - Embedded videos                                    \u2502  \u2502\n\u2502     \u2502                                                         \u2502  \u2502\n\u2502     \u2502  Filter Graph:                                          \u2502  \u2502\n\u2502     \u2502    [frames] \u2192 fps \u2192 format \u2192 [v_out]                    \u2502  \u2502\n\u2502     \u2502    [audio1] + [audio2] \u2192 amix \u2192 [a_out]                 \u2502  \u2502\n\u2502     \u2502                                                         \u2502  \u2502\n\u2502     \u2502  Output:                                                \u2502  \u2502\n\u2502     \u2502    - Encoded video file (MP4)                           \u2502  \u2502\n\u2502     \u2502                                                         \u2502  \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u25bc\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502  output.mp4     \u2502\n                    \u2502  (Final Video)  \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concept/architecture/#why-this-architecture","title":"Why This Architecture?","text":""},{"location":"concept/architecture/#why-flutter","title":"Why Flutter?","text":"<ol> <li>Rich widget ecosystem - Use any Flutter widget in your videos</li> <li>Familiar development model - If you know Flutter, you know Fluvie</li> <li>Hot reload for preview - Rapid iteration during development</li> <li>Cross-platform - Same code works on Linux, macOS, Windows, Web</li> <li>Declarative UI - Describe what you want, not how to draw it</li> </ol>"},{"location":"concept/architecture/#why-ffmpeg","title":"Why FFmpeg?","text":"<ol> <li>Industry standard - Battle-tested video encoding</li> <li>Codec support - H.264, H.265, VP9, AV1, and more</li> <li>Audio mixing - Complex audio graphs with fades and ducking</li> <li>Filter graphs - Post-processing effects if needed</li> <li>Format support - MP4, WebM, MOV, and more</li> </ol>"},{"location":"concept/architecture/#why-separate-them","title":"Why Separate Them?","text":"<ol> <li>Each engine does what it's best at - Flutter renders, FFmpeg encodes</li> <li>Testability - Layers can be tested independently</li> <li>Flexibility - Swap FFmpeg providers per platform</li> <li>Performance - Raw frame streaming is efficient</li> <li>Reliability - Both engines are mature and stable</li> </ol>"},{"location":"concept/architecture/#integration-points","title":"Integration Points","text":""},{"location":"concept/architecture/#renderservice","title":"RenderService","text":"<p>The <code>RenderService</code> class is the main integration point that orchestrates all layers:</p> <pre><code>// lib/src/integration/render_service.dart\n\nclass RenderService {\n  /// Creates RenderConfig from widget tree\n  RenderConfig createConfigFromContext(BuildContext context);\n\n  /// Executes the full render pipeline\n  Future&lt;String&gt; execute({\n    required BuildContext context,\n    required String outputPath,\n    required Future&lt;void&gt; Function(int frame) onFrameUpdate,\n    void Function(double progress)? onProgress,\n  });\n}\n</code></pre>"},{"location":"concept/architecture/#ffmpegprovider","title":"FFmpegProvider","text":"<p>Platform-specific FFmpeg integration is abstracted behind the <code>FFmpegProvider</code> interface:</p> <pre><code>// Available providers\nProcessFFmpegProvider  // Desktop: runs FFmpeg as a process\nWasmFFmpegProvider     // Web: uses ffmpeg.wasm\n// Custom provider      // Mobile: use FFmpegKit\n</code></pre>"},{"location":"concept/architecture/#source-code-reference","title":"Source Code Reference","text":"Layer Key Files Presentation <code>lib/src/presentation/video_composition.dart</code>, <code>sequence.dart</code>, <code>time_consumer.dart</code> Domain <code>lib/src/domain/render_config.dart</code>, <code>encoding_settings.dart</code> Capture <code>lib/src/capture/frame_sequencer.dart</code> Encoding <code>lib/src/encoding/video_encoder_service.dart</code>, <code>ffmpeg_filter_graph_builder.dart</code> Integration <code>lib/src/integration/render_service.dart</code>"},{"location":"concept/architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li>Rendering Pipeline - Detailed frame-by-frame walkthrough</li> <li>Custom FFmpeg Provider - Platform integration</li> <li>Encoding Settings - Output configuration</li> </ul>"},{"location":"concept/frame-based-animation/","title":"Frame-Based Animation","text":"<p>Why frames matter for video and how to think in frames</p> <p>Unlike traditional Flutter animations that run on wall-clock time, Fluvie animations are tied to frame numbers. This is essential for producing deterministic, high-quality video output.</p>"},{"location":"concept/frame-based-animation/#table-of-contents","title":"Table of Contents","text":"<ul> <li>The Problem with Time-Based Animation</li> <li>Frame-Based Thinking</li> <li>Converting Time to Frames</li> <li>Working with Frames</li> <li>Progress Values</li> </ul>"},{"location":"concept/frame-based-animation/#the-problem-with-time-based-animation","title":"The Problem with Time-Based Animation","text":"<p>Traditional Flutter animations use <code>Duration</code> and real-time:</p> <pre><code>// Traditional Flutter animation\nAnimationController(\n  duration: Duration(seconds: 2),\n  vsync: this,\n)\n</code></pre> <p>This approach has problems for video:</p>"},{"location":"concept/frame-based-animation/#1-frame-drops","title":"1. Frame Drops","text":"<p>If your device can't render fast enough, frames are skipped. In video, this causes stuttering.</p> <pre><code>Desired: Frame 0, 1, 2, 3, 4, 5, 6...\nReality: Frame 0, 1, 3, 4, 6...  \u2190 Frames 2, 5 dropped!\n</code></pre>"},{"location":"concept/frame-based-animation/#2-non-deterministic","title":"2. Non-Deterministic","text":"<p>Running the same animation twice may produce different results based on system performance.</p>"},{"location":"concept/frame-based-animation/#3-variable-frame-rates","title":"3. Variable Frame Rates","text":"<p>Wall-clock time doesn't align with fixed frame rates (24fps, 30fps, 60fps).</p>"},{"location":"concept/frame-based-animation/#frame-based-thinking","title":"Frame-Based Thinking","text":"<p>Fluvie uses frame numbers as the fundamental unit of time:</p> <pre><code>// Fluvie animation\nAnimatedText.slideUpFade(\n  'Hello',\n  startFrame: 0,   // Not a Duration!\n  duration: 30,    // 30 frames, not seconds\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#every-frame-is-captured","title":"Every Frame is Captured","text":"<p>In render mode, Fluvie captures every single frame, regardless of how long it takes to render:</p> <pre><code>Frame 0  \u2192 Render \u2192 Capture \u2192 Encode\nFrame 1  \u2192 Render \u2192 Capture \u2192 Encode\nFrame 2  \u2192 Render \u2192 Capture \u2192 Encode\n...\nFrame N  \u2192 Render \u2192 Capture \u2192 Encode\n</code></pre> <p>No frames are ever skipped, even if a frame takes 5 seconds to render.</p>"},{"location":"concept/frame-based-animation/#deterministic-output","title":"Deterministic Output","text":"<p>The same composition always produces the same video:</p> <pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [Scene(durationInFrames: 90, ...)],\n)\n// Always produces exactly the same 3-second, 90-frame video\n</code></pre>"},{"location":"concept/frame-based-animation/#converting-time-to-frames","title":"Converting Time to Frames","text":"<p>Use this formula to convert between time and frames:</p> <pre><code>frames = seconds \u00d7 fps\nseconds = frames \u00f7 fps\n</code></pre>"},{"location":"concept/frame-based-animation/#common-frame-counts-at-30fps","title":"Common Frame Counts at 30fps","text":"Duration Frames 0.5 seconds 15 1 second 30 2 seconds 60 3 seconds 90 5 seconds 150 10 seconds 300 30 seconds 900 1 minute 1,800"},{"location":"concept/frame-based-animation/#helper-functions","title":"Helper Functions","text":"<p>Create helpers for common conversions:</p> <pre><code>/// Convert seconds to frames\nint secondsToFrames(double seconds, int fps) =&gt; (seconds * fps).round();\n\n/// Convert frames to seconds\ndouble framesToSeconds(int frames, int fps) =&gt; frames / fps;\n\n/// Convert milliseconds to frames\nint msToFrames(int ms, int fps) =&gt; (ms * fps / 1000).round();\n</code></pre>"},{"location":"concept/frame-based-animation/#using-time-like-values","title":"Using Time-Like Values","text":"<p>If you prefer thinking in time, create constants:</p> <pre><code>// At 30fps\nconst int fps = 30;\nconst int oneSecond = 30;     // 1 second = 30 frames\nconst int halfSecond = 15;    // 0.5 seconds = 15 frames\nconst int twoSeconds = 60;    // 2 seconds = 60 frames\n\nScene(\n  durationInFrames: 5 * oneSecond,  // 5 seconds\n  fadeInFrames: halfSecond,\n  children: [\n    AnimatedText.slideUpFade(\n      'Title',\n      duration: oneSecond,\n    ),\n  ],\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#working-with-frames","title":"Working with Frames","text":""},{"location":"concept/frame-based-animation/#timeconsumer-the-frame-provider","title":"TimeConsumer: The Frame Provider","text":"<p><code>TimeConsumer</code> is the core widget for frame-based animation:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // frame: current absolute frame number (0, 1, 2, ...)\n    // progress: 0.0 to 1.0 through the composition\n\n    return Text('Frame: $frame');\n  },\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#scene-relative-frames","title":"Scene-Relative Frames","text":"<p>Within a scene, you often want frame numbers relative to the scene start:</p> <pre><code>Scene(\n  durationInFrames: 90,\n  children: [\n    TimeConsumer(\n      builder: (context, globalFrame, _) {\n        final sceneContext = SceneContext.of(context);\n        final localFrame = sceneContext != null\n            ? globalFrame - sceneContext.sceneStartFrame\n            : globalFrame;\n\n        // localFrame: 0 to 89 within this scene\n        return Text('Scene frame: $localFrame');\n      },\n    ),\n  ],\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#animation-timing","title":"Animation Timing","text":"<p>Calculate animation progress based on frames:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    final sceneContext = SceneContext.of(context);\n    final localFrame = frame - (sceneContext?.sceneStartFrame ?? 0);\n\n    // Animation from frame 10 to frame 40\n    const startFrame = 10;\n    const duration = 30;\n\n    final animProgress = ((localFrame - startFrame) / duration).clamp(0.0, 1.0);\n\n    // Apply easing\n    final easedProgress = Curves.easeOutCubic.transform(animProgress);\n\n    // Use progress for animation\n    final opacity = easedProgress;\n    final translateY = 50 * (1 - easedProgress);\n\n    return Transform.translate(\n      offset: Offset(0, translateY),\n      child: Opacity(\n        opacity: opacity,\n        child: Text('Animated!'),\n      ),\n    );\n  },\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#progress-values","title":"Progress Values","text":"<p>Many Fluvie widgets use progress values (0.0 to 1.0) that represent animation completion:</p>"},{"location":"concept/frame-based-animation/#composition-progress","title":"Composition Progress","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // progress: 0.0 at frame 0, 1.0 at last frame\n\n    final color = Color.lerp(Colors.blue, Colors.red, progress)!;\n    return Container(color: color);\n  },\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#scene-progress","title":"Scene Progress","text":"<pre><code>Scene(\n  durationInFrames: 90,\n  children: [\n    VCenter(\n      child: TimeConsumer(\n        builder: (context, frame, _) {\n          final sceneContext = SceneContext.of(context);\n          if (sceneContext == null) return SizedBox.shrink();\n\n          final sceneProgress = sceneContext.progress;\n          // sceneProgress: 0.0 at scene start, 1.0 at scene end\n\n          return CircularProgressIndicator(value: sceneProgress);\n        },\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#animation-progress","title":"Animation Progress","text":"<p>For custom animations:</p> <pre><code>// Calculate progress for a specific animation window\ndouble getAnimationProgress({\n  required int currentFrame,\n  required int startFrame,\n  required int duration,\n}) {\n  if (currentFrame &lt; startFrame) return 0.0;\n  if (currentFrame &gt;= startFrame + duration) return 1.0;\n  return (currentFrame - startFrame) / duration;\n}\n</code></pre>"},{"location":"concept/frame-based-animation/#practical-examples","title":"Practical Examples","text":""},{"location":"concept/frame-based-animation/#staggered-animations","title":"Staggered Animations","text":"<p>Animate children with frame-based delays:</p> <pre><code>Scene(\n  durationInFrames: 120,\n  children: [\n    for (var i = 0; i &lt; 5; i++)\n      AnimatedText.slideUpFade(\n        'Item $i',\n        startFrame: i * 10, // Each item starts 10 frames after the previous\n        duration: 20,\n      ),\n  ],\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#keyframe-animation","title":"Keyframe Animation","text":"<p>Define keyframes at specific frames:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    // Keyframe animation: scale bounces\n    final scale = interpolate(\n      frame.toDouble(),\n      inputRange: [0, 15, 25, 30],\n      outputRange: [1.0, 1.3, 0.9, 1.0],\n      curve: Curves.easeInOut,\n    );\n\n    return Transform.scale(\n      scale: scale,\n      child: MyWidget(),\n    );\n  },\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#looping-animation","title":"Looping Animation","text":"<p>Create a loop within a frame range:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    // 30-frame loop\n    final loopFrame = frame % 30;\n    final loopProgress = loopFrame / 30;\n\n    // Oscillate: 0 \u2192 1 \u2192 0\n    final oscillation = (loopProgress * 2 * pi).sin().abs();\n\n    return Transform.translate(\n      offset: Offset(0, oscillation * 20),\n      child: MyWidget(),\n    );\n  },\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#frame-rate-considerations","title":"Frame Rate Considerations","text":""},{"location":"concept/frame-based-animation/#choosing-a-frame-rate","title":"Choosing a Frame Rate","text":"fps Use Case 24 Cinematic, film-like 30 Standard video, social media 60 Smooth motion, gaming content"},{"location":"concept/frame-based-animation/#frame-rate-impacts","title":"Frame Rate Impacts","text":"<p>Higher frame rates mean: - More frames to render (longer export time) - Smoother motion - Larger file sizes - More granular timing control</p> <pre><code>// 30fps: 90 frames = 3 seconds\nVideo(fps: 30, scenes: [Scene(durationInFrames: 90, ...)])\n\n// 60fps: 180 frames = 3 seconds\nVideo(fps: 60, scenes: [Scene(durationInFrames: 180, ...)])\n</code></pre>"},{"location":"concept/frame-based-animation/#frame-rate-and-audio-sync","title":"Frame Rate and Audio Sync","text":"<p>Audio is also synced to frames. Common audio sync points:</p> Event At 30fps At 60fps Beat at 120 BPM Every 15 frames Every 30 frames Beat at 60 BPM Every 30 frames Every 60 frames"},{"location":"concept/frame-based-animation/#tips-for-frame-based-animation","title":"Tips for Frame-Based Animation","text":""},{"location":"concept/frame-based-animation/#1-think-in-beats-not-seconds","title":"1. Think in Beats, Not Seconds","text":"<p>For music-synced videos, calculate frame timing from BPM:</p> <pre><code>int framesPerBeat(int bpm, int fps) =&gt; (fps * 60 / bpm).round();\n\n// At 120 BPM, 30fps = 15 frames per beat\nfinal beat = framesPerBeat(120, 30); // 15\n\nScene(\n  durationInFrames: beat * 16, // 16 beats\n  children: [\n    AnimatedText.slideUpFade('Drop!', startFrame: beat * 4, duration: beat),\n  ],\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#2-use-named-constants","title":"2. Use Named Constants","text":"<p>Make your code readable:</p> <pre><code>const fps = 30;\nconst beat = 15; // At 120 BPM\nconst bar = beat * 4; // 4 beats = 1 bar\n\nScene(\n  durationInFrames: bar * 4, // 4 bars\n  children: [\n    AnimatedText('Intro', startFrame: 0, duration: bar),\n    AnimatedText('Verse', startFrame: bar, duration: bar * 2),\n    AnimatedText('Chorus', startFrame: bar * 3, duration: bar),\n  ],\n)\n</code></pre>"},{"location":"concept/frame-based-animation/#3-preview-at-different-speeds","title":"3. Preview at Different Speeds","text":"<p>Use time dilation in preview to check timing:</p> <pre><code>// In your preview widget\ntimeDilation = 0.5; // Half speed for checking fast animations\n</code></pre>"},{"location":"concept/frame-based-animation/#related-documentation","title":"Related Documentation","text":"<ul> <li>TimeConsumer Widget - Frame provider</li> <li>Interpolate Function - Keyframe values</li> <li>PropAnimation - Built-in animations</li> </ul>"},{"location":"concept/rendering-pipeline/","title":"Rendering Pipeline","text":"<p>From Flutter widgets to video file: a frame-by-frame journey</p> <p>This page explains exactly how Fluvie transforms your widget tree into a finished video file. Understanding this pipeline helps you write more efficient compositions and debug issues.</p>"},{"location":"concept/rendering-pipeline/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Pipeline Overview</li> <li>Step 1: Configuration Extraction</li> <li>Step 2: FFmpeg Session Setup</li> <li>Step 3: Frame Loop</li> <li>Step 4: Encoding and Output</li> <li>Performance Considerations</li> </ul>"},{"location":"concept/rendering-pipeline/#pipeline-overview","title":"Pipeline Overview","text":"<p>The complete rendering pipeline:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Your Code                                                          \u2502\n\u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500                                                        \u2502\n\u2502  Video(                                                             \u2502\n\u2502    fps: 30,                                                         \u2502\n\u2502    scenes: [Scene(...), Scene(...)],                                \u2502\n\u2502  )                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Step 1: Configuration Extraction                                   \u2502\n\u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500                                  \u2502\n\u2502  \u2022 Walk widget tree                                                 \u2502\n\u2502  \u2022 Extract RenderConfig (timeline, sequences, audio)                \u2502\n\u2502  \u2022 Resolve asset paths                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Step 2: FFmpeg Session Setup                                       \u2502\n\u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500                                       \u2502\n\u2502  \u2022 Build filter graph                                               \u2502\n\u2502  \u2022 Start FFmpeg process                                             \u2502\n\u2502  \u2022 Open stdin pipe for frames                                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Step 3: Frame Loop (for each frame 0 to N)                         \u2502\n\u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500                         \u2502\n\u2502  \u2022 Update frame number                                              \u2502\n\u2502  \u2022 Pump widget tree                                                 \u2502\n\u2502  \u2022 Wait for async operations                                        \u2502\n\u2502  \u2022 Capture from RepaintBoundary                                     \u2502\n\u2502  \u2022 Write bytes to FFmpeg stdin                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Step 4: Encoding and Output                                        \u2502\n\u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500                                        \u2502\n\u2502  \u2022 Close FFmpeg stdin                                               \u2502\n\u2502  \u2022 Wait for encoding to complete                                    \u2502\n\u2502  \u2022 Clean up temporary files                                         \u2502\n\u2502  \u2022 Return output path                                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n                        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                        \u2502  output.mp4  \u2502\n                        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concept/rendering-pipeline/#step-1-configuration-extraction","title":"Step 1: Configuration Extraction","text":""},{"location":"concept/rendering-pipeline/#what-happens","title":"What Happens","text":"<p>The <code>RenderService</code> walks your widget tree and extracts a <code>RenderConfig</code>:</p> <pre><code>final config = RenderService().createConfigFromContext(context);\n</code></pre>"},{"location":"concept/rendering-pipeline/#the-renderconfig","title":"The RenderConfig","text":"<pre><code>RenderConfig(\n  timeline: TimelineConfig(\n    fps: 30,\n    durationInFrames: 270,\n    width: 1920,\n    height: 1080,\n  ),\n  sequences: [\n    SequenceConfig(\n      startFrame: 0,\n      durationInFrames: 90,\n      type: SequenceType.base,\n    ),\n    SequenceConfig(\n      startFrame: 90,\n      durationInFrames: 90,\n      type: SequenceType.video,\n      videoPath: 'assets/clip.mp4',\n    ),\n    // ...\n  ],\n  audioTracks: [\n    AudioTrackConfig(\n      sourcePath: 'assets/music.mp3',\n      startFrame: 0,\n      durationInFrames: 270,\n      volume: 0.8,\n    ),\n  ],\n  embeddedVideos: [\n    EmbeddedVideoConfig(\n      assetPath: 'assets/clip.mp4',\n      startFrame: 90,\n      durationInFrames: 90,\n      includeAudio: true,\n    ),\n  ],\n  encoding: EncodingConfig(\n    quality: RenderQuality.high,\n    frameFormat: FrameFormat.rawRgba,\n  ),\n)\n</code></pre>"},{"location":"concept/rendering-pipeline/#asset-resolution","title":"Asset Resolution","text":"<p>Asset paths are resolved to absolute paths: - <code>assets/...</code> \u2192 Copied to temp directory - <code>https://...</code> \u2192 Downloaded to temp directory - <code>/path/to/file</code> \u2192 Used directly</p>"},{"location":"concept/rendering-pipeline/#step-2-ffmpeg-session-setup","title":"Step 2: FFmpeg Session Setup","text":""},{"location":"concept/rendering-pipeline/#building-the-filter-graph","title":"Building the Filter Graph","text":"<p>The <code>FFmpegFilterGraphBuilder</code> creates a complex filter graph:</p> <pre><code># Video processing\n[0:v] fps=30,format=yuv420p [v_out]\n\n# Audio from embedded video\n[1:a] atrim=start=0:end=3,afade=t=in:st=0:d=0.5,volume=1.0,adelay=3000|3000 [a_embed_0]\n\n# Background music\n[2:a] atrim=start=0:end=9,afade=t=in:st=0:d=1,afade=t=out:st=8:d=1,volume=0.8 [a_track_0]\n\n# Mix all audio\n[a_embed_0][a_track_0] amix=inputs=2:duration=longest [a_out]\n</code></pre>"},{"location":"concept/rendering-pipeline/#starting-ffmpeg","title":"Starting FFmpeg","text":"<p>The FFmpeg command is constructed and executed:</p> <pre><code>ffmpeg -y \\\n  -f rawvideo -pixel_format rgba -video_size 1920x1080 -framerate 30 -i pipe:0 \\\n  -i /tmp/clip.mp4 \\\n  -i /tmp/music.mp3 \\\n  -filter_complex \"[0:v]fps=30,format=yuv420p[v_out];...\" \\\n  -map \"[v_out]\" -map \"[a_out]\" \\\n  -c:v libx264 -preset slow -crf 18 \\\n  -c:a aac -b:a 192k \\\n  output.mp4\n</code></pre>"},{"location":"concept/rendering-pipeline/#the-encoding-session","title":"The Encoding Session","text":"<pre><code>class VideoEncodingSession {\n  final IOSink sink;        // Write frame bytes here\n  final Future&lt;void&gt; done;  // Completes when encoding finishes\n\n  void cancel();            // Stop encoding\n}\n</code></pre>"},{"location":"concept/rendering-pipeline/#step-3-frame-loop","title":"Step 3: Frame Loop","text":"<p>This is the heart of the rendering process. For each frame:</p>"},{"location":"concept/rendering-pipeline/#31-update-frame-number","title":"3.1 Update Frame Number","text":"<pre><code>onFrameUpdate(currentFrame);\n// This triggers TimeConsumer and other frame-dependent widgets to rebuild\n</code></pre>"},{"location":"concept/rendering-pipeline/#32-pump-widget-tree","title":"3.2 Pump Widget Tree","text":"<p>In test mode, this uses <code>WidgetTester</code>:</p> <pre><code>await tester.pump();\n// Or in preview mode:\nawait SchedulerBinding.instance.endOfFrame;\n</code></pre>"},{"location":"concept/rendering-pipeline/#33-wait-for-async-operations","title":"3.3 Wait for Async Operations","text":"<p>Some widgets have async operations (like loading embedded video frames):</p> <pre><code>// FrameReadyNotifier tracks pending operations\nawait frameReadyNotifier.waitUntilReady();\n</code></pre>"},{"location":"concept/rendering-pipeline/#34-capture-frame","title":"3.4 Capture Frame","text":"<p>The <code>FrameSequencer</code> captures the frame:</p> <pre><code>// Find the RepaintBoundary\nfinal boundary = boundaryKey.currentContext!\n    .findRenderObject() as RenderRepaintBoundary;\n\n// Capture at exact dimensions\nfinal image = await boundary.toImage(pixelRatio: pixelRatio);\n\n// Get raw bytes\nfinal byteData = await image.toByteData(format: ImageByteFormat.rawRgba);\nfinal bytes = byteData!.buffer.asUint8List();\n</code></pre>"},{"location":"concept/rendering-pipeline/#35-handle-dimension-mismatches","title":"3.5 Handle Dimension Mismatches","text":"<p>If the captured image doesn't match target dimensions:</p> <pre><code>// Resize to exact target dimensions\nif (capturedWidth != targetWidth || capturedHeight != targetHeight) {\n  // Create a new canvas at target size\n  final recorder = PictureRecorder();\n  final canvas = Canvas(recorder);\n\n  // Center the captured image with letterboxing\n  canvas.drawColor(Colors.black, BlendMode.src);\n  canvas.drawImage(image, centeredOffset, paint);\n\n  // Get the resized image\n  final resizedPicture = recorder.endRecording();\n  final resizedImage = await resizedPicture.toImage(targetWidth, targetHeight);\n}\n</code></pre>"},{"location":"concept/rendering-pipeline/#36-write-to-ffmpeg","title":"3.6 Write to FFmpeg","text":"<pre><code>session.sink.add(bytes);\n</code></pre>"},{"location":"concept/rendering-pipeline/#frame-loop-summary","title":"Frame Loop Summary","text":"<pre><code>for (int frame = 0; frame &lt; totalFrames; frame++) {\n  // 1. Update widget state\n  await onFrameUpdate(frame);\n\n  // 2. Wait for render\n  await scheduler.endOfFrame;\n\n  // 3. Wait for async ops\n  await frameReadyNotifier.waitUntilReady();\n\n  // 4. Capture\n  final bytes = await sequencer.captureFrameRawExact(\n    boundaryKey: boundaryKey,\n    targetWidth: width,\n    targetHeight: height,\n    format: frameFormat,\n  );\n\n  // 5. Write\n  session.sink.add(bytes);\n\n  // Report progress\n  onProgress?.call(frame / totalFrames);\n}\n</code></pre>"},{"location":"concept/rendering-pipeline/#step-4-encoding-and-output","title":"Step 4: Encoding and Output","text":""},{"location":"concept/rendering-pipeline/#closing-the-session","title":"Closing the Session","text":"<pre><code>// Signal end of frame stream\nawait session.sink.close();\n\n// Wait for FFmpeg to finish encoding\nawait session.done;\n</code></pre>"},{"location":"concept/rendering-pipeline/#ffmpeg-finalization","title":"FFmpeg Finalization","text":"<p>FFmpeg: 1. Flushes remaining frames 2. Writes video index 3. Closes output file 4. Exits with status code</p>"},{"location":"concept/rendering-pipeline/#cleanup","title":"Cleanup","text":"<pre><code>// Remove temporary files\nawait tempDir.delete(recursive: true);\n\n// Return output path\nreturn outputPath;\n</code></pre>"},{"location":"concept/rendering-pipeline/#performance-considerations","title":"Performance Considerations","text":""},{"location":"concept/rendering-pipeline/#frame-capture-time","title":"Frame Capture Time","text":"<p>The largest bottleneck is usually frame capture:</p> Operation Typical Time Widget rebuild 1-5ms Rasterization 5-20ms toImage() capture 10-50ms toByteData() 5-15ms FFmpeg write 1-2ms"},{"location":"concept/rendering-pipeline/#optimizing-capture","title":"Optimizing Capture","text":"<ol> <li> <p>Use raw RGBA instead of PNG:    <pre><code>encoding: EncodingConfig(\n  frameFormat: FrameFormat.rawRgba, // Faster than PNG\n)\n</code></pre></p> </li> <li> <p>Avoid Flutter's Opacity widget - use <code>Fade</code> widgets instead:    <pre><code>// Bad: causes saveLayer, rendering artifacts\nOpacity(opacity: 0.5, child: MyWidget())\n\n// Good: video-safe opacity\nFade(opacity: 0.5, child: FadeText('Hello'))\n</code></pre></p> </li> <li> <p>Minimize widget rebuilds:    <pre><code>// Bad: rebuilds entire tree every frame\nTimeConsumer(\n  builder: (context, frame, _) =&gt; HeavyWidget(frame: frame),\n)\n\n// Good: only rebuild what changes\nTimeConsumer(\n  builder: (context, frame, _) =&gt; Opacity(\n    opacity: frame / 100,\n    child: const HeavyWidget(), // const - doesn't rebuild\n  ),\n)\n</code></pre></p> </li> </ol>"},{"location":"concept/rendering-pipeline/#memory-management","title":"Memory Management","text":"<p>For long videos, memory can be a concern:</p> <ol> <li>Process in segments for very long videos</li> <li>Avoid storing frame history - each frame is independent</li> <li>Use debug frame output only when needed:    <pre><code>encoding: EncodingConfig(\n  debugFrameOutputPath: null, // Don't save debug frames\n)\n</code></pre></li> </ol>"},{"location":"concept/rendering-pipeline/#ffmpeg-performance","title":"FFmpeg Performance","text":"<p>FFmpeg encoding options affect speed vs quality:</p> Preset Speed Quality Use Case ultrafast Fastest Lowest Testing veryfast Very fast Low Drafts medium Balanced Good Standard slow Slow High Production veryslow Slowest Highest Final output <pre><code>encoding: EncodingConfig(\n  quality: RenderQuality.high, // Uses 'slow' preset\n)\n</code></pre>"},{"location":"concept/rendering-pipeline/#debugging-the-pipeline","title":"Debugging the Pipeline","text":""},{"location":"concept/rendering-pipeline/#debug-frame-output","title":"Debug Frame Output","text":"<p>Save frames as PNG for inspection:</p> <pre><code>encoding: EncodingConfig(\n  debugFrameOutputPath: 'tmp/debug_frames',\n  keepDebugFrames: true,\n)\n</code></pre>"},{"location":"concept/rendering-pipeline/#progress-tracking","title":"Progress Tracking","text":"<p>Monitor render progress:</p> <pre><code>await renderService.execute(\n  onProgress: (progress) {\n    print('Rendering: ${(progress * 100).toStringAsFixed(1)}%');\n  },\n);\n</code></pre>"},{"location":"concept/rendering-pipeline/#ffmpeg-logs","title":"FFmpeg Logs","text":"<p>Enable verbose logging:</p> <pre><code>FluvieConfig.configure(\n  logLevel: FluvieLogLevel.debug,\n  logModules: {'encoder', 'render'},\n);\n</code></pre>"},{"location":"concept/rendering-pipeline/#pipeline-diagram-single-frame","title":"Pipeline Diagram: Single Frame","text":"<p>Detailed view of one frame's journey:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Frame 42                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 1. onFrameUpdate(42)                                             \u2502\n\u2502    - RenderController.setFrame(42)                               \u2502\n\u2502    - FrameProvider value changes                                 \u2502\n\u2502    - TimeConsumer widgets mark dirty                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 2. Flutter Build Phase                                           \u2502\n\u2502    - Dirty widgets rebuild                                       \u2502\n\u2502    - Layout computed                                             \u2502\n\u2502    - Paint commands generated                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 3. Flutter Rasterization (Skia/Impeller)                         \u2502\n\u2502    - Paint commands executed                                     \u2502\n\u2502    - Pixels written to layer                                     \u2502\n\u2502    - RepaintBoundary layer complete                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 4. FrameReadyNotifier.waitUntilReady()                           \u2502\n\u2502    - Check pending async operations                              \u2502\n\u2502    - (e.g., embedded video frame loading)                        \u2502\n\u2502    - Continue when all ready                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 5. boundary.toImage()                                            \u2502\n\u2502    - GPU texture \u2192 CPU image                                     \u2502\n\u2502    - Resolution: targetWidth \u00d7 targetHeight                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 6. image.toByteData(format: ImageByteFormat.rawRgba)             \u2502\n\u2502    - CPU image \u2192 raw bytes                                       \u2502\n\u2502    - 1920 \u00d7 1080 \u00d7 4 = 8,294,400 bytes                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 7. session.sink.add(bytes)                                       \u2502\n\u2502    - Write to FFmpeg stdin                                       \u2502\n\u2502    - FFmpeg queues for encoding                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Frame 42 complete. Next: Frame 43...                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concept/rendering-pipeline/#related-documentation","title":"Related Documentation","text":"<ul> <li>Architecture - High-level system design</li> <li>Encoding Settings - Output options</li> <li>Performance Tips - Optimization guide</li> <li>Server-Only Mode - Headless rendering</li> </ul>"},{"location":"concept/two-modes/","title":"Preview vs Render Mode","text":"<p>Two modes for developing and exporting videos</p> <p>Fluvie operates in two distinct modes: Preview mode for interactive development, and Render mode for final export. Understanding the difference is key to an efficient workflow.</p>"},{"location":"concept/two-modes/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Preview Mode</li> <li>Render Mode</li> <li>How Modes Are Detected</li> <li>Writing Mode-Aware Widgets</li> <li>Best Practices</li> </ul>"},{"location":"concept/two-modes/#overview","title":"Overview","text":"Aspect Preview Mode Render Mode Purpose Development &amp; review Final export Speed Real-time playback As fast as possible Frames May skip frames Every frame captured Audio Plays through speakers Mixed by FFmpeg Quality Screen resolution Target resolution Async Immediate Waits for completion <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      Your Fluvie App                           \u2502\n\u2502                                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                    Preview Mode                          \u2502  \u2502\n\u2502  \u2502                                                          \u2502  \u2502\n\u2502  \u2502  \u2022 Run flutter app                                       \u2502  \u2502\n\u2502  \u2502  \u2022 See changes instantly (hot reload)                    \u2502  \u2502\n\u2502  \u2502  \u2022 Hear audio playback                                   \u2502  \u2502\n\u2502  \u2502  \u2022 Scrub through timeline                                \u2502  \u2502\n\u2502  \u2502                                                          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                            \u2502                                   \u2502\n\u2502                            \u2502 Happy with result?                \u2502\n\u2502                            \u25bc                                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                    Render Mode                           \u2502  \u2502\n\u2502  \u2502                                                          \u2502  \u2502\n\u2502  \u2502  \u2022 Export to video file                                  \u2502  \u2502\n\u2502  \u2502  \u2022 Every frame captured                                  \u2502  \u2502\n\u2502  \u2502  \u2022 Audio mixed precisely                                 \u2502  \u2502\n\u2502  \u2502  \u2022 Full resolution output                                \u2502  \u2502\n\u2502  \u2502                                                          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                            \u2502                                   \u2502\n\u2502                            \u25bc                                   \u2502\n\u2502                     output.mp4                                 \u2502\n\u2502                                                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concept/two-modes/#preview-mode","title":"Preview Mode","text":"<p>Preview mode is your development environment. It's designed for rapid iteration and instant feedback.</p>"},{"location":"concept/two-modes/#characteristics","title":"Characteristics","text":"<ol> <li>Real-Time Playback</li> <li>Video plays at the specified FPS (30fps = real-time 30fps)</li> <li> <p>If rendering can't keep up, frames are skipped</p> </li> <li> <p>Audio Playback</p> </li> <li>Audio plays through your device speakers</li> <li>Uses the <code>just_audio</code> package for playback</li> <li> <p>Synchronized with visual timeline</p> </li> <li> <p>Hot Reload Support</p> </li> <li>Change code, see updates instantly</li> <li> <p>No need to re-render entire video</p> </li> <li> <p>Interactive Controls</p> </li> <li>Play/pause</li> <li>Scrub to specific frame</li> <li>Adjust playback speed</li> </ol>"},{"location":"concept/two-modes/#using-preview-mode","title":"Using Preview Mode","text":"<p>Simply run your Flutter app:</p> <pre><code>flutter run\n</code></pre> <p>Your video composition widget will play in preview mode automatically:</p> <pre><code>class MyVideoPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Video(\n        fps: 30,\n        width: 1920,\n        height: 1080,\n        scenes: [\n          Scene(\n            durationInFrames: 90,\n            children: [/* ... */],\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"concept/two-modes/#preview-controls","title":"Preview Controls","text":"<p>Add playback controls to your preview:</p> <pre><code>class MyVideoPage extends StatefulWidget {\n  @override\n  State&lt;MyVideoPage&gt; createState() =&gt; _MyVideoPageState();\n}\n\nclass _MyVideoPageState extends State&lt;MyVideoPage&gt; {\n  final _controller = RenderController();\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        Expanded(\n          child: Video(\n            controller: _controller,\n            fps: 30,\n            scenes: [/* ... */],\n          ),\n        ),\n        Row(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            IconButton(\n              icon: Icon(Icons.play_arrow),\n              onPressed: () =&gt; _controller.play(),\n            ),\n            IconButton(\n              icon: Icon(Icons.pause),\n              onPressed: () =&gt; _controller.pause(),\n            ),\n            Slider(\n              value: _controller.currentFrame.toDouble(),\n              max: _controller.totalFrames.toDouble(),\n              onChanged: (value) =&gt; _controller.seekTo(value.toInt()),\n            ),\n          ],\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"concept/two-modes/#platform-support-for-audio-preview","title":"Platform Support for Audio Preview","text":"Platform Audio Support macOS Full Windows Full Linux Limited (just_audio limitations) Web Full iOS/Android Full"},{"location":"concept/two-modes/#render-mode","title":"Render Mode","text":"<p>Render mode is for producing the final video file. It's designed for quality and accuracy.</p>"},{"location":"concept/two-modes/#characteristics_1","title":"Characteristics","text":"<ol> <li>Deterministic Frame Capture</li> <li>Every single frame is captured</li> <li>No frames are ever skipped</li> <li> <p>Rendering waits as long as needed for each frame</p> </li> <li> <p>Exact Resolution</p> </li> <li>Output matches specified width/height exactly</li> <li> <p>Proper pixel ratio handling</p> </li> <li> <p>Audio Mixing</p> </li> <li>Audio is mixed by FFmpeg, not played back</li> <li>Precise frame-accurate synchronization</li> <li> <p>Multiple tracks combined with fades and volume</p> </li> <li> <p>Async Operation Handling</p> </li> <li>Waits for embedded video frames to load</li> <li>Waits for network images</li> <li>Ensures all async operations complete before capture</li> </ol>"},{"location":"concept/two-modes/#triggering-render-mode","title":"Triggering Render Mode","text":""},{"location":"concept/two-modes/#from-your-app","title":"From Your App","text":"<p>Add a render button:</p> <pre><code>ElevatedButton(\n  child: Text('Export Video'),\n  onPressed: () async {\n    final renderService = RenderService();\n    final outputPath = await renderService.execute(\n      context: context,\n      outputPath: 'output/my_video.mp4',\n      onFrameUpdate: (frame) async {\n        // In a real app, you'd update the widget state\n        setState(() =&gt; _currentFrame = frame);\n        await Future.delayed(Duration(milliseconds: 16));\n      },\n      onProgress: (progress) {\n        print('Rendering: ${(progress * 100).toStringAsFixed(1)}%');\n      },\n    );\n    print('Saved to: $outputPath');\n  },\n)\n</code></pre>"},{"location":"concept/two-modes/#from-tests-server-mode","title":"From Tests (Server Mode)","text":"<pre><code>testWidgets('Render my video', (tester) async {\n  await tester.pumpWidget(\n    MaterialApp(\n      home: Scaffold(\n        body: MyVideoComposition(),\n      ),\n    ),\n  );\n\n  final context = tester.element(find.byType(VideoComposition));\n  final renderService = RenderService();\n\n  await renderService.execute(\n    context: context,\n    outputPath: 'output/video.mp4',\n    onFrameUpdate: (frame) async {\n      await tester.pump();\n    },\n  );\n});\n</code></pre>"},{"location":"concept/two-modes/#how-modes-are-detected","title":"How Modes Are Detected","text":"<p>Fluvie uses <code>RenderModeProvider</code> to communicate the current mode to widgets:</p> <pre><code>class RenderModeProvider extends InheritedWidget {\n  final bool isRendering;\n\n  static bool isRenderMode(BuildContext context) {\n    final provider = context.dependOnInheritedWidgetOfExactType&lt;RenderModeProvider&gt;();\n    return provider?.isRendering ?? false;\n  }\n}\n</code></pre>"},{"location":"concept/two-modes/#the-framereadynotifier","title":"The FrameReadyNotifier","text":"<p>In render mode, async operations must complete before frame capture. The <code>FrameReadyNotifier</code> tracks pending operations:</p> <pre><code>class FrameReadyNotifier {\n  int _pendingOperations = 0;\n\n  void markPending() =&gt; _pendingOperations++;\n  void markReady() =&gt; _pendingOperations--;\n\n  Future&lt;void&gt; waitUntilReady() async {\n    while (_pendingOperations &gt; 0) {\n      await Future.delayed(Duration(milliseconds: 1));\n    }\n  }\n}\n</code></pre>"},{"location":"concept/two-modes/#writing-mode-aware-widgets","title":"Writing Mode-Aware Widgets","text":"<p>Some widgets need to behave differently in each mode.</p>"},{"location":"concept/two-modes/#example-embeddedvideo","title":"Example: EmbeddedVideo","text":"<p>The <code>EmbeddedVideo</code> widget handles async frame loading differently:</p> <pre><code>class EmbeddedVideo extends StatefulWidget {\n  @override\n  State&lt;EmbeddedVideo&gt; createState() =&gt; _EmbeddedVideoState();\n}\n\nclass _EmbeddedVideoState extends State&lt;EmbeddedVideo&gt; {\n  ui.Image? _currentFrame;\n\n  @override\n  Widget build(BuildContext context) {\n    final isRendering = RenderModeProvider.isRenderMode(context);\n\n    return TimeConsumer(\n      builder: (context, frame, _) {\n        if (isRendering) {\n          // In render mode: mark pending, load frame, mark ready\n          _loadFrameForRender(frame);\n        } else {\n          // In preview mode: best-effort frame loading\n          _loadFrameForPreview(frame);\n        }\n\n        return _currentFrame != null\n            ? RawImage(image: _currentFrame)\n            : placeholder;\n      },\n    );\n  }\n\n  void _loadFrameForRender(int frame) {\n    final notifier = FrameReadyNotifier.of(context);\n    notifier?.markPending();\n\n    _loadFrame(frame).then((_) {\n      notifier?.markReady();\n    });\n  }\n\n  void _loadFrameForPreview(int frame) {\n    // Don't block, just load when ready\n    _loadFrame(frame);\n  }\n}\n</code></pre>"},{"location":"concept/two-modes/#example-conditional-audio","title":"Example: Conditional Audio","text":"<pre><code>class AudioPlayback extends StatelessWidget {\n  final Widget child;\n\n  @override\n  Widget build(BuildContext context) {\n    final isRendering = RenderModeProvider.isRenderMode(context);\n\n    if (isRendering) {\n      // In render mode: audio is handled by FFmpeg\n      // Don't play anything locally\n      return child;\n    }\n\n    // In preview mode: play audio for feedback\n    return AudioPreviewPlayer(\n      child: child,\n    );\n  }\n}\n</code></pre>"},{"location":"concept/two-modes/#best-practices","title":"Best Practices","text":""},{"location":"concept/two-modes/#1-develop-in-preview-export-in-render","title":"1. Develop in Preview, Export in Render","text":"<pre><code>// During development\nflutter run  // Preview mode - fast iteration\n\n// When ready to export\nflutter test test/render_test.dart  // Render mode - perfect output\n</code></pre>"},{"location":"concept/two-modes/#2-test-both-modes","title":"2. Test Both Modes","text":"<p>Make sure your composition looks correct in both:</p> <pre><code>// Visual check in preview\nflutter run\n\n// Automated render test\ntestWidgets('Video renders correctly', (tester) async {\n  // Set up and render\n  // Assert on output file\n});\n</code></pre>"},{"location":"concept/two-modes/#3-handle-async-gracefully","title":"3. Handle Async Gracefully","text":"<p>Don't assume network requests complete instantly:</p> <pre><code>// Bad: assumes image is loaded\nImage.network('https://example.com/image.jpg')\n\n// Good: handles loading state\nCachedNetworkImage(\n  imageUrl: 'https://example.com/image.jpg',\n  placeholder: (context, url) =&gt; ColoredBox(color: Colors.grey),\n)\n</code></pre>"},{"location":"concept/two-modes/#4-use-placeholders","title":"4. Use Placeholders","text":"<p>Show something while async content loads:</p> <pre><code>EmbeddedVideo(\n  assetPath: 'assets/video.mp4',\n  placeholder: Container(\n    color: Colors.black,\n    child: Center(child: CircularProgressIndicator()),\n  ),\n)\n</code></pre>"},{"location":"concept/two-modes/#5-consider-performance-differences","title":"5. Consider Performance Differences","text":"<p>Preview mode may have different performance characteristics:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    final isRendering = RenderModeProvider.isRenderMode(context);\n\n    // Reduce particle count in preview for better performance\n    final particleCount = isRendering ? 100 : 30;\n\n    return ParticleEffect(count: particleCount);\n  },\n)\n</code></pre>"},{"location":"concept/two-modes/#troubleshooting","title":"Troubleshooting","text":""},{"location":"concept/two-modes/#preview-looks-different-from-render","title":"Preview Looks Different from Render","text":"<p>Cause: Different resolutions or pixel ratios.</p> <p>Solution: Preview at target resolution: <pre><code>SizedBox(\n  width: 1920 / 2, // Half size for preview\n  height: 1080 / 2,\n  child: FittedBox(\n    child: SizedBox(\n      width: 1920,\n      height: 1080,\n      child: MyVideoComposition(),\n    ),\n  ),\n)\n</code></pre></p>"},{"location":"concept/two-modes/#audio-doesnt-sync-in-preview","title":"Audio Doesn't Sync in Preview","text":"<p>Cause: Audio preview uses different timing than render.</p> <p>Solution: Trust the render output - audio sync is precise in render mode.</p>"},{"location":"concept/two-modes/#frames-look-corrupt-in-render","title":"Frames Look Corrupt in Render","text":"<p>Cause: Usually caused by Flutter's <code>Opacity</code> widget.</p> <p>Solution: Use Fluvie's fade widgets: <pre><code>// Bad\nOpacity(opacity: 0.5, child: Text('Hello'))\n\n// Good\nFade(opacity: 0.5, child: FadeText('Hello'))\n</code></pre></p>"},{"location":"concept/two-modes/#related-documentation","title":"Related Documentation","text":"<ul> <li>Rendering Pipeline - How frames are captured</li> <li>Server-Only Mode - Headless rendering</li> <li>Performance Tips - Optimization</li> </ul>"},{"location":"contributing/","title":"Contributing to Fluvie","text":"<p>Help make programmatic video generation better</p> <p>Thank you for your interest in contributing to Fluvie! This guide will help you get started.</p>"},{"location":"contributing/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Ways to Contribute</li> <li>Getting Started</li> <li>Contribution Process</li> <li>Guides</li> </ul>"},{"location":"contributing/#overview","title":"Overview","text":"<p>Fluvie is an open-source project that welcomes contributions of all kinds. Whether you're fixing a bug, adding a feature, improving documentation, or helping other users, your contributions are valued.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":""},{"location":"contributing/#code-contributions","title":"Code Contributions","text":"<ul> <li>Bug Fixes: Fix issues reported in GitHub Issues</li> <li>Features: Implement new widgets, animations, effects, or templates</li> <li>Performance: Optimize rendering speed or memory usage</li> <li>Platform Support: Improve support for different platforms</li> </ul>"},{"location":"contributing/#documentation","title":"Documentation","text":"<ul> <li>Tutorials: Write step-by-step guides</li> <li>Examples: Create example videos and compositions</li> <li>Translations: Help translate documentation</li> <li>Typo Fixes: Fix errors in existing documentation</li> </ul>"},{"location":"contributing/#community","title":"Community","text":"<ul> <li>Answer Questions: Help users on GitHub Discussions</li> <li>Report Bugs: Submit detailed bug reports</li> <li>Feature Requests: Suggest improvements</li> <li>Share: Tell others about Fluvie</li> </ul>"},{"location":"contributing/#getting-started","title":"Getting Started","text":""},{"location":"contributing/#1-fork-the-repository","title":"1. Fork the Repository","text":"<pre><code># Fork on GitHub, then clone your fork\ngit clone https://github.com/YOUR_USERNAME/fluvie.git\ncd fluvie\n</code></pre>"},{"location":"contributing/#2-set-up-development-environment","title":"2. Set Up Development Environment","text":"<pre><code># Install dependencies\nflutter pub get\n\n# Install FFmpeg (required for rendering)\n# macOS: brew install ffmpeg\n# Ubuntu: sudo apt install ffmpeg\n# Windows: choco install ffmpeg\n</code></pre>"},{"location":"contributing/#3-run-tests","title":"3. Run Tests","text":"<pre><code># Run all tests\nflutter test\n\n# Run specific test file\nflutter test test/fluvie_test.dart\n\n# Run with coverage\nflutter test --coverage\n</code></pre>"},{"location":"contributing/#4-run-the-example-app","title":"4. Run the Example App","text":"<pre><code>cd example\nflutter run\n</code></pre> <p>Guide: Development Setup</p>"},{"location":"contributing/#contribution-process","title":"Contribution Process","text":""},{"location":"contributing/#1-find-or-create-an-issue","title":"1. Find or Create an Issue","text":"<p>Before starting work:</p> <ul> <li>Check existing issues</li> <li>For new features, open a discussion first</li> <li>Get feedback on your approach</li> </ul>"},{"location":"contributing/#2-create-a-branch","title":"2. Create a Branch","text":"<pre><code>git checkout -b feature/your-feature-name\n# or\ngit checkout -b fix/issue-description\n</code></pre>"},{"location":"contributing/#3-make-your-changes","title":"3. Make Your Changes","text":"<ul> <li>Follow the code style guide</li> <li>Write tests for new functionality</li> <li>Update documentation as needed</li> </ul>"},{"location":"contributing/#4-test-your-changes","title":"4. Test Your Changes","text":"<pre><code># Run tests\nflutter test\n\n# Run the example to verify\ncd example &amp;&amp; flutter run\n</code></pre>"},{"location":"contributing/#5-submit-a-pull-request","title":"5. Submit a Pull Request","text":"<ul> <li>Push your branch to your fork</li> <li>Open a PR against the <code>main</code> branch</li> <li>Fill out the PR template</li> <li>Link related issues</li> </ul>"},{"location":"contributing/#6-review-process","title":"6. Review Process","text":"<ul> <li>Maintainers will review your PR</li> <li>Address any feedback</li> <li>Once approved, your PR will be merged</li> </ul>"},{"location":"contributing/#guides","title":"Guides","text":"Guide Description Development Setup Set up your development environment Testing How to write and run tests Code Style Coding standards and conventions Support Getting help and reporting issues"},{"location":"contributing/#quick-links","title":"Quick Links","text":"<ul> <li>GitHub Repository</li> <li>Issue Tracker</li> <li>Discussions</li> <li>Example Gallery</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>Be respectful and inclusive. We're all here to build something great together.</p> <ul> <li>Be welcoming to newcomers</li> <li>Provide constructive feedback</li> <li>Focus on what's best for the project</li> <li>Show empathy towards others</li> </ul>"},{"location":"contributing/#recognition","title":"Recognition","text":"<p>Contributors are recognized in:</p> <ul> <li>The CONTRIBUTORS.md file</li> <li>Release notes when their features ship</li> <li>The project README</li> </ul> <p>Thank you for contributing to Fluvie!</p>"},{"location":"contributing/code-style/","title":"Code Style","text":"<p>Coding standards and conventions for Fluvie</p> <p>Follow these guidelines to maintain consistency across the codebase.</p>"},{"location":"contributing/code-style/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Dart Style</li> <li>Naming Conventions</li> <li>Documentation</li> <li>Widget Guidelines</li> <li>Testing Standards</li> <li>Git Conventions</li> </ul>"},{"location":"contributing/code-style/#dart-style","title":"Dart Style","text":""},{"location":"contributing/code-style/#formatting","title":"Formatting","text":"<p>Use the Dart formatter with 80-character line length:</p> <pre><code>dart format --line-length 80 .\n</code></pre> <p>Configure your IDE to format on save.</p>"},{"location":"contributing/code-style/#analysis_optionsyaml","title":"analysis_options.yaml","text":"<p>The project uses strict analysis rules:</p> <pre><code>include: package:flutter_lints/flutter.yaml\n\nlinter:\n  rules:\n    - prefer_const_constructors\n    - prefer_const_declarations\n    - prefer_final_fields\n    - prefer_final_locals\n    - avoid_print\n    - avoid_unnecessary_containers\n    - prefer_single_quotes\n</code></pre>"},{"location":"contributing/code-style/#imports","title":"Imports","text":"<p>Order imports in groups:</p> <pre><code>// Dart core\nimport 'dart:async';\nimport 'dart:math';\n\n// Flutter\nimport 'package:flutter/material.dart';\nimport 'package:flutter/widgets.dart';\n\n// External packages\nimport 'package:json_annotation/json_annotation.dart';\n\n// Internal packages\nimport 'package:fluvie/fluvie.dart';\n\n// Relative imports\nimport '../utils/interpolate.dart';\nimport 'time_consumer.dart';\n</code></pre>"},{"location":"contributing/code-style/#prefer-const","title":"Prefer const","text":"<p>Use <code>const</code> wherever possible:</p> <pre><code>// Good\nconst EdgeInsets.all(16)\nconst TextStyle(fontSize: 24)\nconst SizedBox(height: 8)\n\n// In constructors\nclass MyWidget extends StatelessWidget {\n  const MyWidget({super.key});  // const constructor\n}\n</code></pre>"},{"location":"contributing/code-style/#naming-conventions","title":"Naming Conventions","text":""},{"location":"contributing/code-style/#classes","title":"Classes","text":"Type Convention Example Widgets PascalCase <code>TimeConsumer</code>, <code>VideoComposition</code> Data classes PascalCase <code>RenderConfig</code>, <code>AudioConfig</code> Enums PascalCase <code>TemplateCategory</code>, <code>RenderQuality</code> Mixins PascalCase with \"Mixin\" suffix <code>TemplateMixin</code> Extensions PascalCase with context <code>IterableExtension</code>"},{"location":"contributing/code-style/#files","title":"Files","text":"Type Convention Example Widgets snake_case <code>time_consumer.dart</code> Tests snake_case with <code>_test</code> suffix <code>time_consumer_test.dart</code> Generated snake_case with <code>.g.dart</code> <code>render_config.g.dart</code>"},{"location":"contributing/code-style/#variables-and-functions","title":"Variables and Functions","text":"<pre><code>// Variables - camelCase\nfinal frameNumber = 42;\nfinal totalDuration = Duration(seconds: 5);\n\n// Private - underscore prefix\nfinal _internalState = {};\nvoid _processFrame() {}\n\n// Constants - camelCase or SCREAMING_SNAKE_CASE for app-wide\nconst defaultFps = 30;\nconst MAX_FRAME_CACHE_SIZE = 1000;\n\n// Functions - camelCase, verb-first\nvoid renderFrame() {}\nFuture&lt;void&gt; processVideo() async {}\nbool isValidFrame(int frame) =&gt; frame &gt;= 0;\n</code></pre>"},{"location":"contributing/code-style/#widget-parameters","title":"Widget Parameters","text":"<pre><code>class MyWidget extends StatelessWidget {\n  // Required parameters first\n  final String title;\n  final int startFrame;\n\n  // Optional parameters with defaults\n  final int durationInFrames;\n  final Curve curve;\n\n  // Callbacks\n  final VoidCallback? onComplete;\n\n  // Child/children last\n  final Widget child;\n\n  const MyWidget({\n    super.key,\n    required this.title,\n    required this.startFrame,\n    this.durationInFrames = 30,\n    this.curve = Curves.easeOut,\n    this.onComplete,\n    required this.child,\n  });\n}\n</code></pre>"},{"location":"contributing/code-style/#documentation","title":"Documentation","text":""},{"location":"contributing/code-style/#class-documentation","title":"Class Documentation","text":"<pre><code>/// A widget that provides the current frame number to its descendants.\n///\n/// [TimeConsumer] rebuilds its child whenever the frame changes, making it\n/// the primary way to create frame-based animations in Fluvie.\n///\n/// ## Example\n///\n/// ```dart\n/// TimeConsumer(\n///   builder: (context, frame, child) {\n///     return Text('Frame: $frame');\n///   },\n/// )\n/// ```\n///\n/// See also:\n/// * [RenderModeProvider], which provides the frame notifier\n/// * [Fade], a widget that uses TimeConsumer internally\nclass TimeConsumer extends StatelessWidget {\n</code></pre>"},{"location":"contributing/code-style/#property-documentation","title":"Property Documentation","text":"<pre><code>/// The frame at which the animation starts.\n///\n/// This is relative to the scene's start frame. A [startFrame] of 30\n/// means the animation begins one second into a 30fps scene.\nfinal int startFrame;\n\n/// The duration of the animation in frames.\n///\n/// At 30fps, a [durationInFrames] of 60 equals 2 seconds.\n/// Defaults to 30 frames (1 second at 30fps).\nfinal int durationInFrames;\n</code></pre>"},{"location":"contributing/code-style/#method-documentation","title":"Method Documentation","text":"<pre><code>/// Calculates the opacity at the given [progress].\n///\n/// The [progress] value ranges from 0.0 (start) to 1.0 (end).\n///\n/// Returns a value between 0.0 (invisible) and 1.0 (fully visible).\n///\n/// Throws [ArgumentError] if [progress] is outside the 0.0-1.0 range.\ndouble opacityAt(double progress) {\n  if (progress &lt; 0 || progress &gt; 1) {\n    throw ArgumentError.value(progress, 'progress', 'Must be between 0 and 1');\n  }\n  return _curve.transform(progress);\n}\n</code></pre>"},{"location":"contributing/code-style/#when-to-document","title":"When to Document","text":"<p>Always document: - Public classes - Public methods - Public properties - Complex logic</p> <p>Skip documentation for: - Obvious getters/setters - Private implementation details - Self-documenting code</p> <pre><code>// Skip - obvious\nint get length =&gt; _length;\n\n// Document - non-obvious behavior\n/// Returns the effective length, accounting for trim settings.\n///\n/// This may be less than [originalLength] if the video is trimmed.\nint get effectiveLength =&gt; _length - _trimStart - _trimEnd;\n</code></pre>"},{"location":"contributing/code-style/#widget-guidelines","title":"Widget Guidelines","text":""},{"location":"contributing/code-style/#prefer-composition","title":"Prefer Composition","text":"<pre><code>// Good - composed from smaller widgets\nclass StatCard extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return AnimatedProp(\n      animation: PropAnimation.fadeIn(),\n      child: Container(\n        child: Column(\n          children: [\n            _buildTitle(),\n            _buildValue(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n// Avoid - monolithic widgets with everything inline\n</code></pre>"},{"location":"contributing/code-style/#use-const-constructors","title":"Use const Constructors","text":"<pre><code>class MyWidget extends StatelessWidget {\n  final String text;\n\n  // const constructor\n  const MyWidget({\n    super.key,\n    required this.text,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    // Use const for static children\n    return const Column(\n      children: [\n        SizedBox(height: 8),\n        Divider(),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"contributing/code-style/#keep-build-clean","title":"Keep build() Clean","text":"<pre><code>// Good - extracted methods\n@override\nWidget build(BuildContext context) {\n  return Column(\n    children: [\n      _buildHeader(),\n      _buildContent(),\n      _buildFooter(),\n    ],\n  );\n}\n\nWidget _buildHeader() { ... }\nWidget _buildContent() { ... }\nWidget _buildFooter() { ... }\n\n// Avoid - everything in build()\n@override\nWidget build(BuildContext context) {\n  return Column(\n    children: [\n      // 50 lines of header code...\n      // 100 lines of content code...\n      // 30 lines of footer code...\n    ],\n  );\n}\n</code></pre>"},{"location":"contributing/code-style/#avoid-expensive-operations-in-build","title":"Avoid Expensive Operations in build()","text":"<pre><code>// Bad - calculates every rebuild\n@override\nWidget build(BuildContext context) {\n  final expensiveData = computeExpensiveData();  // Avoid!\n  return Text(expensiveData.toString());\n}\n\n// Good - compute in initState or use memoization\nclass MyWidget extends StatefulWidget {\n  @override\n  State&lt;MyWidget&gt; createState() =&gt; _MyWidgetState();\n}\n\nclass _MyWidgetState extends State&lt;MyWidget&gt; {\n  late final String _cachedData;\n\n  @override\n  void initState() {\n    super.initState();\n    _cachedData = computeExpensiveData();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Text(_cachedData);\n  }\n}\n</code></pre>"},{"location":"contributing/code-style/#testing-standards","title":"Testing Standards","text":""},{"location":"contributing/code-style/#test-file-structure","title":"Test File Structure","text":"<pre><code>void main() {\n  // Group related tests\n  group('ClassName', () {\n    // Setup shared across tests\n    late SomeClass instance;\n\n    setUp(() {\n      instance = SomeClass();\n    });\n\n    tearDown(() {\n      instance.dispose();\n    });\n\n    // Test specific behavior\n    group('methodName', () {\n      test('does X when Y', () {\n        // Arrange\n        final input = 'test';\n\n        // Act\n        final result = instance.methodName(input);\n\n        // Assert\n        expect(result, equals(expected));\n      });\n\n      test('throws when invalid input', () {\n        expect(\n          () =&gt; instance.methodName(null),\n          throwsA(isA&lt;ArgumentError&gt;()),\n        );\n      });\n    });\n  });\n}\n</code></pre>"},{"location":"contributing/code-style/#widget-test-structure","title":"Widget Test Structure","text":"<pre><code>testWidgets('description of what is being tested', (tester) async {\n  // Arrange - set up widget\n  await tester.pumpWidget(\n    MaterialApp(\n      home: MyWidget(),\n    ),\n  );\n\n  // Act - interact with widget\n  await tester.tap(find.byType(ElevatedButton));\n  await tester.pump();\n\n  // Assert - verify result\n  expect(find.text('Expected'), findsOneWidget);\n});\n</code></pre>"},{"location":"contributing/code-style/#git-conventions","title":"Git Conventions","text":""},{"location":"contributing/code-style/#branch-names","title":"Branch Names","text":"<pre><code>feature/add-particle-effects\nfix/audio-sync-issue\ndocs/update-tutorial\nrefactor/simplify-render-pipeline\n</code></pre>"},{"location":"contributing/code-style/#commit-messages","title":"Commit Messages","text":"<p>Follow conventional commits:</p> <pre><code>type(scope): description\n\n[optional body]\n\n[optional footer]\n</code></pre> <p>Types: - <code>feat</code>: New feature - <code>fix</code>: Bug fix - <code>docs</code>: Documentation - <code>style</code>: Formatting - <code>refactor</code>: Code restructure - <code>test</code>: Add/update tests - <code>chore</code>: Maintenance</p> <p>Examples:</p> <pre><code>feat(templates): add StackClimb ranking template\n\nImplements a new ranking template that reveals items by stacking\nand sliding cards off screen.\n\nCloses #123\n</code></pre> <pre><code>fix(audio): correct sync anchor timing calculation\n\nThe sync offset was being applied in the wrong direction,\ncausing audio to play late instead of early.\n</code></pre> <pre><code>docs(widgets): add TimeConsumer documentation\n\n- Add comprehensive guide with examples\n- Include performance tips\n- Link to related widgets\n</code></pre>"},{"location":"contributing/code-style/#pull-request-guidelines","title":"Pull Request Guidelines","text":"<ol> <li>Title: Use conventional commit format</li> <li>Description: Explain what and why</li> <li>Testing: Describe how to test</li> <li>Screenshots: Include for visual changes</li> <li>Checklist: Mark completed items</li> </ol>"},{"location":"contributing/code-style/#related","title":"Related","text":"<ul> <li>Development Setup - Environment setup</li> <li>Testing - Testing guidelines</li> <li>Contributing - Contribution overview</li> </ul>"},{"location":"contributing/development-setup/","title":"Development Setup","text":"<p>Set up your Fluvie development environment</p> <p>This guide walks you through setting up a complete development environment for contributing to Fluvie.</p>"},{"location":"contributing/development-setup/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Prerequisites</li> <li>Repository Setup</li> <li>IDE Configuration</li> <li>Running the Project</li> <li>Project Structure</li> <li>Common Tasks</li> </ul>"},{"location":"contributing/development-setup/#prerequisites","title":"Prerequisites","text":""},{"location":"contributing/development-setup/#required","title":"Required","text":"Tool Version Installation Flutter 3.16+ flutter.dev Dart 3.2+ Included with Flutter Git 2.x git-scm.com FFmpeg 5.x+ See FFmpeg Setup"},{"location":"contributing/development-setup/#recommended","title":"Recommended","text":"Tool Purpose VS Code Recommended IDE with Flutter extension Android Studio Alternative IDE, required for Android emulators"},{"location":"contributing/development-setup/#verify-installation","title":"Verify Installation","text":"<pre><code># Check Flutter\nflutter --version\n# Flutter 3.16.0 or higher\n\n# Check Dart\ndart --version\n# Dart SDK version: 3.2.0 or higher\n\n# Check FFmpeg\nffmpeg -version\n# ffmpeg version 5.x or higher\n\n# Check Flutter doctor\nflutter doctor\n# All checks should pass\n</code></pre>"},{"location":"contributing/development-setup/#repository-setup","title":"Repository Setup","text":""},{"location":"contributing/development-setup/#1-fork-and-clone","title":"1. Fork and Clone","text":"<pre><code># Fork the repository on GitHub first, then:\ngit clone https://github.com/YOUR_USERNAME/fluvie.git\ncd fluvie\n\n# Add upstream remote\ngit remote add upstream https://github.com/anthropics/fluvie.git\n</code></pre>"},{"location":"contributing/development-setup/#2-install-dependencies","title":"2. Install Dependencies","text":"<pre><code># Install main package dependencies\nflutter pub get\n\n# Install example app dependencies\ncd example\nflutter pub get\ncd ..\n</code></pre>"},{"location":"contributing/development-setup/#3-verify-setup","title":"3. Verify Setup","text":"<pre><code># Run tests to verify everything works\nflutter test\n\n# Should see all tests passing\n</code></pre>"},{"location":"contributing/development-setup/#ide-configuration","title":"IDE Configuration","text":""},{"location":"contributing/development-setup/#vs-code-recommended","title":"VS Code (Recommended)","text":""},{"location":"contributing/development-setup/#extensions","title":"Extensions","text":"<p>Install these extensions:</p> <ul> <li>Dart - Dart language support</li> <li>Flutter - Flutter development tools</li> <li>Flutter Intl - Internationalization (optional)</li> <li>GitLens - Git integration (optional)</li> </ul>"},{"location":"contributing/development-setup/#settings","title":"Settings","text":"<p>Create or update <code>.vscode/settings.json</code>:</p> <pre><code>{\n  \"dart.lineLength\": 80,\n  \"editor.formatOnSave\": true,\n  \"editor.rulers\": [80],\n  \"[dart]\": {\n    \"editor.formatOnSave\": true,\n    \"editor.defaultFormatter\": \"Dart-Code.dart-code\"\n  }\n}\n</code></pre>"},{"location":"contributing/development-setup/#launch-configuration","title":"Launch Configuration","text":"<p>Create <code>.vscode/launch.json</code>:</p> <pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"name\": \"Example App\",\n      \"cwd\": \"example\",\n      \"request\": \"launch\",\n      \"type\": \"dart\"\n    },\n    {\n      \"name\": \"Run Tests\",\n      \"request\": \"launch\",\n      \"type\": \"dart\",\n      \"program\": \"test/\"\n    }\n  ]\n}\n</code></pre>"},{"location":"contributing/development-setup/#android-studio","title":"Android Studio","text":"<ol> <li>Open the project folder</li> <li>Go to File &gt; Settings &gt; Languages &amp; Frameworks &gt; Dart</li> <li>Set SDK path to your Flutter installation</li> <li>Enable Format code on save</li> </ol>"},{"location":"contributing/development-setup/#running-the-project","title":"Running the Project","text":""},{"location":"contributing/development-setup/#run-tests","title":"Run Tests","text":"<pre><code># All tests\nflutter test\n\n# Specific test file\nflutter test test/fluvie_test.dart\n\n# With verbose output\nflutter test --reporter expanded\n\n# With coverage\nflutter test --coverage\ngenhtml coverage/lcov.info -o coverage/html\nopen coverage/html/index.html\n</code></pre>"},{"location":"contributing/development-setup/#run-example-app","title":"Run Example App","text":"<pre><code>cd example\n\n# Run on connected device/emulator\nflutter run\n\n# Run on specific device\nflutter run -d chrome  # Web\nflutter run -d macos   # macOS\nflutter run -d linux   # Linux\n</code></pre>"},{"location":"contributing/development-setup/#run-specific-examples","title":"Run Specific Examples","text":"<p>The example app has a gallery of examples:</p> <pre><code>cd example\nflutter run\n\n# Navigate to Gallery &gt; Select Example\n</code></pre>"},{"location":"contributing/development-setup/#generate-code","title":"Generate Code","text":"<p>If you modify code that uses code generation:</p> <pre><code># Run build_runner\ndart run build_runner build\n\n# Or watch for changes\ndart run build_runner watch\n</code></pre>"},{"location":"contributing/development-setup/#project-structure","title":"Project Structure","text":"<pre><code>fluvie/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 fluvie.dart              # Main export file\n\u2502   \u251c\u2500\u2500 declarative.dart         # Declarative API exports\n\u2502   \u2514\u2500\u2500 src/\n\u2502       \u251c\u2500\u2500 capture/             # Frame capture system\n\u2502       \u2502   \u2514\u2500\u2500 frame_sequencer.dart\n\u2502       \u251c\u2500\u2500 config/              # Configuration classes\n\u2502       \u251c\u2500\u2500 declarative/         # Declarative widgets (V-prefixed)\n\u2502       \u251c\u2500\u2500 domain/              # Domain models\n\u2502       \u2502   \u251c\u2500\u2500 render_config.dart\n\u2502       \u2502   \u251c\u2500\u2500 audio_config.dart\n\u2502       \u2502   \u2514\u2500\u2500 ...\n\u2502       \u251c\u2500\u2500 encoding/            # FFmpeg integration\n\u2502       \u2502   \u251c\u2500\u2500 video_encoder_service.dart\n\u2502       \u2502   \u251c\u2500\u2500 ffmpeg_filter_graph_builder.dart\n\u2502       \u2502   \u2514\u2500\u2500 ffmpeg_provider/\n\u2502       \u251c\u2500\u2500 integration/         # Main render service\n\u2502       \u2502   \u2514\u2500\u2500 render_service.dart\n\u2502       \u251c\u2500\u2500 presentation/        # Core widgets\n\u2502       \u2502   \u251c\u2500\u2500 video_composition.dart\n\u2502       \u2502   \u251c\u2500\u2500 scene.dart\n\u2502       \u2502   \u251c\u2500\u2500 time_consumer.dart\n\u2502       \u2502   \u2514\u2500\u2500 ...\n\u2502       \u251c\u2500\u2500 preview/             # Preview mode components\n\u2502       \u251c\u2500\u2500 templates/           # Pre-built templates\n\u2502       \u2502   \u251c\u2500\u2500 intro/\n\u2502       \u2502   \u251c\u2500\u2500 ranking/\n\u2502       \u2502   \u251c\u2500\u2500 data_viz/\n\u2502       \u2502   \u251c\u2500\u2500 collage/\n\u2502       \u2502   \u251c\u2500\u2500 thematic/\n\u2502       \u2502   \u2514\u2500\u2500 conclusion/\n\u2502       \u2514\u2500\u2500 utils/               # Utility functions\n\u2502\n\u251c\u2500\u2500 example/\n\u2502   \u251c\u2500\u2500 lib/\n\u2502   \u2502   \u251c\u2500\u2500 main.dart           # Example app entry\n\u2502   \u2502   \u2514\u2500\u2500 gallery/            # Example gallery\n\u2502   \u2502       \u2514\u2500\u2500 examples/       # Individual examples\n\u2502   \u2514\u2500\u2500 test/\n\u2502       \u2514\u2500\u2500 widget_test.dart\n\u2502\n\u251c\u2500\u2500 test/\n\u2502   \u251c\u2500\u2500 features/               # Gherkin feature tests\n\u2502   \u2502   \u251c\u2500\u2500 step/               # Step definitions\n\u2502   \u2502   \u2514\u2500\u2500 *.feature           # Feature files\n\u2502   \u251c\u2500\u2500 presentation/           # Widget tests\n\u2502   \u2514\u2500\u2500 *.dart                  # Unit tests\n\u2502\n\u251c\u2500\u2500 doc/                        # Documentation\n\u2502   \u251c\u2500\u2500 README.md\n\u2502   \u2514\u2500\u2500 ...\n\u2502\n\u251c\u2500\u2500 pubspec.yaml               # Package configuration\n\u251c\u2500\u2500 analysis_options.yaml      # Linter configuration\n\u2514\u2500\u2500 README.md                  # Project README\n</code></pre>"},{"location":"contributing/development-setup/#common-tasks","title":"Common Tasks","text":""},{"location":"contributing/development-setup/#adding-a-new-widget","title":"Adding a New Widget","text":"<ol> <li>Create widget in <code>lib/src/presentation/</code></li> <li>Export from <code>lib/fluvie.dart</code></li> <li>Add tests in <code>test/</code></li> <li>Add documentation in <code>doc/widgets/</code></li> <li>Add example usage in <code>example/</code></li> </ol>"},{"location":"contributing/development-setup/#adding-a-new-template","title":"Adding a New Template","text":"<ol> <li>Create data class in <code>lib/src/templates/</code></li> <li>Create template widget extending <code>WrappedTemplate</code></li> <li>Add to appropriate category folder</li> <li>Export from <code>lib/fluvie.dart</code></li> <li>Add tests</li> <li>Document in <code>doc/templates/</code></li> </ol>"},{"location":"contributing/development-setup/#adding-a-new-animation","title":"Adding a New Animation","text":"<ol> <li>Create in <code>lib/src/presentation/</code> or <code>lib/src/utils/</code></li> <li>If <code>PropAnimation</code>, add as static factory</li> <li>Add tests</li> <li>Document in <code>doc/animations/</code></li> </ol>"},{"location":"contributing/development-setup/#updating-documentation","title":"Updating Documentation","text":"<ol> <li>Documentation is in <code>doc/</code></li> <li>Follow existing format with Table of Contents</li> <li>Include code examples</li> <li>Link to related documentation</li> </ol>"},{"location":"contributing/development-setup/#keeping-your-fork-updated","title":"Keeping Your Fork Updated","text":"<pre><code># Fetch upstream changes\ngit fetch upstream\n\n# Merge into your main branch\ngit checkout main\ngit merge upstream/main\n\n# Push to your fork\ngit push origin main\n</code></pre>"},{"location":"contributing/development-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"contributing/development-setup/#flutter-doctor-issues","title":"Flutter Doctor Issues","text":"<pre><code>flutter doctor -v\n# Follow the suggestions for any issues\n</code></pre>"},{"location":"contributing/development-setup/#ffmpeg-not-found","title":"FFmpeg Not Found","text":"<p>Ensure FFmpeg is in your PATH:</p> <pre><code># Check if FFmpeg is accessible\nwhich ffmpeg\n\n# If not found, add to PATH or reinstall\n</code></pre>"},{"location":"contributing/development-setup/#tests-failing","title":"Tests Failing","text":"<pre><code># Clear Flutter cache\nflutter clean\nflutter pub get\n\n# Regenerate code\ndart run build_runner build --delete-conflicting-outputs\n\n# Run tests again\nflutter test\n</code></pre>"},{"location":"contributing/development-setup/#example-app-not-running","title":"Example App Not Running","text":"<pre><code>cd example\nflutter clean\nflutter pub get\nflutter run\n</code></pre>"},{"location":"contributing/development-setup/#related","title":"Related","text":"<ul> <li>Testing - Testing guidelines</li> <li>Code Style - Coding standards</li> <li>Contributing - Contribution overview</li> </ul>"},{"location":"contributing/support/","title":"Support","text":"<p>Getting help and reporting issues</p> <p>This guide explains how to get help with Fluvie and how to report issues effectively.</p>"},{"location":"contributing/support/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Getting Help</li> <li>Reporting Bugs</li> <li>Feature Requests</li> <li>Security Issues</li> <li>Community Guidelines</li> </ul>"},{"location":"contributing/support/#getting-help","title":"Getting Help","text":""},{"location":"contributing/support/#documentation","title":"Documentation","text":"<p>Start with the documentation:</p> <ol> <li>Getting Started - Installation and first steps</li> <li>Tutorials - Step-by-step guides</li> <li>Widget Reference - Complete widget documentation</li> <li>FAQ - Common questions</li> </ol>"},{"location":"contributing/support/#github-discussions","title":"GitHub Discussions","text":"<p>For questions and discussions:</p> <ul> <li>Visit GitHub Discussions</li> <li>Search for existing answers first</li> <li>Post in the appropriate category:</li> <li>Q&amp;A: Technical questions</li> <li>Ideas: Feature suggestions</li> <li>Show and Tell: Share your creations</li> <li>General: Other discussions</li> </ul>"},{"location":"contributing/support/#stack-overflow","title":"Stack Overflow","text":"<p>For programming questions:</p> <ul> <li>Tag your question with <code>fluvie</code> and <code>flutter</code></li> <li>Include a minimal reproducible example</li> <li>Show what you've tried</li> </ul>"},{"location":"contributing/support/#reporting-bugs","title":"Reporting Bugs","text":""},{"location":"contributing/support/#before-reporting","title":"Before Reporting","text":"<ol> <li>Search existing issues - Your bug may already be reported</li> <li>Update to latest version - The bug may be fixed</li> <li>Check documentation - Ensure correct usage</li> <li>Isolate the issue - Create a minimal example</li> </ol>"},{"location":"contributing/support/#bug-report-template","title":"Bug Report Template","text":"<p>When creating an issue, include:</p> <pre><code>## Description\nA clear description of the bug.\n\n## Steps to Reproduce\n1. Create a Video with...\n2. Add a Scene containing...\n3. Call RenderService.execute()\n4. See error\n\n## Expected Behavior\nWhat you expected to happen.\n\n## Actual Behavior\nWhat actually happened.\n\n## Minimal Reproduction Code\n\n```dart\n// Minimal code that reproduces the issue\nfinal video = Video(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  scenes: [\n    Scene(\n      durationInFrames: 30,\n      children: [\n        // Your widget setup\n      ],\n    ),\n  ],\n);\n\nawait RenderService.execute(\n  composition: video,\n  outputPath: 'output.mp4',\n  tester: tester,\n);\n</code></pre>"},{"location":"contributing/support/#environment","title":"Environment","text":"<ul> <li>Fluvie version: [e.g., 1.0.0]</li> <li>Flutter version: [e.g., 3.16.0]</li> <li>Dart version: [e.g., 3.2.0]</li> <li>Platform: [e.g., macOS 14.0, Ubuntu 22.04, Windows 11]</li> <li>FFmpeg version: [e.g., 5.1.2]</li> </ul>"},{"location":"contributing/support/#additional-context","title":"Additional Context","text":"<ul> <li>Error messages or stack traces</li> <li>Screenshots or video recordings</li> <li>Relevant logs <pre><code>### Good Bug Report Example\n\n```markdown\n## Description\nAudio playback in preview mode is delayed by approximately 500ms compared to visual elements.\n\n## Steps to Reproduce\n1. Create a Video with a SyncAnchor at frame 30\n2. Add an AudioTrack synced to that anchor\n3. Run the preview\n4. Observe audio plays noticeably after the visual cue\n\n## Expected Behavior\nAudio should play exactly when the visual element appears at frame 30.\n\n## Actual Behavior\nAudio plays approximately 500ms after the visual element appears.\n\n## Minimal Reproduction Code\n[See attached code]\n\n## Environment\n- Fluvie version: 1.2.0\n- Flutter version: 3.16.5\n- Platform: macOS 14.2.1\n- FFmpeg version: 6.1\n\n## Additional Context\nThis only happens in preview mode. Rendered videos have correct sync.\nTested on two different Macs with same result.\n</code></pre></li> </ul>"},{"location":"contributing/support/#feature-requests","title":"Feature Requests","text":""},{"location":"contributing/support/#before-requesting","title":"Before Requesting","text":"<ol> <li>Check the roadmap - It may already be planned</li> <li>Search discussions - Others may have suggested it</li> <li>Consider alternatives - Can existing features achieve your goal?</li> </ol>"},{"location":"contributing/support/#feature-request-template","title":"Feature Request Template","text":"<pre><code>## Feature Description\nA clear description of the feature you'd like.\n\n## Use Case\nWhy do you need this feature? What problem does it solve?\n\n## Proposed Solution\nHow do you envision this working?\n\n## Alternatives Considered\nWhat other approaches have you considered?\n\n## Additional Context\n- Mockups or examples from other tools\n- Priority/importance to your workflow\n</code></pre>"},{"location":"contributing/support/#good-feature-request-example","title":"Good Feature Request Example","text":"<pre><code>## Feature Description\nAdd support for animated SVG paths as a widget.\n\n## Use Case\nI'm creating infographics that animate line graphs and icons.\nCurrently I have to convert SVGs to images or use CustomPaint manually.\n\n## Proposed Solution\nA widget like:\n```dart\nAnimatedSvgPath(\n  svgPath: 'M10 10 L100 100...',\n  startFrame: 0,\n  durationInFrames: 60,\n  strokeColor: Colors.blue,\n  strokeWidth: 2,\n)\n</code></pre>"},{"location":"contributing/support/#alternatives-considered","title":"Alternatives Considered","text":"<ul> <li>CustomPaint: Works but requires manual animation math</li> <li>Rive/Lottie: External tools, different workflow</li> </ul>"},{"location":"contributing/support/#additional-context_1","title":"Additional Context","text":"<p>Similar to how motion graphics tools like After Effects animate paths. Would make Fluvie more competitive for infographic videos. <pre><code>---\n\n## Security Issues\n\n### Reporting Security Vulnerabilities\n\n**Do not report security issues publicly.**\n\nInstead:\n\n1. Email security concerns to the maintainers\n2. Include detailed description of the vulnerability\n3. Provide steps to reproduce if possible\n4. Allow time for the issue to be addressed before disclosure\n\n### What Qualifies as Security Issue\n\n- Remote code execution\n- Data exposure\n- Authentication bypass\n- Other security vulnerabilities\n\n---\n\n## Frequently Asked Questions\n\n### Installation\n\n**Q: FFmpeg not found error**\n\nA: Ensure FFmpeg is installed and in your PATH:\n```bash\n# Check if accessible\nwhich ffmpeg\nffmpeg -version\n\n# If not found, install:\n# macOS: brew install ffmpeg\n# Ubuntu: sudo apt install ffmpeg\n# Windows: choco install ffmpeg\n</code></pre></p> <p>Q: Flutter version incompatibility</p> <p>A: Fluvie requires Flutter 3.16+. Update with: <pre><code>flutter upgrade\n</code></pre></p>"},{"location":"contributing/support/#rendering","title":"Rendering","text":"<p>Q: Render is very slow</p> <p>A: Try these optimizations: - Use <code>RenderQuality.preview</code> for testing - Reduce resolution during development - Avoid excessive <code>saveLayer</code> operations (Opacity widgets) - See Performance Tips</p> <p>Q: Output video has no audio</p> <p>A: Check: - AudioTrack is properly configured - Audio file path is correct - File format is supported (MP3, AAC, WAV) - Volume is not set to 0</p> <p>Q: Video doesn't play on my device</p> <p>A: Some codecs have limited support: <pre><code>// Use H.264 for maximum compatibility\nEncodingConfig(\n  videoCodec: VideoCodec.h264,\n  audioCodec: AudioCodec.aac,\n  outputFormat: OutputFormat.mp4,\n)\n</code></pre></p>"},{"location":"contributing/support/#widgets","title":"Widgets","text":"<p>Q: TimeConsumer not updating</p> <p>A: Ensure you're wrapping your composition in <code>RenderModeProvider</code>: <pre><code>RenderModeProvider(\n  frameNotifier: FrameReadyNotifier(0),\n  child: MyComposition(),\n)\n</code></pre></p> <p>Q: Animation timing is off</p> <p>A: Remember Fluvie uses frame numbers, not duration: <pre><code>// 30fps: 1 second = 30 frames\nfinal durationInFrames = (seconds * fps).round();\n</code></pre></p> <p>Q: Custom fonts not working</p> <p>A: Fonts must be declared in pubspec.yaml: <pre><code>flutter:\n  fonts:\n    - family: MyFont\n      fonts:\n        - asset: assets/fonts/MyFont.ttf\n</code></pre></p>"},{"location":"contributing/support/#community-guidelines","title":"Community Guidelines","text":""},{"location":"contributing/support/#be-respectful","title":"Be Respectful","text":"<ul> <li>Treat others with respect</li> <li>Assume good intentions</li> <li>Be patient with newcomers</li> </ul>"},{"location":"contributing/support/#be-helpful","title":"Be Helpful","text":"<ul> <li>Share knowledge generously</li> <li>Point to documentation when relevant</li> <li>Provide complete answers when possible</li> </ul>"},{"location":"contributing/support/#be-constructive","title":"Be Constructive","text":"<ul> <li>Focus on solutions, not blame</li> <li>Offer alternatives when disagreeing</li> <li>Celebrate others' successes</li> </ul>"},{"location":"contributing/support/#when-responding-to-issues","title":"When Responding to Issues","text":"<ul> <li>Acknowledge the reporter's effort</li> <li>Ask clarifying questions politely</li> <li>Thank contributors for their time</li> </ul>"},{"location":"contributing/support/#contact","title":"Contact","text":"<ul> <li>GitHub Issues: Bug reports and feature requests</li> <li>GitHub Discussions: Questions and community</li> <li>Email: For security issues only</li> </ul>"},{"location":"contributing/support/#related","title":"Related","text":"<ul> <li>Contributing - How to contribute</li> <li>Development Setup - Environment setup</li> <li>Testing - Testing guidelines</li> </ul>"},{"location":"contributing/testing/","title":"Testing","text":"<p>Write and run tests for Fluvie</p> <p>This guide covers how to write effective tests for Fluvie contributions.</p>"},{"location":"contributing/testing/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Test Types</li> <li>Running Tests</li> <li>Writing Widget Tests</li> <li>Gherkin Feature Tests</li> <li>Testing Animations</li> <li>Testing Templates</li> <li>Best Practices</li> </ul>"},{"location":"contributing/testing/#overview","title":"Overview","text":"<p>Fluvie uses several testing approaches:</p> <ol> <li>Unit Tests: Test individual functions and classes</li> <li>Widget Tests: Test widget rendering and behavior</li> <li>Gherkin Tests: BDD-style feature tests</li> <li>Integration Tests: Test complete rendering pipeline</li> </ol> <p>All tests should be deterministic and independent.</p>"},{"location":"contributing/testing/#test-types","title":"Test Types","text":""},{"location":"contributing/testing/#unit-tests","title":"Unit Tests","text":"<p>Test pure functions and simple classes:</p> <pre><code>// test/utils/interpolate_test.dart\nvoid main() {\n  group('interpolate', () {\n    test('returns start value at frame 0', () {\n      final result = interpolate(\n        frame: 0,\n        inputRange: [0, 100],\n        outputRange: [0.0, 1.0],\n      );\n      expect(result, equals(0.0));\n    });\n\n    test('returns end value at final frame', () {\n      final result = interpolate(\n        frame: 100,\n        inputRange: [0, 100],\n        outputRange: [0.0, 1.0],\n      );\n      expect(result, equals(1.0));\n    });\n\n    test('interpolates midpoint correctly', () {\n      final result = interpolate(\n        frame: 50,\n        inputRange: [0, 100],\n        outputRange: [0.0, 1.0],\n      );\n      expect(result, closeTo(0.5, 0.001));\n    });\n  });\n}\n</code></pre>"},{"location":"contributing/testing/#widget-tests","title":"Widget Tests","text":"<p>Test widget rendering with frame control:</p> <pre><code>// test/presentation/time_consumer_test.dart\nvoid main() {\n  testWidgets('TimeConsumer provides correct frame number', (tester) async {\n    int? capturedFrame;\n\n    await tester.pumpWidget(\n      MaterialApp(\n        home: RenderModeProvider(\n          frameNotifier: FrameReadyNotifier(42),\n          child: TimeConsumer(\n            builder: (context, frame, _) {\n              capturedFrame = frame;\n              return Text('Frame: $frame');\n            },\n          ),\n        ),\n      ),\n    );\n\n    expect(capturedFrame, equals(42));\n    expect(find.text('Frame: 42'), findsOneWidget);\n  });\n}\n</code></pre>"},{"location":"contributing/testing/#integration-tests","title":"Integration Tests","text":"<p>Test the full rendering pipeline:</p> <pre><code>// test/integration/render_service_test.dart\nvoid main() {\n  testWidgets('RenderService produces valid video', (tester) async {\n    final video = Video(\n      fps: 30,\n      width: 320,\n      height: 240,\n      scenes: [\n        Scene(\n          durationInFrames: 30,\n          children: [\n            Container(color: Colors.blue),\n          ],\n        ),\n      ],\n    );\n\n    final outputPath = '${Directory.systemTemp.path}/test_output.mp4';\n\n    await RenderService.execute(\n      composition: video,\n      outputPath: outputPath,\n      tester: tester,\n    );\n\n    // Verify output exists\n    expect(File(outputPath).existsSync(), isTrue);\n\n    // Verify video properties\n    final info = await VideoProbeService.probe(outputPath);\n    expect(info.width, equals(320));\n    expect(info.height, equals(240));\n    expect(info.fps, closeTo(30, 1));\n\n    // Cleanup\n    File(outputPath).deleteSync();\n  });\n}\n</code></pre>"},{"location":"contributing/testing/#running-tests","title":"Running Tests","text":""},{"location":"contributing/testing/#all-tests","title":"All Tests","text":"<pre><code>flutter test\n</code></pre>"},{"location":"contributing/testing/#specific-test-file","title":"Specific Test File","text":"<pre><code>flutter test test/fluvie_test.dart\n</code></pre>"},{"location":"contributing/testing/#specific-test-group","title":"Specific Test Group","text":"<pre><code>flutter test --name \"TimeConsumer\"\n</code></pre>"},{"location":"contributing/testing/#with-verbose-output","title":"With Verbose Output","text":"<pre><code>flutter test --reporter expanded\n</code></pre>"},{"location":"contributing/testing/#with-coverage","title":"With Coverage","text":"<pre><code>flutter test --coverage\ngenhtml coverage/lcov.info -o coverage/html\nopen coverage/html/index.html\n</code></pre>"},{"location":"contributing/testing/#watch-mode","title":"Watch Mode","text":"<pre><code># Using flutter_test_watch (install separately)\nflutter pub global activate flutter_test_watch\nflutter_test_watch\n</code></pre>"},{"location":"contributing/testing/#writing-widget-tests","title":"Writing Widget Tests","text":""},{"location":"contributing/testing/#basic-widget-test","title":"Basic Widget Test","text":"<pre><code>testWidgets('Scene renders children', (tester) async {\n  await tester.pumpWidget(\n    MaterialApp(\n      home: RenderModeProvider(\n        frameNotifier: FrameReadyNotifier(0),\n        child: Scene(\n          durationInFrames: 60,\n          children: [\n            Container(\n              key: const Key('test-container'),\n              color: Colors.red,\n            ),\n          ],\n        ),\n      ),\n    ),\n  );\n\n  expect(find.byKey(const Key('test-container')), findsOneWidget);\n});\n</code></pre>"},{"location":"contributing/testing/#testing-frame-based-animation","title":"Testing Frame-Based Animation","text":"<pre><code>testWidgets('Fade widget animates opacity', (tester) async {\n  final frameNotifier = FrameReadyNotifier(0);\n\n  await tester.pumpWidget(\n    MaterialApp(\n      home: RenderModeProvider(\n        frameNotifier: frameNotifier,\n        child: Fade(\n          startFrame: 0,\n          fadeInFrames: 30,\n          child: Container(color: Colors.blue),\n        ),\n      ),\n    ),\n  );\n\n  // Frame 0: Should be invisible\n  expect(_getOpacity(tester), closeTo(0.0, 0.01));\n\n  // Frame 15: Should be 50% visible\n  frameNotifier.setFrame(15);\n  await tester.pump();\n  expect(_getOpacity(tester), closeTo(0.5, 0.01));\n\n  // Frame 30: Should be fully visible\n  frameNotifier.setFrame(30);\n  await tester.pump();\n  expect(_getOpacity(tester), closeTo(1.0, 0.01));\n});\n\ndouble _getOpacity(WidgetTester tester) {\n  final fadeTransition = tester.widget&lt;FadeTransition&gt;(\n    find.byType(FadeTransition),\n  );\n  return fadeTransition.opacity.value;\n}\n</code></pre>"},{"location":"contributing/testing/#testing-with-mock-data","title":"Testing with Mock Data","text":"<pre><code>testWidgets('StatCard displays formatted value', (tester) async {\n  await tester.pumpWidget(\n    MaterialApp(\n      home: RenderModeProvider(\n        frameNotifier: FrameReadyNotifier(100),  // After animation\n        child: StatCard(\n          title: 'Plays',\n          value: 1000000,\n          startFrame: 0,\n          durationInFrames: 60,\n        ),\n      ),\n    ),\n  );\n\n  expect(find.text('Plays'), findsOneWidget);\n  expect(find.text('1,000,000'), findsOneWidget);  // Formatted\n});\n</code></pre>"},{"location":"contributing/testing/#gherkin-feature-tests","title":"Gherkin Feature Tests","text":"<p>Fluvie uses Gherkin-style BDD tests for feature specifications.</p>"},{"location":"contributing/testing/#feature-file","title":"Feature File","text":"<pre><code># test/features/video_composition.feature\nFeature: Video Composition\n\n  Scenario: Basic video rendering\n    Given I define a VideoComposition with fps 30 and durationInFrames 90\n    When the RenderService executes the composition\n    Then the final video file duration is exactly 3 seconds\n\n  Scenario: Scene transitions\n    Given I define two consecutive timelines with a CrossFadeTransition lasting 15 frames\n    When the FFmpegFilterGraphBuilder processes the transition point\n    Then the output filtergraph uses an overlay filter with an enable and alpha expression\n</code></pre>"},{"location":"contributing/testing/#step-definitions","title":"Step Definitions","text":"<pre><code>// test/features/step/i_define_a_videocomposition.dart\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:fluvie/fluvie.dart';\n\nclass VideoCompositionContext {\n  Video? video;\n  String? outputPath;\n}\n\nfinal context = VideoCompositionContext();\n\nvoid iDefineAVideoCompositionWithFps30AndDurationInFrames90() {\n  context.video = Video(\n    fps: 30,\n    width: 1080,\n    height: 1920,\n    scenes: [\n      Scene(\n        durationInFrames: 90,\n        children: [\n          Container(color: Colors.blue),\n        ],\n      ),\n    ],\n  );\n}\n\nvoid theRenderServiceExecutesTheComposition(WidgetTester tester) async {\n  context.outputPath = '${Directory.systemTemp.path}/test_${DateTime.now().millisecondsSinceEpoch}.mp4';\n\n  await RenderService.execute(\n    composition: context.video!,\n    outputPath: context.outputPath!,\n    tester: tester,\n  );\n}\n\nvoid theFinalVideoFileDurationIsExactly3Seconds() async {\n  final info = await VideoProbeService.probe(context.outputPath!);\n  expect(info.duration.inSeconds, equals(3));\n}\n</code></pre>"},{"location":"contributing/testing/#running-feature-tests","title":"Running Feature Tests","text":"<pre><code># Run all feature tests\nflutter test test/features/\n\n# Run specific feature\nflutter test test/features/video_composition_test.dart\n</code></pre>"},{"location":"contributing/testing/#testing-animations","title":"Testing Animations","text":""},{"location":"contributing/testing/#propanimation-tests","title":"PropAnimation Tests","text":"<pre><code>void main() {\n  group('PropAnimation.slideUp', () {\n    test('starts at offset position', () {\n      final animation = PropAnimation.slideUp(distance: 100);\n      final transform = animation.transformAt(0.0);\n\n      expect(transform.getTranslation().y, equals(100.0));\n    });\n\n    test('ends at original position', () {\n      final animation = PropAnimation.slideUp(distance: 100);\n      final transform = animation.transformAt(1.0);\n\n      expect(transform.getTranslation().y, equals(0.0));\n    });\n\n    test('respects easing curve', () {\n      final animation = PropAnimation.slideUp(\n        distance: 100,\n        curve: Curves.easeInOut,\n      );\n\n      // At 50% progress with easeInOut, should be close to middle\n      final transform = animation.transformAt(0.5);\n      expect(transform.getTranslation().y, closeTo(50.0, 5.0));\n    });\n  });\n}\n</code></pre>"},{"location":"contributing/testing/#visual-animation-testing","title":"Visual Animation Testing","text":"<pre><code>testWidgets('AnimatedProp applies transform correctly', (tester) async {\n  final frameNotifier = FrameReadyNotifier(0);\n\n  await tester.pumpWidget(\n    MaterialApp(\n      home: RenderModeProvider(\n        frameNotifier: frameNotifier,\n        child: AnimatedProp(\n          startFrame: 0,\n          duration: 30,\n          animation: PropAnimation.scale(from: 0.0, to: 1.0),\n          child: Container(\n            key: const Key('target'),\n            width: 100,\n            height: 100,\n            color: Colors.red,\n          ),\n        ),\n      ),\n    ),\n  );\n\n  // Check transform at different frames\n  for (final frame in [0, 15, 30]) {\n    frameNotifier.setFrame(frame);\n    await tester.pump();\n\n    final transform = tester.widget&lt;Transform&gt;(\n      find.ancestor(\n        of: find.byKey(const Key('target')),\n        matching: find.byType(Transform),\n      ),\n    );\n\n    final expectedScale = frame / 30;\n    final matrix = transform.transform;\n    expect(matrix.getMaxScaleOnAxis(), closeTo(expectedScale, 0.01));\n  }\n});\n</code></pre>"},{"location":"contributing/testing/#testing-templates","title":"Testing Templates","text":""},{"location":"contributing/testing/#template-rendering-test","title":"Template Rendering Test","text":"<pre><code>testWidgets('IntroTemplate renders all elements', (tester) async {\n  await tester.pumpWidget(\n    MaterialApp(\n      home: RenderModeProvider(\n        frameNotifier: FrameReadyNotifier(60),  // Mid-animation\n        child: TheNeonGate(\n          data: IntroData(\n            title: 'Test Title',\n            subtitle: '2024',\n          ),\n          theme: TemplateTheme.neon,\n        ),\n      ),\n    ),\n  );\n\n  expect(find.text('Test Title'), findsOneWidget);\n  expect(find.text('2024'), findsOneWidget);\n});\n</code></pre>"},{"location":"contributing/testing/#template-theming-test","title":"Template Theming Test","text":"<pre><code>testWidgets('Template applies theme colors', (tester) async {\n  const testTheme = TemplateTheme(\n    colorPalette: ColorPalette(\n      primary: Color(0xFFFF0000),\n      secondary: Color(0xFF00FF00),\n      accent: Color(0xFF0000FF),\n      text: Colors.white,\n      background: Colors.black,\n    ),\n    // ...\n  );\n\n  await tester.pumpWidget(\n    MaterialApp(\n      home: RenderModeProvider(\n        frameNotifier: FrameReadyNotifier(0),\n        child: TheNeonGate(\n          data: IntroData(title: 'Test'),\n          theme: testTheme,\n        ),\n      ),\n    ),\n  );\n\n  // Find background container and verify color\n  final container = tester.widget&lt;Container&gt;(\n    find.byType(Container).first,\n  );\n\n  expect(container.color, equals(Colors.black));\n});\n</code></pre>"},{"location":"contributing/testing/#best-practices","title":"Best Practices","text":""},{"location":"contributing/testing/#1-use-meaningful-names","title":"1. Use Meaningful Names","text":"<pre><code>// Good\ntest('interpolate returns midpoint at 50% progress', () { ... });\n\n// Bad\ntest('test1', () { ... });\n</code></pre>"},{"location":"contributing/testing/#2-one-assertion-per-test-when-practical","title":"2. One Assertion Per Test (When Practical)","text":"<pre><code>// Good - focused tests\ntest('Fade starts invisible', () {\n  expect(fade.opacityAt(0), equals(0.0));\n});\n\ntest('Fade ends fully visible', () {\n  expect(fade.opacityAt(1), equals(1.0));\n});\n\n// Acceptable - related assertions\ntest('Fade transitions correctly', () {\n  expect(fade.opacityAt(0), equals(0.0));\n  expect(fade.opacityAt(0.5), closeTo(0.5, 0.01));\n  expect(fade.opacityAt(1), equals(1.0));\n});\n</code></pre>"},{"location":"contributing/testing/#3-test-edge-cases","title":"3. Test Edge Cases","text":"<pre><code>group('FrameRange', () {\n  test('handles zero-length range', () { ... });\n  test('handles negative frames', () { ... });\n  test('handles frame at exact boundary', () { ... });\n});\n</code></pre>"},{"location":"contributing/testing/#4-clean-up-test-resources","title":"4. Clean Up Test Resources","text":"<pre><code>testWidgets('render test', (tester) async {\n  final outputPath = '${Directory.systemTemp.path}/test.mp4';\n\n  try {\n    await RenderService.execute(\n      composition: video,\n      outputPath: outputPath,\n      tester: tester,\n    );\n\n    // Assertions...\n  } finally {\n    // Always clean up\n    if (File(outputPath).existsSync()) {\n      File(outputPath).deleteSync();\n    }\n  }\n});\n</code></pre>"},{"location":"contributing/testing/#5-use-test-fixtures","title":"5. Use Test Fixtures","text":"<pre><code>// test/fixtures/test_videos.dart\nVideo createSimpleTestVideo({int length = 30}) {\n  return Video(\n    fps: 30,\n    width: 320,\n    height: 240,\n    scenes: [\n      Scene(\n        durationInFrames: length,\n        children: [Container(color: Colors.blue)],\n      ),\n    ],\n  );\n}\n\n// In tests\ntest('renders simple video', () async {\n  final video = createSimpleTestVideo(length: 60);\n  // ...\n});\n</code></pre>"},{"location":"contributing/testing/#related","title":"Related","text":"<ul> <li>Development Setup - Environment setup</li> <li>Code Style - Coding standards</li> <li>Contributing - Contribution overview</li> </ul>"},{"location":"cookbook/","title":"Fluvie Cookbook","text":"<p>Quick recipes for common video generation tasks. Each recipe includes working code, expected output, and variations.</p>"},{"location":"cookbook/#text-typography","title":"Text &amp; Typography","text":"<ul> <li>Animated Title Sequences - Create engaging title animations with fades and motion</li> <li>Kinetic Typography - Text that moves, scales, and rotates dynamically</li> <li>Subtitle Overlays - Add subtitles and captions to your videos</li> </ul>"},{"location":"cookbook/#transitions","title":"Transitions","text":"<ul> <li>Crossfade Between Scenes - Smooth transitions between video sequences</li> <li>Slide Transitions - Slide content in/out with custom directions</li> <li>Zoom Effects - Zoom in/out animations for dramatic effect</li> </ul>"},{"location":"cookbook/#audio","title":"Audio","text":"<ul> <li>Sync Animations to Music Beats - Create beat-synchronized animations</li> <li>Background Music with Fade - Add music with smooth fade in/out</li> <li>Multiple Audio Tracks - Mix multiple audio sources</li> </ul>"},{"location":"cookbook/#performance","title":"Performance","text":"<ul> <li>Optimizing Large Compositions - Techniques to improve render speed</li> <li>Reducing Memory Usage - Keep memory consumption low</li> <li>Fast Preview Rendering - Speed up development iteration</li> </ul>"},{"location":"cookbook/#integration","title":"Integration","text":"<ul> <li>Generating Videos from API Data - Fetch data and create videos programmatically</li> <li>Batch Video Generation - Generate multiple videos automatically</li> <li>Custom Render Pipeline - Advanced rendering customization</li> </ul>"},{"location":"cookbook/#how-to-use-these-recipes","title":"How to Use These Recipes","text":"<ol> <li>Find your use case - Browse the categories above</li> <li>Copy the code - Each recipe has complete, runnable code</li> <li>Customize - Adapt the examples to your needs</li> <li>Refer to docs - Links to full documentation for deep dives</li> </ol>"},{"location":"cookbook/#contributing-recipes","title":"Contributing Recipes","text":"<p>Have a useful pattern to share? Contributions welcome!</p> <ol> <li>Fork the repository</li> <li>Create a new recipe file in <code>doc/cookbook/</code></li> <li>Follow the recipe template (see existing recipes)</li> <li>Submit a pull request</li> </ol> <p>See CONTRIBUTING.md for guidelines.</p> <p>Need help? Check the FAQ or open a discussion.</p>"},{"location":"cookbook/animated-titles/","title":"Animated Title Sequences","text":"<p>Create engaging title animations with fades, motion, and effects.</p>"},{"location":"cookbook/animated-titles/#problem","title":"Problem","text":"<p>You want to create a professional-looking title sequence that fades in, stays visible, then fades out with smooth animations.</p>"},{"location":"cookbook/animated-titles/#solution","title":"Solution","text":"<p>Use <code>Layer</code> with fade transitions and <code>TimeConsumer</code> for custom animations.</p>"},{"location":"cookbook/animated-titles/#basic-title-with-fade","title":"Basic Title with Fade","text":"<pre><code>import 'package:flutter/material.dart';\nimport 'package:fluvie/fluvie.dart';\n\nfinal composition = VideoComposition(\n  fps: 30,\n  durationInFrames: 150, // 5 seconds\n  width: 1920,\n  height: 1080,\n  child: LayerStack(\n    children: [\n      // Background\n      Layer.background(\n        child: Container(\n          decoration: BoxDecoration(\n            gradient: LinearGradient(\n              begin: Alignment.topLeft,\n              end: Alignment.bottomRight,\n              colors: [Color(0xFF667EEA), Color(0xFF764BA2)],\n            ),\n          ),\n        ),\n      ),\n\n      // Title text with fade\n      Layer(\n        id: 'title',\n        startFrame: 15,\n        endFrame: 135,\n        fadeInFrames: 30,\n        fadeOutFrames: 30,\n        child: Center(\n          child: Text(\n            'Your Title Here',\n            style: TextStyle(\n              fontSize: 72,\n              fontWeight: FontWeight.bold,\n              color: Colors.white,\n              letterSpacing: 2,\n            ),\n          ),\n        ),\n      ),\n    ],\n  ),\n);\n</code></pre>"},{"location":"cookbook/animated-titles/#title-with-motion","title":"Title with Motion","text":"<p>Add slide-in and slide-out animations:</p> <pre><code>Layer(\n  id: 'title',\n  startFrame: 15,\n  endFrame: 135,\n  fadeInFrames: 30,\n  fadeOutFrames: 30,\n  child: TimeConsumer(\n    builder: (context, frame, progress) {\n      // Slide in from left during fade in\n      double xOffset = 0;\n      if (frame &lt; 45) {  // During fade in\n        xOffset = -200 * (1 - (frame - 15) / 30);\n      }\n\n      // Slide out to right during fade out\n      if (frame &gt; 105) {  // During fade out\n        xOffset = 200 * ((frame - 105) / 30);\n      }\n\n      return Transform.translate(\n        offset: Offset(xOffset, 0),\n        child: Center(\n          child: Text(\n            'Your Title Here',\n            style: TextStyle(\n              fontSize: 72,\n              fontWeight: FontWeight.bold,\n              color: Colors.white,\n            ),\n          ),\n        ),\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"cookbook/animated-titles/#multi-line-title-with-staggered-animation","title":"Multi-line Title with Staggered Animation","text":"<p>Animate multiple text lines with delays:</p> <pre><code>LayerStack(\n  children: [\n    // First line\n    Layer(\n      id: 'title_line1',\n      startFrame: 15,\n      endFrame: 135,\n      fadeInFrames: 20,\n      fadeOutFrames: 20,\n      child: TimeConsumer(\n        builder: (context, frame, progress) {\n          return Transform.translate(\n            offset: Offset(0, -50),\n            child: Center(\n              child: Text(\n                'Welcome to',\n                style: TextStyle(\n                  fontSize: 48,\n                  color: Colors.white70,\n                ),\n              ),\n            ),\n          );\n        },\n      ),\n    ),\n\n    // Second line (delayed)\n    Layer(\n      id: 'title_line2',\n      startFrame: 25,  // 10 frames later\n      endFrame: 135,\n      fadeInFrames: 20,\n      fadeOutFrames: 20,\n      child: TimeConsumer(\n        builder: (context, frame, progress) {\n          return Transform.translate(\n            offset: Offset(0, 20),\n            child: Center(\n              child: Text(\n                'Your Amazing Video',\n                style: TextStyle(\n                  fontSize: 72,\n                  fontWeight: FontWeight.bold,\n                  color: Colors.white,\n                ),\n              ),\n            ),\n          );\n        },\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"cookbook/animated-titles/#expected-output","title":"Expected Output","text":"<ul> <li>Title fades in smoothly over 1 second</li> <li>Remains visible for 3 seconds</li> <li>Fades out over 1 second</li> <li>Optional slide motion for dynamic effect</li> <li>Multi-line titles animate with stagger effect</li> </ul>"},{"location":"cookbook/animated-titles/#variations","title":"Variations","text":""},{"location":"cookbook/animated-titles/#typewriter-effect","title":"Typewriter Effect","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    final text = 'Your Title Here';\n    final visibleChars = (text.length * progress).floor();\n\n    return Center(\n      child: Text(\n        text.substring(0, visibleChars),\n        style: TextStyle(fontSize: 72, color: Colors.white),\n      ),\n    );\n  },\n)\n</code></pre>"},{"location":"cookbook/animated-titles/#scale-animation","title":"Scale Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // Scale from 0.5x to 1.0x during fade in\n    final scale = 0.5 + (0.5 * progress);\n\n    return Transform.scale(\n      scale: scale,\n      child: Center(\n        child: Text(\n          'Your Title Here',\n          style: TextStyle(fontSize: 72, color: Colors.white),\n        ),\n      ),\n    );\n  },\n)\n</code></pre>"},{"location":"cookbook/animated-titles/#glow-effect","title":"Glow Effect","text":"<pre><code>Center(\n  child: Container(\n    decoration: BoxDecoration(\n      boxShadow: [\n        BoxShadow(\n          color: Colors.white.withValues(alpha: 0.5),\n          blurRadius: 30,\n          spreadRadius: 10,\n        ),\n      ],\n    ),\n    child: Text(\n      'Your Title Here',\n      style: TextStyle(\n        fontSize: 72,\n        fontWeight: FontWeight.bold,\n        color: Colors.white,\n      ),\n    ),\n  ),\n)\n</code></pre>"},{"location":"cookbook/animated-titles/#tips","title":"Tips","text":"<ol> <li>Match fade duration to music: Use 15-30 frames (0.5-1 second at 30fps)</li> <li>Use easing curves: Apply <code>Curves.easeInOut</code> for smoother motion</li> <li>Test different fonts: Some fonts work better at different sizes</li> <li>Add shadows: Improve readability over complex backgrounds</li> <li>Keep it simple: Less animation is often more professional</li> </ol>"},{"location":"cookbook/animated-titles/#related","title":"Related","text":"<ul> <li>Kinetic Typography - More dynamic text animations</li> <li>Crossfade Between Scenes - Transition between titles</li> <li>Audio Sync - Time titles to music beats</li> </ul>"},{"location":"cookbook/animated-titles/#full-api-reference","title":"Full API Reference","text":"<ul> <li><code>Layer</code></li> <li><code>TimeConsumer</code></li> <li><code>FadeText</code></li> </ul>"},{"location":"cookbook/audio-sync/","title":"Sync Animations to Music Beats","text":"<p>Create beat-synchronized animations that move in time with your music.</p>"},{"location":"cookbook/audio-sync/#problem","title":"Problem","text":"<p>You want animations to pulse, scale, or move in perfect sync with the beats in your background music.</p>"},{"location":"cookbook/audio-sync/#solution","title":"Solution","text":"<p>Use <code>SyncAnchor</code> with BPM detection to create beat-aligned animations.</p>"},{"location":"cookbook/audio-sync/#basic-beat-sync","title":"Basic Beat Sync","text":"<pre><code>import 'package:flutter/material.dart';\nimport 'package:fluvie/fluvie.dart';\n\nfinal composition = VideoComposition(\n  fps: 30,\n  durationInFrames: 300,  // 10 seconds\n  width: 1920,\n  height: 1080,\n  audioTracks: [\n    AudioTrack(\n      source: AudioSource.asset('assets/music.mp3'),\n      bpm: 120,  // Beats per minute\n      startFrame: 0,\n      durationInFrames: 300,\n    ),\n  ],\n  child: LayerStack(\n    children: [\n      // Background\n      Layer.background(\n        child: Container(color: Colors.black),\n      ),\n\n      // Beat-synchronized circle\n      Layer(\n        id: 'pulse_circle',\n        startFrame: 0,\n        endFrame: 300,\n        child: SyncAnchor(\n          id: 'beat_1',\n          frame: 0,  // First beat at frame 0\n          child: TimeConsumer(\n            builder: (context, frame, progress) {\n              // Get progress since last beat\n              final beatProgress = context.getProgressSince('beat_1');\n\n              // Scale based on beat (pulse effect)\n              final scale = 1.0 + (0.3 * (1 - beatProgress));\n\n              return Center(\n                child: Transform.scale(\n                  scale: scale,\n                  child: Container(\n                    width: 200,\n                    height: 200,\n                    decoration: BoxDecoration(\n                      shape: BoxShape.circle,\n                      color: Colors.blue,\n                    ),\n                  ),\n                ),\n              );\n            },\n          ),\n        ),\n      ),\n    ],\n  ),\n);\n</code></pre>"},{"location":"cookbook/audio-sync/#multiple-beat-anchors","title":"Multiple Beat Anchors","text":"<p>For complex patterns, use multiple sync anchors:</p> <pre><code>child: Stack(\n  children: [\n    // Place sync anchors at beat intervals\n    // At 120 BPM and 30 FPS: 15 frames per beat\n    SyncAnchor(id: 'beat_0', frame: 0),\n    SyncAnchor(id: 'beat_1', frame: 15),\n    SyncAnchor(id: 'beat_2', frame: 30),\n    SyncAnchor(id: 'beat_3', frame: 45),\n    SyncAnchor(id: 'beat_4', frame: 60),\n    // ... continue for all beats\n\n    TimeConsumer(\n      builder: (context, frame, progress) {\n        // Find closest beat anchor\n        final currentBeat = (frame / 15).floor();\n        final beatProgress = (frame % 15) / 15.0;\n\n        // Animate based on beat progress\n        return AnimatedElement(beatProgress: beatProgress);\n      },\n    ),\n  ],\n)\n</code></pre>"},{"location":"cookbook/audio-sync/#auto-generate-beat-anchors","title":"Auto-Generate Beat Anchors","text":"<p>Helper function to generate anchors from BPM:</p> <pre><code>List&lt;Widget&gt; generateBeatAnchors({\n  required int bpm,\n  required int fps,\n  required int durationInFrames,\n}) {\n  final framesPerBeat = (fps * 60 / bpm).round();\n  final anchors = &lt;Widget&gt;[];\n\n  for (int i = 0; i * framesPerBeat &lt; durationInFrames; i++) {\n    anchors.add(\n      SyncAnchor(\n        id: 'beat_$i',\n        frame: i * framesPerBeat,\n      ),\n    );\n  }\n\n  return anchors;\n}\n\n// Usage:\nchild: Stack(\n  children: [\n    ...generateBeatAnchors(bpm: 120, fps: 30, durationInFrames: 300),\n    TimeConsumer(builder: ...),\n  ],\n)\n</code></pre>"},{"location":"cookbook/audio-sync/#expected-output","title":"Expected Output","text":"<ul> <li>Elements pulse in perfect sync with music beats</li> <li>Animation timing matches BPM precisely</li> <li>Smooth transitions between beats</li> </ul>"},{"location":"cookbook/audio-sync/#variations","title":"Variations","text":""},{"location":"cookbook/audio-sync/#color-flash-on-beat","title":"Color Flash on Beat","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    final beatProgress = (frame % framesPerBeat) / framesPerBeat;\n\n    // Flash white at beat, fade to color\n    final color = Color.lerp(\n      Colors.white,\n      Colors.blue,\n      beatProgress,\n    )!;\n\n    return Container(color: color);\n  },\n)\n</code></pre>"},{"location":"cookbook/audio-sync/#shake-effect-on-beat","title":"Shake Effect on Beat","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    final beatProgress = (frame % framesPerBeat) / framesPerBeat;\n\n    // Shake decreases after beat\n    final shakeAmount = 10 * (1 - beatProgress);\n    final offsetX = math.sin(frame * 0.5) * shakeAmount;\n\n    return Transform.translate(\n      offset: Offset(offsetX, 0),\n      child: YourWidget(),\n    );\n  },\n)\n</code></pre>"},{"location":"cookbook/audio-sync/#sequential-element-reveals","title":"Sequential Element Reveals","text":"<p>Reveal elements one per beat:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    final currentBeat = (frame / framesPerBeat).floor();\n\n    return Row(\n      mainAxisAlignment: MainAxisAlignment.center,\n      children: List.generate(5, (index) {\n        final isVisible = index &lt;= currentBeat;\n\n        return AnimatedOpacity(\n          opacity: isVisible ? 1.0 : 0.0,\n          duration: Duration.zero,\n          child: Container(\n            width: 100,\n            height: 100,\n            margin: EdgeInsets.all(8),\n            color: Colors.blue,\n          ),\n        );\n      }),\n    );\n  },\n)\n</code></pre>"},{"location":"cookbook/audio-sync/#advanced-beat-detection","title":"Advanced: Beat Detection","text":"<p>For audio files without known BPM, use audio analysis:</p> <pre><code>import 'package:fluvie/fluvie.dart';\n\n// Analyze audio file for beats\nfinal audioAnalysis = await AudioAnalyzer.analyze(\n  path: 'assets/music.mp3',\n);\n\nfinal bpm = audioAnalysis.bpm;\nfinal beatFrames = audioAnalysis.beatFrames;\n\n// Use detected beats\nfinal anchors = beatFrames.map((frame) =&gt;\n  SyncAnchor(id: 'beat_${beatFrames.indexOf(frame)}', frame: frame)\n).toList();\n</code></pre>"},{"location":"cookbook/audio-sync/#tips","title":"Tips","text":"<ol> <li>Calculate frames per beat: <code>framesPerBeat = (fps * 60) / bpm</code></li> <li>120 BPM at 30 FPS = 15 frames per beat</li> <li> <p>140 BPM at 30 FPS = 12.86 frames per beat (round to 13)</p> </li> <li> <p>Use easing curves: <code>Curves.easeOut</code> works well for beat pulses</p> </li> <li> <p>Layer multiple effects: Combine scale, color, and position changes</p> </li> <li> <p>Test with headphones: Ensure sync is perfect</p> </li> <li> <p>Account for audio offset: If audio starts late, offset beat anchors</p> </li> </ol>"},{"location":"cookbook/audio-sync/#common-pitfalls","title":"Common Pitfalls","text":"<p>\u274c Integer rounding errors: <pre><code>// Wrong: Loses precision over time\nfinal framesPerBeat = (fps * 60 / bpm).toInt();\n</code></pre></p> <p>\u2705 Maintain precision: <pre><code>// Right: Use round() and adjust as needed\nfinal framesPerBeat = (fps * 60 / bpm).round();\n</code></pre></p> <p>\u274c Forgetting audio delay: If audio starts at frame 30, offset all beat anchors by 30 frames.</p>"},{"location":"cookbook/audio-sync/#related","title":"Related","text":"<ul> <li>Background Music with Fade - Add music to videos</li> <li>Multiple Audio Tracks - Layer audio sources</li> <li>Animated Title Sequences - Time titles to beats</li> </ul>"},{"location":"cookbook/audio-sync/#full-api-reference","title":"Full API Reference","text":"<ul> <li><code>SyncAnchor</code></li> <li><code>AudioTrack</code></li> <li><code>TimeConsumer</code></li> </ul>"},{"location":"cookbook/crossfade/","title":"Crossfade Between Scenes","text":"<p>Smoothly transition between video sequences using crossfade transitions.</p>"},{"location":"cookbook/crossfade/#problem","title":"Problem","text":"<p>You want to transition between two scenes with a smooth crossfade effect where one scene fades out while the next fades in.</p>"},{"location":"cookbook/crossfade/#solution","title":"Solution","text":"<p>Use <code>CrossFadeTransition</code> or overlap <code>Layer</code> fade times.</p>"},{"location":"cookbook/crossfade/#using-crossfadetransition","title":"Using CrossFadeTransition","text":"<pre><code>import 'package:flutter/material.dart';\nimport 'package:fluvie/fluvie.dart';\n\nfinal composition = VideoComposition(\n  fps: 30,\n  durationInFrames: 180,  // 6 seconds\n  width: 1920,\n  height: 1080,\n  child: VideoSequence(\n    children: [\n      // Scene 1\n      Sequence(\n        startFrame: 0,\n        durationInFrames: 90,\n        child: Container(\n          color: Colors.blue,\n          child: Center(\n            child: Text(\n              'Scene 1',\n              style: TextStyle(fontSize: 72, color: Colors.white),\n            ),\n          ),\n        ),\n      ),\n\n      // Crossfade transition (15 frames = 0.5 seconds)\n      CrossFadeTransition(durationInFrames: 15),\n\n      // Scene 2\n      Sequence(\n        startFrame: 90,\n        durationInFrames: 90,\n        child: Container(\n          color: Colors.purple,\n          child: Center(\n            child: Text(\n              'Scene 2',\n              style: TextStyle(fontSize: 72, color: Colors.white),\n            ),\n          ),\n        ),\n      ),\n    ],\n  ),\n);\n</code></pre>"},{"location":"cookbook/crossfade/#using-overlapping-layers","title":"Using Overlapping Layers","text":"<p>Alternative approach with more control:</p> <pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 180,\n  width: 1920,\n  height: 1080,\n  child: LayerStack(\n    children: [\n      // Scene 1\n      Layer(\n        id: 'scene1',\n        startFrame: 0,\n        endFrame: 105,  // Overlaps with scene2\n        fadeOutFrames: 15,\n        child: Container(\n          color: Colors.blue,\n          child: Center(\n            child: Text(\n              'Scene 1',\n              style: TextStyle(fontSize: 72, color: Colors.white),\n            ),\n          ),\n        ),\n      ),\n\n      // Scene 2\n      Layer(\n        id: 'scene2',\n        startFrame: 90,  // Starts before scene1 ends\n        endFrame: 180,\n        fadeInFrames: 15,\n        child: Container(\n          color: Colors.purple,\n          child: Center(\n            child: Text(\n              'Scene 2',\n              style: TextStyle(fontSize: 72, color: Colors.white),\n            ),\n          ),\n        ),\n      ),\n    ],\n  ),\n)\n</code></pre>"},{"location":"cookbook/crossfade/#expected-output","title":"Expected Output","text":"<ul> <li>Scene 1 is fully visible</li> <li>Crossfade begins: Scene 1 fades out while Scene 2 fades in</li> <li>Crossfade completes: Scene 2 is fully visible</li> <li>Duration: 15-30 frames (0.5-1 second)</li> </ul>"},{"location":"cookbook/crossfade/#variations","title":"Variations","text":""},{"location":"cookbook/crossfade/#multiple-scene-crossfades","title":"Multiple Scene Crossfades","text":"<pre><code>VideoSequence(\n  children: [\n    Sequence(startFrame: 0, durationInFrames: 90, child: Scene1()),\n    CrossFadeTransition(durationInFrames: 20),\n\n    Sequence(startFrame: 90, durationInFrames: 90, child: Scene2()),\n    CrossFadeTransition(durationInFrames: 20),\n\n    Sequence(startFrame: 180, durationInFrames: 90, child: Scene3()),\n  ],\n)\n</code></pre>"},{"location":"cookbook/crossfade/#variable-speed-crossfade","title":"Variable Speed Crossfade","text":"<p>Slower at start, faster at end:</p> <pre><code>Layer(\n  fadeOutFrames: 30,\n  fadeOutCurve: Curves.easeIn,  // Accelerate fade\n  // ...\n)\n</code></pre>"},{"location":"cookbook/crossfade/#crossfade-with-zoom","title":"Crossfade with Zoom","text":"<p>Combine crossfade with scale animation:</p> <pre><code>Layer(\n  id: 'scene1',\n  startFrame: 0,\n  endFrame: 105,\n  fadeOutFrames: 15,\n  child: TimeConsumer(\n    builder: (context, frame, progress) {\n      // Zoom out during fade\n      final scale = frame &gt; 90 ? 1.0 + ((frame - 90) / 15) * 0.3 : 1.0;\n\n      return Transform.scale(\n        scale: scale,\n        child: Scene1(),\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"cookbook/crossfade/#tips","title":"Tips","text":"<ol> <li>Crossfade duration: 15-30 frames (0.5-1 second) feels natural</li> <li>Overlap timing: Scenes should overlap by exactly the fade duration</li> <li>Layer order: Later scenes should be on top (higher in LayerStack)</li> <li>Match motion: Crossfade works best between scenes with similar composition</li> <li>Audio crossfade: Sync audio fade with video crossfade</li> </ol>"},{"location":"cookbook/crossfade/#common-pitfalls","title":"Common Pitfalls","text":"<p>\u274c Gap between scenes: Ensure startFrame overlaps <pre><code>// Wrong: Gap between scenes\nLayer(endFrame: 90, fadeOutFrames: 15, ...)\nLayer(startFrame: 90, fadeInFrames: 15, ...)  // 0-frame overlap!\n</code></pre></p> <p>\u2705 Correct overlap: <pre><code>// Right: Proper overlap\nLayer(endFrame: 105, fadeOutFrames: 15, ...)\nLayer(startFrame: 90, fadeInFrames: 15, ...)  // 15-frame overlap\n</code></pre></p>"},{"location":"cookbook/crossfade/#related","title":"Related","text":"<ul> <li>Slide Transitions - Move scenes in/out</li> <li>Zoom Effects - Zoom during transitions</li> <li>Audio Sync - Time transitions to music</li> </ul>"},{"location":"cookbook/crossfade/#full-api-reference","title":"Full API Reference","text":"<ul> <li><code>CrossFadeTransition</code></li> <li><code>Layer</code></li> <li><code>Sequence</code></li> </ul>"},{"location":"cookbook/optimization/","title":"Optimizing Large Compositions","text":"<p>Techniques to improve render speed and reduce resource usage for complex video compositions.</p>"},{"location":"cookbook/optimization/#problem","title":"Problem","text":"<p>Large or complex compositions render slowly, consume excessive memory, or cause crashes.</p>"},{"location":"cookbook/optimization/#solutions","title":"Solutions","text":""},{"location":"cookbook/optimization/#1-reduce-resolution","title":"1. Reduce Resolution","text":"<p>Render at lower resolution, upscale if needed:</p> <pre><code>VideoComposition(\n  width: 1280,  // 720p instead of 1080p\n  height: 720,\n  // Renders ~2x faster than 1920x1080\n)\n</code></pre>"},{"location":"cookbook/optimization/#2-lower-frame-rate","title":"2. Lower Frame Rate","text":"<p>Reduce FPS for smoother rendering:</p> <pre><code>VideoComposition(\n  fps: 24,  // Instead of 30 or 60\n  // 24fps is ~20% faster than 30fps\n)\n</code></pre>"},{"location":"cookbook/optimization/#3-optimize-widget-rebuilds","title":"3. Optimize Widget Rebuilds","text":"<p>Use <code>const</code> widgets where possible:</p> <pre><code>// Bad: Creates new widget every frame\nLayer(\n  child: TimeConsumer(\n    builder: (context, frame, progress) {\n      return Container(  // Rebuilt every frame\n        color: Colors.blue,\n        child: Text('Static Text'),  // Rebuilt unnecessarily\n      );\n    },\n  ),\n)\n\n// Good: Reuse const widgets\nconst staticContent = Text('Static Text');\n\nLayer(\n  child: TimeConsumer(\n    builder: (context, frame, progress) {\n      return Container(\n        color: Colors.blue,\n        child: staticContent,  // Reused, not rebuilt\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"cookbook/optimization/#4-minimize-layer-count","title":"4. Minimize Layer Count","text":"<p>Combine layers when possible:</p> <pre><code>// Less efficient: Many layers\nLayerStack(\n  children: [\n    Layer(child: Background()),\n    Layer(child: Element1()),\n    Layer(child: Element2()),\n    Layer(child: Element3()),\n  ],\n)\n\n// More efficient: Combine static elements\nLayerStack(\n  children: [\n    Layer(\n      child: Stack(\n        children: [\n          Background(),\n          Element1(),\n          Element2(),\n          Element3(),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"cookbook/optimization/#5-use-simpler-effects","title":"5. Use Simpler Effects","text":"<p>Avoid expensive operations:</p> <pre><code>// Expensive: Blur and gradients every frame\nContainer(\n  decoration: BoxDecoration(\n    gradient: LinearGradient(...),\n  ),\n  child: BackdropFilter(\n    filter: ImageFilter.blur(sigmaX: 10, sigmaY: 10),\n    child: YourContent(),\n  ),\n)\n\n// Cheaper: Solid colors, pre-rendered assets\nContainer(\n  color: Colors.blue,\n  child: Image.asset('pre-blurred-background.png'),\n)\n</code></pre>"},{"location":"cookbook/optimization/#6-optimize-image-assets","title":"6. Optimize Image Assets","text":"<pre><code>// Bad: Load large image every frame\nImage.asset('large-image.png')\n\n// Good: Use appropriately sized assets\n// - Resize images to exact display size\n// - Use WebP format for smaller files\n// - Cache decoded images\nImage.asset(\n  'optimized-image.webp',\n  cacheWidth: 1920,  // Match composition width\n)\n</code></pre>"},{"location":"cookbook/optimization/#7-render-in-segments","title":"7. Render in Segments","text":"<p>For very long videos, render in chunks:</p> <pre><code>// Render first 300 frames\nawait renderService.execute(\n  config: config.copyWith(\n    timeline: config.timeline.copyWith(\n      startFrame: 0,\n      durationInFrames: 300,\n    ),\n  ),\n  // ...\n);\n\n// Render next 300 frames\nawait renderService.execute(\n  config: config.copyWith(\n    timeline: config.timeline.copyWith(\n      startFrame: 300,\n      durationInFrames: 300,\n    ),\n  ),\n  // ...\n);\n\n// Concatenate segments with FFmpeg\n</code></pre>"},{"location":"cookbook/optimization/#performance-benchmarks","title":"Performance Benchmarks","text":"Optimization Render Time Improvement 1080p \u2192 720p ~2x faster 30fps \u2192 24fps ~20% faster Reduce layers ~10-30% faster Simpler effects ~10-50% faster Optimized images ~5-15% faster"},{"location":"cookbook/optimization/#memory-optimization","title":"Memory Optimization","text":""},{"location":"cookbook/optimization/#monitor-memory-usage","title":"Monitor Memory Usage","text":"<pre><code>int frameCount = 0;\nawait renderService.execute(\n  // ...\n  onFrameUpdate: (frame) {\n    frameCount++;\n    if (frameCount % 30 == 0) {\n      // Log memory every second\n      print('Memory: ${ProcessInfo.currentRss ~/ 1024 ~/ 1024} MB');\n    }\n  },\n);\n</code></pre>"},{"location":"cookbook/optimization/#clear-caches","title":"Clear Caches","text":"<pre><code>// Clear image cache between renders\nimageCache.clear();\nimageCache.clearLiveImages();\n</code></pre>"},{"location":"cookbook/optimization/#tips","title":"Tips","text":"<ol> <li>Profile first: Identify bottlenecks before optimizing</li> <li>Test incrementally: Optimize one thing at a time</li> <li>Balance quality vs speed: Find acceptable trade-offs</li> <li>Use appropriate formats: WebP for images, H.264 for video</li> <li>Monitor resources: Watch memory and CPU during renders</li> </ol>"},{"location":"cookbook/optimization/#related","title":"Related","text":"<ul> <li>Reducing Memory Usage</li> <li>Fast Preview Rendering</li> <li>Performance Benchmarks</li> </ul>"},{"location":"effects/","title":"Effects","text":"<p>Fluvie provides visual effects to enhance your video compositions, including particle systems, post-processing overlays, animated backgrounds, and scene transitions.</p>"},{"location":"effects/#overview","title":"Overview","text":"Topic Description ParticleEffect Animated particle systems EffectOverlay Post-processing overlays Background Scene backgrounds SceneTransition Scene transitions"},{"location":"effects/#quick-examples","title":"Quick Examples","text":""},{"location":"effects/#sparkles","title":"Sparkles","text":"<pre><code>ParticleEffect.sparkles(\n  count: 25,\n  color: Colors.yellow,\n)\n</code></pre>"},{"location":"effects/#confetti","title":"Confetti","text":"<pre><code>ParticleEffect.confetti(\n  count: 40,\n  colors: [Colors.red, Colors.blue, Colors.yellow],\n)\n</code></pre>"},{"location":"effects/#film-grain","title":"Film Grain","text":"<pre><code>EffectOverlay.grain(intensity: 0.06)\n</code></pre>"},{"location":"effects/#vignette","title":"Vignette","text":"<pre><code>EffectOverlay.vignette(intensity: 0.4)\n</code></pre>"},{"location":"effects/#animated-gradient-background","title":"Animated Gradient Background","text":"<pre><code>Scene(\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),\n      60: Color(0xFF16213e),\n      120: Color(0xFF0f3460),\n    },\n  ),\n  children: [...],\n)\n</code></pre>"},{"location":"effects/#cross-fade-transition","title":"Cross-Fade Transition","text":"<pre><code>Scene(\n  transitionIn: SceneTransition.crossFade(durationInFrames: 20),\n  children: [...],\n)\n</code></pre>"},{"location":"effects/#effect-categories","title":"Effect Categories","text":""},{"location":"effects/#particle-effects","title":"Particle Effects","text":"<p>Add dynamic visual elements that move and animate:</p> Preset Description <code>ParticleEffect.sparkles()</code> Glittering star particles <code>ParticleEffect.confetti()</code> Falling confetti rectangles <code>ParticleEffect.snow()</code> Falling snowflakes <code>ParticleEffect.bubbles()</code> Rising bubbles"},{"location":"effects/#post-processing-overlays","title":"Post-Processing Overlays","text":"<p>Apply cinematic effects on top of content:</p> Effect Description <code>EffectOverlay.scanlines()</code> Horizontal scan lines <code>EffectOverlay.grain()</code> Film grain noise <code>EffectOverlay.vignette()</code> Darkened edges <code>EffectOverlay.grid()</code> Grid overlay <code>EffectOverlay.crt()</code> CRT monitor effect"},{"location":"effects/#background-types","title":"Background Types","text":"<p>Various background options for scenes:</p> Type Description <code>Background.solid()</code> Solid color <code>Background.gradient()</code> Animated gradient <code>Background.image()</code> Static image <code>Background.video()</code> Video playback <code>Background.noise()</code> Noise/grain texture <code>Background.vhs()</code> VHS retro effect"},{"location":"effects/#scene-transitions","title":"Scene Transitions","text":"<p>Smooth transitions between scenes:</p> Transition Description <code>SceneTransition.crossFade()</code> Dissolve between scenes <code>SceneTransition.slideLeft()</code> New scene slides in from right <code>SceneTransition.slideUp()</code> New scene slides in from bottom <code>SceneTransition.scale()</code> New scene scales in <code>SceneTransition.wipe()</code> Wipe reveals new scene <code>SceneTransition.zoomWarp()</code> Cinematic zoom transition <code>SceneTransition.colorBleed()</code> Color flows between scenes"},{"location":"effects/#combining-effects","title":"Combining Effects","text":"<p>Stack multiple effects for rich visuals:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),\n      180: Color(0xFF16213e),\n    },\n  ),\n  children: [\n    // Main content\n    VCenter(child: MyContent()),\n\n    // Particles behind content\n    ParticleEffect.sparkles(count: 30),\n\n    // Post-processing on top\n    EffectOverlay.vignette(intensity: 0.3),\n    EffectOverlay.grain(intensity: 0.03),\n  ],\n)\n</code></pre>"},{"location":"effects/#deterministic-rendering","title":"Deterministic Rendering","text":"<p>All effects use <code>randomSeed</code> parameters to ensure consistent rendering:</p> <pre><code>// Same seed = same particles every render\nParticleEffect.confetti(\n  count: 50,\n  randomSeed: 42,  // Deterministic\n)\n\n// Different seed = different pattern\nParticleEffect.confetti(\n  count: 50,\n  randomSeed: 123,  // Different pattern\n)\n</code></pre>"},{"location":"effects/#performance-considerations","title":"Performance Considerations","text":""},{"location":"effects/#particle-count","title":"Particle Count","text":"<p>More particles = more rendering work:</p> <pre><code>// Light effect (~25 particles)\nParticleEffect.sparkles(count: 25)\n\n// Heavy effect (~100 particles)\nParticleEffect.confetti(count: 100)\n</code></pre>"},{"location":"effects/#effect-stacking","title":"Effect Stacking","text":"<p>Limit overlapping effects:</p> <pre><code>// Good: 2-3 overlay effects\nLayerStack(\n  children: [\n    content,\n    EffectOverlay.vignette(),\n    EffectOverlay.grain(),\n  ],\n)\n\n// Avoid: Many stacked effects\nLayerStack(\n  children: [\n    content,\n    EffectOverlay.scanlines(),\n    EffectOverlay.grain(),\n    EffectOverlay.vignette(),\n    EffectOverlay.crt(),\n    ParticleEffect.sparkles(),\n    ParticleEffect.confetti(),\n  ],\n)\n</code></pre>"},{"location":"effects/#related","title":"Related","text":"<ul> <li>Scene - Scene widget with backgrounds</li> <li>LayerStack - Stacking effects</li> <li>TimeConsumer - Frame-based animations</li> </ul>"},{"location":"effects/backgrounds/","title":"Background","text":"<p>Scene backgrounds with colors, gradients, images, and effects</p> <p>The <code>Background</code> class provides various background types for scenes including solid colors, animated gradients, images, videos, and special effects like noise and VHS.</p>"},{"location":"effects/backgrounds/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Background Types</li> <li>Gradient Animation</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"effects/backgrounds/#overview","title":"Overview","text":"<p>Set backgrounds on <code>Scene</code> widgets:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [...],\n)\n</code></pre>"},{"location":"effects/backgrounds/#background-types","title":"Background Types","text":""},{"location":"effects/backgrounds/#solid-color","title":"Solid Color","text":"<p>Simple single-color background:</p> <pre><code>Background.solid(Colors.black)\n\nBackground.solid(Color(0xFF1a1a2e))\n</code></pre>"},{"location":"effects/backgrounds/#animated-gradient","title":"Animated Gradient","text":"<p>Color that transitions over frames:</p> <pre><code>Background.gradient(\n  colors: {\n    0: Color(0xFF1a1a2e),    // Start color\n    60: Color(0xFF16213e),   // At frame 60\n    120: Color(0xFF0f3460),  // At frame 120\n  },\n)\n</code></pre> Property Type Default Description <code>colors</code> <code>Map&lt;int, Color&gt;</code> required Frame -&gt; color keyframes <code>type</code> <code>GradientType</code> <code>linear</code> Gradient type <code>begin</code> <code>Alignment</code> <code>topCenter</code> Start alignment <code>end</code> <code>Alignment</code> <code>bottomCenter</code> End alignment <p>Gradient Types: - <code>GradientType.linear</code> - Linear gradient - <code>GradientType.radial</code> - Radial from center - <code>GradientType.sweep</code> - Sweep around center</p>"},{"location":"effects/backgrounds/#image-background","title":"Image Background","text":"<p>Static image as background:</p> <pre><code>Background.image(\n  assetPath: 'assets/background.jpg',\n  fit: BoxFit.cover,\n)\n</code></pre> Property Type Default Description <code>assetPath</code> <code>String</code> required Path to image asset <code>fit</code> <code>BoxFit</code> <code>cover</code> How image fits"},{"location":"effects/backgrounds/#video-background","title":"Video Background","text":"<p>Video playback as background:</p> <pre><code>Background.video(\n  assetPath: 'assets/background.mp4',\n  fit: BoxFit.cover,\n)\n</code></pre> Property Type Default Description <code>assetPath</code> <code>String</code> required Path to video asset <code>fit</code> <code>BoxFit</code> <code>cover</code> How video fits"},{"location":"effects/backgrounds/#noise-background","title":"Noise Background","text":"<p>Animated noise/grain texture:</p> <pre><code>Background.noise(\n  intensity: 0.05,\n  color: Colors.white,\n  animate: true,\n  animationSpeed: 1,\n  seed: 42,\n)\n</code></pre> Property Type Default Description <code>intensity</code> <code>double</code> <code>0.05</code> Noise visibility <code>color</code> <code>Color</code> <code>white</code> Noise color <code>seed</code> <code>int</code> <code>42</code> Random seed <code>animate</code> <code>bool</code> <code>true</code> Animate the noise <code>animationSpeed</code> <code>int</code> <code>1</code> Animation speed"},{"location":"effects/backgrounds/#vhs-background","title":"VHS Background","text":"<p>Retro VHS video tape effect:</p> <pre><code>Background.vhs(\n  baseColor: Color(0xFF1a1a1a),\n  intensity: 0.5,\n  showScanlines: true,\n  showChromatic: true,\n  showTracking: true,\n  animate: true,\n  seed: 42,\n)\n</code></pre> Property Type Default Description <code>baseColor</code> <code>Color</code> dark gray Base background color <code>intensity</code> <code>double</code> <code>0.5</code> Overall effect intensity <code>showScanlines</code> <code>bool</code> <code>true</code> Show scan lines <code>showChromatic</code> <code>bool</code> <code>true</code> Show chromatic aberration <code>showTracking</code> <code>bool</code> <code>true</code> Show tracking distortion <code>animate</code> <code>bool</code> <code>true</code> Animate effects <code>seed</code> <code>int</code> <code>42</code> Random seed"},{"location":"effects/backgrounds/#gradient-animation","title":"Gradient Animation","text":""},{"location":"effects/backgrounds/#how-it-works","title":"How It Works","text":"<p>Colors are keyframed to specific frames and interpolated:</p> <pre><code>Background.gradient(\n  colors: {\n    0: Colors.red,     // Red at frame 0\n    60: Colors.blue,   // Blue at frame 60\n    120: Colors.green, // Green at frame 120\n  },\n)\n</code></pre> <p>Timeline: <pre><code>Frame:  0      30      60      90      120\n        |       |       |       |       |\nColor:  Red \u2500\u2500\u2500&gt; Purple \u2500\u2500\u2500&gt; Blue \u2500\u2500\u2500&gt; Teal \u2500\u2500\u2500&gt; Green\n</code></pre></p>"},{"location":"effects/backgrounds/#single-color-gradient","title":"Single Color Gradient","text":"<p>With one keyframe, creates a simple gradient from color to slightly darker:</p> <pre><code>Background.gradient(\n  colors: {0: Color(0xFF1a1a2e)},\n)\n</code></pre>"},{"location":"effects/backgrounds/#multi-stop-gradient","title":"Multi-Stop Gradient","text":"<p>Add multiple keyframes for complex color transitions:</p> <pre><code>Background.gradient(\n  colors: {\n    0: Color(0xFF1a1a2e),\n    30: Color(0xFF16213e),\n    60: Color(0xFF0f3460),\n    90: Color(0xFF16213e),\n    120: Color(0xFF1a1a2e),  // Loop back\n  },\n)\n</code></pre>"},{"location":"effects/backgrounds/#gradient-direction","title":"Gradient Direction","text":"<p>Control the gradient direction:</p> <pre><code>// Top to bottom (default)\nBackground.gradient(\n  colors: {...},\n  begin: Alignment.topCenter,\n  end: Alignment.bottomCenter,\n)\n\n// Left to right\nBackground.gradient(\n  colors: {...},\n  begin: Alignment.centerLeft,\n  end: Alignment.centerRight,\n)\n\n// Diagonal\nBackground.gradient(\n  colors: {...},\n  begin: Alignment.topLeft,\n  end: Alignment.bottomRight,\n)\n</code></pre>"},{"location":"effects/backgrounds/#radial-gradient","title":"Radial Gradient","text":"<p>Gradient radiating from center:</p> <pre><code>Background.gradient(\n  colors: {\n    0: Color(0xFF1a1a2e),\n    60: Color(0xFF16213e),\n  },\n  type: GradientType.radial,\n)\n</code></pre>"},{"location":"effects/backgrounds/#examples","title":"Examples","text":""},{"location":"effects/backgrounds/#simple-dark-background","title":"Simple Dark Background","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Color(0xFF0a0a0a)),\n  children: [...],\n)\n</code></pre>"},{"location":"effects/backgrounds/#animated-night-sky","title":"Animated Night Sky","text":"<pre><code>Scene(\n  durationInFrames: 240,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF0d1b2a),   // Deep blue\n      120: Color(0xFF1b263b), // Lighter blue\n      240: Color(0xFF0d1b2a), // Back to deep blue\n    },\n  ),\n  children: [\n    ParticleEffect(\n      type: ParticleType.star,\n      count: 50,\n      opacity: 0.7,\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/backgrounds/#sunset-transition","title":"Sunset Transition","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFFFF9A8B),   // Coral\n      45: Color(0xFFFF6A88),  // Pink\n      90: Color(0xFFFF99AC),  // Light pink\n      135: Color(0xFF7B68EE), // Purple\n      180: Color(0xFF1a1a2e), // Dark (night)\n    },\n    begin: Alignment.topCenter,\n    end: Alignment.bottomCenter,\n  ),\n  children: [...],\n)\n</code></pre>"},{"location":"effects/backgrounds/#photo-background","title":"Photo Background","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.image(\n    assetPath: 'assets/landscape.jpg',\n    fit: BoxFit.cover,\n  ),\n  children: [\n    // Overlay to ensure text readability\n    Container(color: Colors.black.withOpacity(0.3)),\n    VCenter(child: Text('Title')),\n  ],\n)\n</code></pre>"},{"location":"effects/backgrounds/#retro-vhs-look","title":"Retro VHS Look","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.vhs(\n    baseColor: Color(0xFF1a1a1a),\n    intensity: 0.6,\n    showScanlines: true,\n    showChromatic: true,\n    showTracking: true,\n  ),\n  children: [\n    VCenter(\n      child: Text(\n        'PLAY \u25b6',\n        style: TextStyle(\n          fontSize: 48,\n          color: Colors.white,\n          fontFamily: 'VCR',\n        ),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/backgrounds/#noisy-texture","title":"Noisy Texture","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.noise(\n    intensity: 0.08,\n    color: Color(0xFF333333),\n    animate: true,\n  ),\n  children: [...],\n)\n</code></pre>"},{"location":"effects/backgrounds/#layered-background","title":"Layered Background","text":"<p>Combine background with overlays:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),\n      180: Color(0xFF16213e),\n    },\n  ),\n  children: [\n    // Background particles\n    ParticleEffect.sparkles(count: 20),\n\n    // Main content\n    VCenter(child: Content()),\n\n    // Vignette on top\n    EffectOverlay.vignette(intensity: 0.3),\n  ],\n)\n</code></pre>"},{"location":"effects/backgrounds/#breathing-background","title":"Breathing Background","text":"<p>Pulsing color animation:</p> <pre><code>Scene(\n  durationInFrames: 120,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),\n      30: Color(0xFF2a2a4e),  // Brighten\n      60: Color(0xFF1a1a2e),  // Return\n      90: Color(0xFF2a2a4e),  // Brighten\n      120: Color(0xFF1a1a2e), // Return\n    },\n  ),\n  children: [...],\n)\n</code></pre>"},{"location":"effects/backgrounds/#custom-backgrounds","title":"Custom Backgrounds","text":"<p>Create custom backgrounds by extending <code>Background</code>:</p> <pre><code>class MyCustomBackground extends Background {\n  final Color color1;\n  final Color color2;\n\n  const MyCustomBackground({\n    required this.color1,\n    required this.color2,\n  });\n\n  @override\n  Widget build(BuildContext context, int sceneLength) {\n    return TimeConsumer(\n      builder: (context, frame, _) {\n        // Custom animation logic\n        final t = (frame / sceneLength).clamp(0.0, 1.0);\n        return Container(\n          decoration: BoxDecoration(\n            gradient: LinearGradient(\n              colors: [\n                Color.lerp(color1, color2, t)!,\n                Color.lerp(color2, color1, t)!,\n              ],\n            ),\n          ),\n        );\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"effects/backgrounds/#related","title":"Related","text":"<ul> <li>Scene - Scene widget</li> <li>EffectOverlay - Post-processing effects</li> <li>ParticleEffect - Particle systems</li> <li>TimeConsumer - Frame-based animation</li> </ul>"},{"location":"effects/effect-overlay/","title":"EffectOverlay","text":"<p>Post-processing visual effects for cinematic looks</p> <p><code>EffectOverlay</code> renders various post-processing effects like scanlines, film grain, vignette, and CRT monitor effects. These are rendered as overlays and can be combined for unique visual styles.</p>"},{"location":"effects/effect-overlay/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Effect Types</li> <li>Examples</li> <li>Combining Effects</li> <li>Related</li> </ul>"},{"location":"effects/effect-overlay/#overview","title":"Overview","text":"<p>Apply cinematic effects on top of your content:</p> <pre><code>Stack(\n  children: [\n    // Your content\n    MyContent(),\n\n    // Effect overlays\n    EffectOverlay.vignette(intensity: 0.4),\n    EffectOverlay.grain(intensity: 0.05),\n  ],\n)\n</code></pre>"},{"location":"effects/effect-overlay/#properties","title":"Properties","text":"Property Type Default Description <code>type</code> <code>EffectType</code> required Type of effect <code>intensity</code> <code>double</code> <code>0.5</code> Effect strength (0.0 - 1.0) <code>color</code> <code>Color?</code> <code>null</code> Color for effects that use it <code>randomSeed</code> <code>int?</code> <code>null</code> Seed for grain effect"},{"location":"effects/effect-overlay/#effect-types","title":"Effect Types","text":""},{"location":"effects/effect-overlay/#scanlines","title":"Scanlines","text":"<p>Horizontal scan lines for a CRT/retro monitor look:</p> <pre><code>EffectOverlay.scanlines(\n  intensity: 0.02,  // Very subtle\n)\n</code></pre> Intensity Effect <code>0.01</code> Barely visible <code>0.02</code> Subtle (default) <code>0.05</code> Noticeable <code>0.1</code> Strong <p>Visual: <pre><code>Content with scanlines:\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n(subtle horizontal lines)\n</code></pre></p>"},{"location":"effects/effect-overlay/#grain","title":"Grain","text":"<p>Film grain noise effect that animates each frame:</p> <pre><code>EffectOverlay.grain(\n  intensity: 0.06,   // Subtle grain\n  randomSeed: 42,    // Optional: consistent pattern\n)\n</code></pre> Intensity Effect <code>0.03</code> Film-like, subtle <code>0.06</code> Noticeable (default) <code>0.10</code> Strong grain <code>0.15</code> Very noisy <p>The grain animates automatically - each frame has different noise to simulate film grain authentically.</p>"},{"location":"effects/effect-overlay/#vignette","title":"Vignette","text":"<p>Darkened edges that draw focus to the center:</p> <pre><code>EffectOverlay.vignette(\n  intensity: 0.4,  // Moderate darkening\n)\n</code></pre> Intensity Effect <code>0.2</code> Very subtle <code>0.4</code> Moderate (default) <code>0.6</code> Strong <code>0.8</code> Dramatic <p>Visual: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502\u2591\u2591\u2591\u2591\u2591         \u2591\u2591\u2591\u2591\u2591\u2502\n\u2502\u2591\u2591\u2591             \u2591\u2591\u2591\u2502\n\u2502\u2591                 \u2591\u2502\n\u2502                   \u2502 &lt;- Center bright\n\u2502\u2591                 \u2591\u2502\n\u2502\u2591\u2591\u2591             \u2591\u2591\u2591\u2502\n\u2502\u2591\u2591\u2591\u2591\u2591         \u2591\u2591\u2591\u2591\u2591\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"effects/effect-overlay/#grid","title":"Grid","text":"<p>Grid overlay for a technical/futuristic look:</p> <pre><code>EffectOverlay.grid(\n  intensity: 0.05,\n  color: Colors.white,\n)\n</code></pre> Intensity Effect <code>0.03</code> Barely visible <code>0.05</code> Subtle (default) <code>0.10</code> Visible <code>0.20</code> Prominent <p>Visual: <pre><code>\u250c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2510\n\u2502   \u2502   \u2502   \u2502   \u2502   \u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2524\n\u2502   \u2502   \u2502   \u2502   \u2502   \u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2524\n\u2502   \u2502   \u2502   \u2502   \u2502   \u2502\n\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"effects/effect-overlay/#crt","title":"CRT","text":"<p>Combined CRT monitor effect (scanlines + vignette):</p> <pre><code>EffectOverlay.crt(\n  intensity: 0.3,\n)\n</code></pre> <p>This combines: - Scanlines at <code>intensity * 0.3</code> - Vignette at <code>intensity * 0.5</code></p> <p>Creates an authentic retro CRT monitor appearance.</p>"},{"location":"effects/effect-overlay/#chromatic-aberration","title":"Chromatic Aberration","text":"<p>RGB color separation at edges:</p> <pre><code>EffectOverlay(\n  type: EffectType.chromaticAberration,\n  intensity: 0.3,\n)\n</code></pre> <p>Creates red/cyan color fringing at the edges of the frame, simulating lens distortion.</p>"},{"location":"effects/effect-overlay/#examples","title":"Examples","text":""},{"location":"effects/effect-overlay/#film-look","title":"Film Look","text":"<p>Classic film aesthetic:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    // Content\n    VCenter(child: MyContent()),\n\n    // Film effects\n    EffectOverlay.grain(intensity: 0.05),\n    EffectOverlay.vignette(intensity: 0.35),\n  ],\n)\n</code></pre>"},{"location":"effects/effect-overlay/#retro-tv","title":"Retro TV","text":"<p>Old CRT television look:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Color(0xFF1a1a1a)),\n  children: [\n    // Content with slight padding (like TV safe zone)\n    VPadding(\n      padding: EdgeInsets.all(40),\n      child: MyContent(),\n    ),\n\n    // CRT effect\n    EffectOverlay.crt(intensity: 0.4),\n  ],\n)\n</code></pre>"},{"location":"effects/effect-overlay/#sci-fi-interface","title":"Sci-Fi Interface","text":"<p>Futuristic HUD look:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Color(0xFF0a0a0a)),\n  children: [\n    // Content\n    VCenter(child: DataDisplay()),\n\n    // Sci-fi effects\n    EffectOverlay.grid(\n      intensity: 0.08,\n      color: Color(0xFF00ff88),  // Green grid\n    ),\n    EffectOverlay.scanlines(intensity: 0.03),\n    EffectOverlay.vignette(intensity: 0.5),\n  ],\n)\n</code></pre>"},{"location":"effects/effect-overlay/#horrortension","title":"Horror/Tension","text":"<p>Dark, unsettling atmosphere:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    // Content\n    VCenter(child: HorrorContent()),\n\n    // Tension effects\n    EffectOverlay.vignette(intensity: 0.7),  // Heavy vignette\n    EffectOverlay.grain(intensity: 0.08),    // Noticeable grain\n  ],\n)\n</code></pre>"},{"location":"effects/effect-overlay/#vhsnostalgic","title":"VHS/Nostalgic","text":"<p>Vintage video tape look:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.vhs(intensity: 0.5),\n  children: [\n    // Content\n    VCenter(child: VintageContent()),\n\n    // Additional effects\n    EffectOverlay.scanlines(intensity: 0.04),\n    EffectOverlay.grain(intensity: 0.06),\n  ],\n)\n</code></pre>"},{"location":"effects/effect-overlay/#subtle-enhancement","title":"Subtle Enhancement","text":"<p>Minimal effects for polish:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    VCenter(child: Content()),\n\n    // Subtle polish\n    EffectOverlay.vignette(intensity: 0.2),\n    EffectOverlay.grain(intensity: 0.02),  // Very subtle\n  ],\n)\n</code></pre>"},{"location":"effects/effect-overlay/#combining-effects","title":"Combining Effects","text":""},{"location":"effects/effect-overlay/#layering-order","title":"Layering Order","text":"<p>Effects are applied in order - later effects overlay earlier ones:</p> <pre><code>Stack(\n  children: [\n    Content(),\n\n    // Order matters:\n    EffectOverlay.grain(),      // 1. Grain first\n    EffectOverlay.scanlines(),  // 2. Scanlines on top\n    EffectOverlay.vignette(),   // 3. Vignette last (darkens everything)\n  ],\n)\n</code></pre>"},{"location":"effects/effect-overlay/#recommended-combinations","title":"Recommended Combinations","text":"<p>Film Look: <pre><code>EffectOverlay.grain(intensity: 0.04)\nEffectOverlay.vignette(intensity: 0.3)\n</code></pre></p> <p>Retro/VHS: <pre><code>EffectOverlay.scanlines(intensity: 0.03)\nEffectOverlay.grain(intensity: 0.06)\nEffectOverlay.vignette(intensity: 0.4)\n</code></pre></p> <p>Clean/Modern: <pre><code>EffectOverlay.vignette(intensity: 0.15)\n</code></pre></p> <p>Sci-Fi: <pre><code>EffectOverlay.grid(intensity: 0.05, color: accentColor)\nEffectOverlay.scanlines(intensity: 0.02)\n</code></pre></p>"},{"location":"effects/effect-overlay/#intensity-balance","title":"Intensity Balance","text":"<p>When combining effects, reduce individual intensities:</p> <pre><code>// Single effect - full intensity\nEffectOverlay.vignette(intensity: 0.4)\n\n// Multiple effects - reduce each\nEffectOverlay.grain(intensity: 0.03)      // Reduced\nEffectOverlay.vignette(intensity: 0.25)   // Reduced\nEffectOverlay.scanlines(intensity: 0.015) // Reduced\n</code></pre>"},{"location":"effects/effect-overlay/#performance-considerations","title":"Performance Considerations","text":""},{"location":"effects/effect-overlay/#grain-effect","title":"Grain Effect","text":"<p>Grain recalculates each frame and can be expensive:</p> <pre><code>// Lighter: Lower intensity = less visible pixels\nEffectOverlay.grain(intensity: 0.03)\n\n// Heavier: Higher intensity\nEffectOverlay.grain(intensity: 0.10)\n</code></pre>"},{"location":"effects/effect-overlay/#multiple-overlays","title":"Multiple Overlays","text":"<p>Each overlay adds rendering cost:</p> <pre><code>// Good: 2-3 effects\nStack(\n  children: [\n    content,\n    EffectOverlay.vignette(),\n    EffectOverlay.grain(),\n  ],\n)\n\n// Expensive: Many effects\nStack(\n  children: [\n    content,\n    EffectOverlay.scanlines(),\n    EffectOverlay.grain(),\n    EffectOverlay.vignette(),\n    EffectOverlay.grid(),\n    EffectOverlay.crt(),\n  ],\n)\n</code></pre>"},{"location":"effects/effect-overlay/#related","title":"Related","text":"<ul> <li>ParticleEffect - Particle systems</li> <li>Background - Scene backgrounds</li> <li>Scene - Scene widget</li> <li>LayerStack - Layering content</li> </ul>"},{"location":"effects/particle-effect/","title":"ParticleEffect","text":"<p>Animated particle systems for dynamic visual effects</p> <p><code>ParticleEffect</code> creates deterministic particle systems with configurable count, size, speed, and direction. Particles are seeded for consistent rendering across video frames.</p>"},{"location":"effects/particle-effect/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Presets</li> <li>Particle Types</li> <li>Directions</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"effects/particle-effect/#overview","title":"Overview","text":"<p>Add animated particles to your composition:</p> <pre><code>// Simple sparkles\nParticleEffect.sparkles(\n  count: 25,\n  color: Colors.yellow,\n)\n\n// Falling confetti\nParticleEffect.confetti(\n  count: 40,\n  colors: [Colors.red, Colors.blue, Colors.yellow, Colors.green],\n)\n</code></pre>"},{"location":"effects/particle-effect/#deterministic-rendering","title":"Deterministic Rendering","text":"<p>All particles are generated from a seed, ensuring identical results on every render:</p> <pre><code>ParticleEffect(\n  count: 30,\n  randomSeed: 42,  // Same seed = same particle positions/velocities\n)\n</code></pre>"},{"location":"effects/particle-effect/#properties","title":"Properties","text":"Property Type Default Description <code>count</code> <code>int</code> <code>25</code> Number of particles <code>type</code> <code>ParticleType</code> <code>circle</code> Shape of particles <code>color</code> <code>Color</code> <code>white</code> Primary particle color <code>colors</code> <code>List&lt;Color&gt;?</code> <code>null</code> Multiple colors for variety <code>minSize</code> <code>double</code> <code>2</code> Minimum particle size <code>maxSize</code> <code>double</code> <code>6</code> Maximum particle size <code>minSpeed</code> <code>double</code> <code>1</code> Minimum speed (pixels/frame) <code>maxSpeed</code> <code>double</code> <code>3</code> Maximum speed (pixels/frame) <code>direction</code> <code>ParticleDirection</code> <code>down</code> Movement direction <code>randomSeed</code> <code>int</code> <code>42</code> Seed for deterministic generation <code>opacity</code> <code>double</code> <code>1.0</code> Overall opacity <code>fadeOut</code> <code>bool</code> <code>false</code> Whether particles fade over time"},{"location":"effects/particle-effect/#presets","title":"Presets","text":""},{"location":"effects/particle-effect/#sparkles","title":"sparkles","text":"<p>Glittering star-shaped particles that move randomly and fade:</p> <pre><code>ParticleEffect.sparkles(\n  count: 25,          // Number of sparkles\n  color: Color(0xFFFFD700),  // Gold color\n  opacity: 0.8,       // Slight transparency\n  randomSeed: 42,     // Deterministic\n)\n</code></pre> <p>Preset configuration: - Type: <code>star</code> - Direction: <code>random</code> - Size: 2-8px - Speed: 0.5-2 pixels/frame - Fade: enabled</p>"},{"location":"effects/particle-effect/#confetti","title":"confetti","text":"<p>Falling confetti rectangles with rotation:</p> <pre><code>ParticleEffect.confetti(\n  count: 35,\n  colors: [\n    Color(0xFFFF6B6B),  // Red\n    Color(0xFF4ECDC4),  // Teal\n    Color(0xFFFFE66D),  // Yellow\n    Color(0xFF95E1D3),  // Mint\n    Color(0xFFF38181),  // Coral\n    Color(0xFFAA96DA),  // Purple\n  ],\n  opacity: 1.0,\n  randomSeed: 42,\n)\n</code></pre> <p>Preset configuration: - Type: <code>confetti</code> - Direction: <code>down</code> - Size: 6-12px - Speed: 2-5 pixels/frame - Fade: disabled</p>"},{"location":"effects/particle-effect/#snow","title":"snow","text":"<p>Gently falling snowflakes:</p> <pre><code>ParticleEffect.snow(\n  count: 50,\n  color: Colors.white,\n  opacity: 0.8,\n  randomSeed: 42,\n)\n</code></pre> <p>Preset configuration: - Type: <code>circle</code> - Direction: <code>down</code> - Size: 2-6px - Speed: 1-2 pixels/frame - Fade: disabled</p>"},{"location":"effects/particle-effect/#bubbles","title":"bubbles","text":"<p>Rising bubbles:</p> <pre><code>ParticleEffect.bubbles(\n  count: 30,\n  color: Colors.white,\n  opacity: 0.5,\n  randomSeed: 42,\n)\n</code></pre> <p>Preset configuration: - Type: <code>circle</code> - Direction: <code>up</code> - Size: 4-12px - Speed: 1-3 pixels/frame - Fade: disabled</p>"},{"location":"effects/particle-effect/#particle-types","title":"Particle Types","text":"Type Description Visual <code>circle</code> Solid circles \u25cf <code>star</code> 5-pointed stars \u2605 <code>square</code> Solid squares \u25a0 <code>confetti</code> Rotating rectangles \u25ac"},{"location":"effects/particle-effect/#custom-particle-type","title":"Custom Particle Type","text":"<pre><code>ParticleEffect(\n  count: 40,\n  type: ParticleType.star,\n  color: Colors.yellow,\n  minSize: 4,\n  maxSize: 12,\n)\n</code></pre>"},{"location":"effects/particle-effect/#directions","title":"Directions","text":"Direction Description <code>down</code> Fall downward (gravity) <code>up</code> Rise upward (bubbles) <code>left</code> Move left <code>right</code> Move right <code>random</code> Random directions <code>radial</code> Explode outward from center"},{"location":"effects/particle-effect/#direction-examples","title":"Direction Examples","text":"<pre><code>// Falling particles\nParticleEffect(\n  direction: ParticleDirection.down,\n  ...\n)\n\n// Explosion effect\nParticleEffect(\n  direction: ParticleDirection.radial,\n  ...\n)\n\n// Random floating\nParticleEffect(\n  direction: ParticleDirection.random,\n  ...\n)\n</code></pre>"},{"location":"effects/particle-effect/#examples","title":"Examples","text":""},{"location":"effects/particle-effect/#celebration-confetti","title":"Celebration Confetti","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    // Main celebration content\n    VCenter(\n      child: Text(\n        'Congratulations!',\n        style: TextStyle(fontSize: 72, color: Colors.white),\n      ),\n    ),\n\n    // Confetti overlay\n    ParticleEffect.confetti(\n      count: 60,\n      colors: [\n        Colors.red,\n        Colors.orange,\n        Colors.yellow,\n        Colors.green,\n        Colors.blue,\n        Colors.purple,\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/particle-effect/#winter-scene","title":"Winter Scene","text":"<pre><code>Scene(\n  durationInFrames: 300,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),\n      300: Color(0xFF16213e),\n    },\n  ),\n  children: [\n    // Content\n    VCenter(child: WinterContent()),\n\n    // Snow overlay\n    ParticleEffect.snow(\n      count: 80,\n      opacity: 0.7,\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/particle-effect/#sparkle-highlight","title":"Sparkle Highlight","text":"<pre><code>VStack(\n  startFrame: 30,\n  endFrame: 150,\n  children: [\n    // Featured item with sparkles\n    Container(\n      width: 400,\n      height: 300,\n      child: Stack(\n        children: [\n          Image.asset('featured.jpg'),\n          Positioned.fill(\n            child: ParticleEffect.sparkles(\n              count: 20,\n              color: Color(0xFFFFD700),\n            ),\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/particle-effect/#underwater-bubbles","title":"Underwater Bubbles","text":"<pre><code>Scene(\n  durationInFrames: 240,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF0077B6),\n      240: Color(0xFF023E8A),\n    },\n  ),\n  children: [\n    // Underwater content\n    VCenter(child: UnderwaterScene()),\n\n    // Rising bubbles\n    ParticleEffect.bubbles(\n      count: 40,\n      opacity: 0.4,\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/particle-effect/#custom-explosion","title":"Custom Explosion","text":"<pre><code>ParticleEffect(\n  count: 100,\n  type: ParticleType.circle,\n  direction: ParticleDirection.radial,\n  minSize: 2,\n  maxSize: 8,\n  minSpeed: 3,\n  maxSpeed: 8,\n  colors: [\n    Colors.orange,\n    Colors.red,\n    Colors.yellow,\n  ],\n  fadeOut: true,\n  opacity: 0.9,\n  randomSeed: 42,\n)\n</code></pre>"},{"location":"effects/particle-effect/#falling-leaves","title":"Falling Leaves","text":"<pre><code>ParticleEffect(\n  count: 30,\n  type: ParticleType.square,  // Leaf-like shapes\n  direction: ParticleDirection.down,\n  minSize: 8,\n  maxSize: 16,\n  minSpeed: 1,\n  maxSpeed: 2,\n  colors: [\n    Color(0xFFE76F51),  // Orange\n    Color(0xFFF4A261),  // Light orange\n    Color(0xFFE9C46A),  // Yellow\n    Color(0xFF8B4513),  // Brown\n  ],\n  opacity: 0.9,\n)\n</code></pre>"},{"location":"effects/particle-effect/#starfield","title":"Starfield","text":"<pre><code>ParticleEffect(\n  count: 100,\n  type: ParticleType.star,\n  direction: ParticleDirection.random,\n  minSize: 1,\n  maxSize: 4,\n  minSpeed: 0.2,\n  maxSpeed: 0.5,\n  color: Colors.white,\n  fadeOut: true,\n  opacity: 0.8,\n)\n</code></pre>"},{"location":"effects/particle-effect/#with-layer-control","title":"With Layer Control","text":"<pre><code>LayerStack(\n  children: [\n    // Background particles (behind content)\n    Layer(\n      zIndex: 0,\n      child: ParticleEffect.sparkles(count: 15),\n    ),\n\n    // Main content\n    Layer(\n      zIndex: 1,\n      child: VCenter(child: MainContent()),\n    ),\n\n    // Foreground particles (in front)\n    Layer(\n      zIndex: 2,\n      child: ParticleEffect.confetti(count: 25),\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/particle-effect/#performance-tips","title":"Performance Tips","text":""},{"location":"effects/particle-effect/#optimize-particle-count","title":"Optimize Particle Count","text":"<pre><code>// Light effect: 15-30 particles\nParticleEffect.sparkles(count: 25)\n\n// Medium effect: 30-50 particles\nParticleEffect.confetti(count: 40)\n\n// Heavy effect: 50-100 particles (use sparingly)\nParticleEffect.snow(count: 80)\n</code></pre>"},{"location":"effects/particle-effect/#reduce-size-range","title":"Reduce Size Range","text":"<p>Larger particles are more expensive to render:</p> <pre><code>// Lighter\nParticleEffect(\n  minSize: 2,\n  maxSize: 6,\n  ...\n)\n\n// Heavier\nParticleEffect(\n  minSize: 8,\n  maxSize: 20,\n  ...\n)\n</code></pre>"},{"location":"effects/particle-effect/#related","title":"Related","text":"<ul> <li>EffectOverlay - Post-processing effects</li> <li>Background - Scene backgrounds</li> <li>LayerStack - Layer ordering</li> <li>TimeConsumer - Frame-based animation</li> </ul>"},{"location":"effects/transitions/","title":"Scene Transitions","text":"<p>Smooth transitions between scenes</p> <p><code>SceneTransition</code> defines how one scene transitions to another, including transition type, duration, and easing curve. Transitions create professional-looking video flow.</p>"},{"location":"effects/transitions/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Transition Types</li> <li>Examples</li> <li>Timing</li> <li>Related</li> </ul>"},{"location":"effects/transitions/#overview","title":"Overview","text":"<p>Apply transitions to scenes:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  transitionIn: SceneTransition.crossFade(durationInFrames: 20),\n  transitionOut: SceneTransition.slideLeft(durationInFrames: 15),\n  children: [...],\n)\n</code></pre>"},{"location":"effects/transitions/#transition-direction","title":"Transition Direction","text":"<ul> <li><code>transitionIn</code> - How this scene appears (from previous scene)</li> <li><code>transitionOut</code> - How this scene disappears (to next scene)</li> </ul>"},{"location":"effects/transitions/#properties","title":"Properties","text":"Property Type Default Description <code>type</code> <code>SceneTransitionType</code> - Transition type <code>durationInFrames</code> <code>int</code> varies Transition duration <code>curve</code> <code>Curve</code> <code>easeInOut</code> Easing curve <p>Additional properties for specific transitions:</p> Property Transitions Description <code>wipeDirection</code> <code>wipe</code> Wipe direction <code>maxZoom</code> <code>zoomWarp</code> Maximum zoom level <code>zoomTarget</code> <code>zoomWarp</code> Zoom focus point <code>bleedColor</code> <code>colorBleed</code> Color to transition through"},{"location":"effects/transitions/#transition-types","title":"Transition Types","text":""},{"location":"effects/transitions/#none-instant-cut","title":"None (Instant Cut)","text":"<p>No transition, immediate switch:</p> <pre><code>SceneTransition.none()\n</code></pre> <p>Use for: - Hard cuts - Quick tempo edits - Intentional abrupt changes</p>"},{"location":"effects/transitions/#cross-fade","title":"Cross Fade","text":"<p>Smooth dissolve between scenes:</p> <pre><code>SceneTransition.crossFade(\n  durationInFrames: 15,  // Default: 15\n  curve: Curves.easeInOut,\n)\n</code></pre> <p>Use for: - Smooth scene changes - Time passing - Dream sequences</p>"},{"location":"effects/transitions/#slide-transitions","title":"Slide Transitions","text":"<p>New scene slides in from a direction:</p> <pre><code>// From right (push left)\nSceneTransition.slideLeft(durationInFrames: 20)\n\n// From left (push right)\nSceneTransition.slideRight(durationInFrames: 20)\n\n// From bottom (push up)\nSceneTransition.slideUp(durationInFrames: 20)\n\n// From top (push down)\nSceneTransition.slideDown(durationInFrames: 20)\n</code></pre> <p>Use for: - Page-like transitions - Carousel effects - Directional flow</p>"},{"location":"effects/transitions/#scale","title":"Scale","text":"<p>New scene scales in from center:</p> <pre><code>SceneTransition.scale(\n  durationInFrames: 20,\n  curve: Curves.easeInOut,\n)\n</code></pre> <p>Use for: - Focus/zoom transitions - Revealing new content - Attention-grabbing changes</p>"},{"location":"effects/transitions/#wipe","title":"Wipe","text":"<p>Reveal new scene with a wipe:</p> <pre><code>SceneTransition.wipe(\n  durationInFrames: 20,\n  curve: Curves.easeInOut,\n  wipeDirection: WipeDirection.leftToRight,\n)\n</code></pre> <p>Wipe Directions: - <code>WipeDirection.leftToRight</code> - <code>WipeDirection.rightToLeft</code> - <code>WipeDirection.topToBottom</code> - <code>WipeDirection.bottomToTop</code></p> <p>Use for: - Reveal transitions - Presentation style - Clean directional changes</p>"},{"location":"effects/transitions/#zoom-warp","title":"Zoom Warp","text":"<p>Cinematic zoom through space:</p> <pre><code>SceneTransition.zoomWarp(\n  durationInFrames: 30,      // Default: 30\n  curve: Curves.easeInOutCubic,\n  maxZoom: 3.0,              // Default: 3.0\n  zoomTarget: Alignment.center,  // Optional focus point\n)\n</code></pre> <p>The outgoing scene zooms in dramatically while the incoming scene zooms out from the center, creating a warp-like effect.</p> <p>Use for: - Dramatic transitions - Time/space jumps - Cinematic emphasis</p>"},{"location":"effects/transitions/#color-bleed","title":"Color Bleed","text":"<p>Color flows between scenes:</p> <pre><code>SceneTransition.colorBleed(\n  durationInFrames: 25,      // Default: 25\n  curve: Curves.easeInOut,\n  bleedColor: Colors.white,  // Optional specific color\n)\n</code></pre> <p>The dominant color \"bleeds\" from one scene to the next, creating cohesive color flow.</p> <p>Use for: - Artistic transitions - Thematic connections - Smooth color-based flow</p>"},{"location":"effects/transitions/#examples","title":"Examples","text":""},{"location":"effects/transitions/#basic-cross-fade","title":"Basic Cross Fade","text":"<pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 150,\n      transitionOut: SceneTransition.crossFade(durationInFrames: 20),\n      children: [IntroContent()],\n    ),\n    Scene(\n      durationInFrames: 180,\n      transitionIn: SceneTransition.crossFade(durationInFrames: 20),\n      children: [MainContent()],\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/transitions/#slide-presentation","title":"Slide Presentation","text":"<pre><code>Video(\n  fps: 30,\n  scenes: [\n    Scene(\n      durationInFrames: 120,\n      transitionOut: SceneTransition.slideLeft(durationInFrames: 15),\n      children: [Slide1()],\n    ),\n    Scene(\n      durationInFrames: 120,\n      transitionIn: SceneTransition.slideLeft(durationInFrames: 15),\n      transitionOut: SceneTransition.slideLeft(durationInFrames: 15),\n      children: [Slide2()],\n    ),\n    Scene(\n      durationInFrames: 120,\n      transitionIn: SceneTransition.slideLeft(durationInFrames: 15),\n      children: [Slide3()],\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/transitions/#dramatic-reveal","title":"Dramatic Reveal","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  transitionIn: SceneTransition.zoomWarp(\n    durationInFrames: 40,\n    maxZoom: 4.0,\n  ),\n  children: [\n    VCenter(\n      child: Text(\n        'THE REVEAL',\n        style: TextStyle(fontSize: 72, fontWeight: FontWeight.bold),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/transitions/#wipe-transition","title":"Wipe Transition","text":"<pre><code>Scene(\n  durationInFrames: 150,\n  transitionIn: SceneTransition.wipe(\n    durationInFrames: 25,\n    wipeDirection: WipeDirection.leftToRight,\n    curve: Curves.easeInOut,\n  ),\n  children: [NewContent()],\n)\n</code></pre>"},{"location":"effects/transitions/#mixed-transitions","title":"Mixed Transitions","text":"<pre><code>Video(\n  fps: 30,\n  scenes: [\n    // Scene 1: Fade out\n    Scene(\n      durationInFrames: 120,\n      transitionOut: SceneTransition.crossFade(durationInFrames: 15),\n      children: [Scene1Content()],\n    ),\n\n    // Scene 2: Fade in, slide out\n    Scene(\n      durationInFrames: 150,\n      transitionIn: SceneTransition.crossFade(durationInFrames: 15),\n      transitionOut: SceneTransition.slideUp(durationInFrames: 20),\n      children: [Scene2Content()],\n    ),\n\n    // Scene 3: Slide in, zoom warp out\n    Scene(\n      durationInFrames: 180,\n      transitionIn: SceneTransition.slideUp(durationInFrames: 20),\n      transitionOut: SceneTransition.zoomWarp(durationInFrames: 30),\n      children: [Scene3Content()],\n    ),\n\n    // Scene 4: Zoom warp in\n    Scene(\n      durationInFrames: 120,\n      transitionIn: SceneTransition.zoomWarp(durationInFrames: 30),\n      children: [FinalContent()],\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/transitions/#color-theme-transition","title":"Color Theme Transition","text":"<pre><code>Scene(\n  durationInFrames: 150,\n  background: Background.solid(Color(0xFF1a1a2e)),\n  transitionOut: SceneTransition.colorBleed(\n    durationInFrames: 25,\n    bleedColor: Color(0xFF1a1a2e),  // Match scene color\n  ),\n  children: [...],\n)\n</code></pre>"},{"location":"effects/transitions/#slow-dramatic-fade","title":"Slow Dramatic Fade","text":"<pre><code>Scene(\n  durationInFrames: 240,\n  transitionIn: SceneTransition.crossFade(\n    durationInFrames: 60,  // 2 seconds at 30fps\n    curve: Curves.easeInOut,\n  ),\n  transitionOut: SceneTransition.crossFade(\n    durationInFrames: 60,\n  ),\n  children: [DramaticContent()],\n)\n</code></pre>"},{"location":"effects/transitions/#quick-cuts","title":"Quick Cuts","text":"<pre><code>Video(\n  fps: 30,\n  scenes: [\n    Scene(\n      durationInFrames: 30,  // 1 second\n      transitionOut: SceneTransition.none(),\n      children: [Image1()],\n    ),\n    Scene(\n      durationInFrames: 30,\n      transitionOut: SceneTransition.none(),\n      children: [Image2()],\n    ),\n    Scene(\n      durationInFrames: 30,\n      transitionOut: SceneTransition.none(),\n      children: [Image3()],\n    ),\n  ],\n)\n</code></pre>"},{"location":"effects/transitions/#timing","title":"Timing","text":""},{"location":"effects/transitions/#transition-duration-guidelines","title":"Transition Duration Guidelines","text":"Duration Effect Use Case 5-10 frames Quick, snappy Fast-paced content 15-20 frames Standard Most transitions 25-40 frames Smooth, deliberate Dramatic moments 60+ frames Slow, cinematic Major scene changes"},{"location":"effects/transitions/#overlap-consideration","title":"Overlap Consideration","text":"<p>Transitions overlap scenes. Consider this in timing:</p> <pre><code>Scene 1:    |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n                              \u2193 20 frame transition\nScene 2:              |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n                      \u2191 Scene 2 starts during transition\n</code></pre>"},{"location":"effects/transitions/#using-progressat","title":"Using progressAt()","text":"<p>Check transition progress:</p> <pre><code>final transition = SceneTransition.crossFade(durationInFrames: 20);\n\n// At frame 10 of the transition\ntransition.progressAt(10);  // Returns 0.5\n\n// With curve applied\ntransition.curvedProgressAt(10);  // Returns curved 0.5\n</code></pre>"},{"location":"effects/transitions/#choosing-transitions","title":"Choosing Transitions","text":"Scenario Recommended Transition Sequential content <code>slideLeft</code> / <code>slideRight</code> Time passing <code>crossFade</code> Dramatic reveal <code>zoomWarp</code> / <code>scale</code> Clean professional <code>wipe</code> Artistic/thematic <code>colorBleed</code> Quick montage <code>none</code> (cuts) Emotional moment Long <code>crossFade</code>"},{"location":"effects/transitions/#related","title":"Related","text":"<ul> <li>Scene - Scene widget</li> <li>Video - Video composition</li> <li>Easing - Animation curves</li> </ul>"},{"location":"embedding/","title":"Embedding Media","text":"<p>Guide to including images, videos, audio, and fonts in your Fluvie compositions</p> <p>Fluvie supports embedding various media types into your video compositions. This section covers best practices and usage patterns for each type.</p>"},{"location":"embedding/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Media Types</li> <li>Best Practices</li> <li>Related Guides</li> </ul>"},{"location":"embedding/#overview","title":"Overview","text":"<p>Fluvie compositions can include:</p> Media Type Widget/Class Usage Images <code>Image.asset()</code>, <code>Image.network()</code> Static and animated images Videos <code>EmbeddedVideo</code> Video clips with trimming Audio <code>AudioTrack</code>, <code>BackgroundAudio</code> Music and sound effects Fonts <code>TextStyle</code> Custom typography"},{"location":"embedding/#how-embedding-works","title":"How Embedding Works","text":"<p>During preview mode, media plays directly using Flutter's built-in capabilities.</p> <p>During render mode, Fluvie: 1. Extracts frames from video files 2. Captures widget frames as images 3. Assembles everything with FFmpeg 4. Mixes audio tracks at specified volumes</p>"},{"location":"embedding/#media-types","title":"Media Types","text":""},{"location":"embedding/#images","title":"Images","text":"<p>Standard Flutter image widgets work seamlessly:</p> <pre><code>// Asset images\nImage.asset('assets/photo.jpg', fit: BoxFit.cover)\n\n// Network images (cached during render)\nImage.network('https://example.com/photo.jpg')\n\n// With animation\nAnimatedProp(\n  startFrame: 30,\n  animation: PropAnimation.zoomIn(),\n  child: Image.asset('assets/logo.png'),\n)\n</code></pre> <p>See: Images Guide</p>"},{"location":"embedding/#videos","title":"Videos","text":"<p>Embed video clips using the <code>EmbeddedVideo</code> widget:</p> <pre><code>EmbeddedVideo(\n  assetPath: 'assets/clip.mp4',\n  startFrame: 60,\n  durationInFrames: 150,\n  trimStart: Duration(seconds: 5),\n  volume: 0.8,\n)\n</code></pre> <p>See: Videos Guide</p>"},{"location":"embedding/#audio","title":"Audio","text":"<p>Add audio tracks for music and sound effects:</p> <pre><code>Video(\n  scenes: [...],\n  audioTracks: [\n    AudioTrack(\n      source: AudioSource.asset('assets/music.mp3'),\n      volume: 0.8,\n      fadeInFrames: 30,\n      fadeOutFrames: 60,\n    ),\n  ],\n)\n</code></pre> <p>See: Audio Guide</p>"},{"location":"embedding/#fonts","title":"Fonts","text":"<p>Use custom fonts by loading them in your app:</p> <pre><code>// In pubspec.yaml\nfonts:\n  - family: MyCustomFont\n    fonts:\n      - asset: assets/fonts/MyFont-Regular.ttf\n      - asset: assets/fonts/MyFont-Bold.ttf\n        weight: 700\n\n// In your composition\nText(\n  'Hello World',\n  style: TextStyle(\n    fontFamily: 'MyCustomFont',\n    fontSize: 48,\n  ),\n)\n</code></pre> <p>See: Fonts Guide</p>"},{"location":"embedding/#best-practices","title":"Best Practices","text":""},{"location":"embedding/#1-optimize-image-sizes","title":"1. Optimize Image Sizes","text":"<pre><code>// Don't load 4K images for 1080p output\n// Pre-scale images to match your output resolution\n\n// Good: 1080x1920 image for 1080x1920 video\nImage.asset('assets/background_1080.jpg')\n\n// Wasteful: 4K image scaled down at runtime\nImage.asset('assets/background_4k.jpg')  // Avoid\n</code></pre>"},{"location":"embedding/#2-use-appropriate-formats","title":"2. Use Appropriate Formats","text":"Use Case Recommended Format Photos JPEG (smaller size) Graphics with transparency PNG Animations GIF or video Icons/logos SVG (via flutter_svg) or PNG"},{"location":"embedding/#3-handle-loading-states","title":"3. Handle Loading States","text":"<pre><code>Image.asset(\n  'assets/photo.jpg',\n  fit: BoxFit.cover,\n  errorBuilder: (context, error, stackTrace) {\n    return Container(\n      color: Colors.grey,\n      child: Icon(Icons.error),\n    );\n  },\n)\n</code></pre>"},{"location":"embedding/#4-audio-timing","title":"4. Audio Timing","text":"<ul> <li>Start audio slightly before visual elements for better sync</li> <li>Use <code>fadeInFrames</code> and <code>fadeOutFrames</code> for smooth transitions</li> <li>Match audio duration to video length</li> </ul>"},{"location":"embedding/#5-video-trimming","title":"5. Video Trimming","text":"<pre><code>// Use trimStart and trimEnd for precise control\nEmbeddedVideo(\n  assetPath: 'assets/footage.mp4',\n  trimStart: Duration(seconds: 5),   // Skip first 5 seconds\n  trimEnd: Duration(seconds: 15),    // Stop at 15 seconds\n  durationInFrames: 300,             // Play for 10 seconds at 30fps\n)\n</code></pre>"},{"location":"embedding/#asset-organization","title":"Asset Organization","text":"<p>Recommended project structure:</p> <pre><code>project/\n\u251c\u2500\u2500 assets/\n\u2502   \u251c\u2500\u2500 images/\n\u2502   \u2502   \u251c\u2500\u2500 backgrounds/\n\u2502   \u2502   \u251c\u2500\u2500 photos/\n\u2502   \u2502   \u2514\u2500\u2500 logos/\n\u2502   \u251c\u2500\u2500 videos/\n\u2502   \u2502   \u251c\u2500\u2500 clips/\n\u2502   \u2502   \u2514\u2500\u2500 overlays/\n\u2502   \u251c\u2500\u2500 audio/\n\u2502   \u2502   \u251c\u2500\u2500 music/\n\u2502   \u2502   \u2514\u2500\u2500 sfx/\n\u2502   \u2514\u2500\u2500 fonts/\n\u251c\u2500\u2500 lib/\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 pubspec.yaml\n</code></pre> <p>Register assets in <code>pubspec.yaml</code>:</p> <pre><code>flutter:\n  assets:\n    - assets/images/\n    - assets/videos/\n    - assets/audio/\n</code></pre>"},{"location":"embedding/#memory-considerations","title":"Memory Considerations","text":""},{"location":"embedding/#large-videos","title":"Large Videos","text":"<ul> <li>Fluvie extracts video frames to temporary storage</li> <li>Large videos can consume significant disk space</li> <li>Consider pre-trimming long videos externally</li> </ul>"},{"location":"embedding/#many-images","title":"Many Images","text":"<ul> <li>Images are loaded into memory during preview</li> <li>Use appropriate resolution for your output</li> <li>Consider lazy loading for galleries</li> </ul>"},{"location":"embedding/#audio-files","title":"Audio Files","text":"<ul> <li>Compressed formats (MP3, AAC) recommended</li> <li>WAV files work but are larger</li> <li>Multiple audio tracks are mixed at render time</li> </ul>"},{"location":"embedding/#related-guides","title":"Related Guides","text":"<ul> <li>Images - Detailed image embedding guide</li> <li>Videos - Video embedding and trimming</li> <li>Audio - Audio tracks and mixing</li> <li>Fonts - Custom typography</li> <li>Performance Tips - Optimization strategies</li> </ul>"},{"location":"embedding/audio/","title":"Embedding Audio","text":"<p>Adding music and sound effects to Fluvie compositions</p> <p>Audio brings your video to life. This guide covers background music, sound effects, volume control, and synchronization.</p>"},{"location":"embedding/audio/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>AudioTrack</li> <li>BackgroundAudio</li> <li>Audio Sources</li> <li>Volume and Fading</li> <li>Timing and Sync</li> <li>Multiple Audio Tracks</li> <li>Best Practices</li> </ul>"},{"location":"embedding/audio/#overview","title":"Overview","text":"<p>Fluvie supports multiple audio tracks that are mixed during rendering:</p> Type Use Case Added To <code>AudioTrack</code> Background music, narration <code>Video.audioTracks</code> <code>BackgroundAudio</code> Legacy, simple music <code>Video.backgroundMusicAsset</code> <code>EmbeddedVideo</code> audio Video clip sound <code>EmbeddedVideo.volume</code> <p>During rendering, all audio sources are mixed together by FFmpeg.</p>"},{"location":"embedding/audio/#audiotrack","title":"AudioTrack","text":"<p>The primary way to add audio to your composition.</p>"},{"location":"embedding/audio/#basic-usage","title":"Basic Usage","text":"<pre><code>Video(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  scenes: [...],\n  audioTracks: [\n    AudioTrack(\n      source: AudioSource.asset('assets/music.mp3'),\n      volume: 0.8,\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/audio/#properties","title":"Properties","text":"Property Type Default Description <code>source</code> <code>AudioSource</code> required Audio file source <code>volume</code> <code>double</code> <code>1.0</code> Volume level (0.0 - 1.0) <code>startFrame</code> <code>int</code> <code>0</code> Frame to start playing <code>durationInFrames</code> <code>int?</code> <code>null</code> Duration (null = full length) <code>trimStart</code> <code>Duration?</code> <code>null</code> Skip beginning of audio <code>trimEnd</code> <code>Duration?</code> <code>null</code> Stop at this point <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade in duration <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade out duration <code>loop</code> <code>bool</code> <code>false</code> Loop audio"},{"location":"embedding/audio/#with-fading","title":"With Fading","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/music.mp3'),\n  volume: 0.8,\n  fadeInFrames: 60,   // 2-second fade in at 30fps\n  fadeOutFrames: 90,  // 3-second fade out\n)\n</code></pre>"},{"location":"embedding/audio/#trimmed-audio","title":"Trimmed Audio","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/song.mp3'),\n  trimStart: Duration(seconds: 30),  // Skip intro\n  trimEnd: Duration(minutes: 2),     // Use only 1:30\n  volume: 0.7,\n)\n</code></pre>"},{"location":"embedding/audio/#backgroundaudio","title":"BackgroundAudio","text":"<p>Legacy convenience for simple background music.</p> <pre><code>Video(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  scenes: [...],\n  backgroundMusicAsset: 'assets/music.mp3',\n  musicVolume: 0.8,\n  musicFadeInFrames: 60,\n  musicFadeOutFrames: 90,\n)\n</code></pre>"},{"location":"embedding/audio/#audio-sources","title":"Audio Sources","text":""},{"location":"embedding/audio/#asset-audio","title":"Asset Audio","text":"<p>Audio files bundled with your app:</p> <pre><code>AudioSource.asset('assets/audio/music.mp3')\n</code></pre> <p>Register in <code>pubspec.yaml</code>:</p> <pre><code>flutter:\n  assets:\n    - assets/audio/\n</code></pre>"},{"location":"embedding/audio/#file-audio","title":"File Audio","text":"<p>Audio from the file system:</p> <pre><code>AudioSource.file('/path/to/audio.mp3')\n</code></pre>"},{"location":"embedding/audio/#url-audio","title":"URL Audio","text":"<p>Audio from the web (downloaded during render):</p> <pre><code>AudioSource.url('https://example.com/audio.mp3')\n</code></pre>"},{"location":"embedding/audio/#volume-and-fading","title":"Volume and Fading","text":""},{"location":"embedding/audio/#static-volume","title":"Static Volume","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/music.mp3'),\n  volume: 0.5,  // 50% volume throughout\n)\n</code></pre>"},{"location":"embedding/audio/#fade-in","title":"Fade In","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/music.mp3'),\n  volume: 1.0,\n  fadeInFrames: 90,  // 3 seconds at 30fps\n  // Volume: 0 \u2192 1.0 over 90 frames\n)\n</code></pre>"},{"location":"embedding/audio/#fade-out","title":"Fade Out","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/music.mp3'),\n  volume: 1.0,\n  fadeOutFrames: 60,  // 2 seconds at 30fps\n  // Volume: 1.0 \u2192 0 over last 60 frames\n)\n</code></pre>"},{"location":"embedding/audio/#fade-both","title":"Fade Both","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/music.mp3'),\n  volume: 0.8,\n  fadeInFrames: 60,\n  fadeOutFrames: 120,\n)\n</code></pre>"},{"location":"embedding/audio/#volume-timeline","title":"Volume Timeline","text":"<pre><code>Frame:   0     60    ...    180   240   300\n         |-----|------------|-----|-----|\nVolume:  0 \u2192 0.8   (steady)   0.8 \u2192 0\n         fadeIn              fadeOut\n</code></pre>"},{"location":"embedding/audio/#timing-and-sync","title":"Timing and Sync","text":""},{"location":"embedding/audio/#delayed-start","title":"Delayed Start","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/sfx.mp3'),\n  startFrame: 90,  // Start at frame 90 (3 seconds at 30fps)\n)\n</code></pre>"},{"location":"embedding/audio/#sound-effect-at-specific-moment","title":"Sound Effect at Specific Moment","text":"<pre><code>Video(\n  fps: 30,\n  scenes: [\n    Scene(\n      durationInFrames: 150,\n      children: [\n        // Explosion animation at frame 60\n        AnimatedProp(\n          startFrame: 60,\n          animation: PropAnimation.zoomIn(),\n          child: Image.asset('assets/explosion.png'),\n        ),\n      ],\n    ),\n  ],\n  audioTracks: [\n    // Background music\n    AudioTrack(\n      source: AudioSource.asset('assets/music.mp3'),\n      volume: 0.5,\n    ),\n    // Explosion sound synced to animation\n    AudioTrack(\n      source: AudioSource.asset('assets/boom.mp3'),\n      startFrame: 60,  // Same as animation start\n      volume: 1.0,\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/audio/#looping-audio","title":"Looping Audio","text":"<pre><code>// Short ambient loop for long video\nAudioTrack(\n  source: AudioSource.asset('assets/ambient_loop.mp3'),\n  loop: true,\n  volume: 0.3,\n)\n</code></pre>"},{"location":"embedding/audio/#multiple-audio-tracks","title":"Multiple Audio Tracks","text":""},{"location":"embedding/audio/#music-sound-effects","title":"Music + Sound Effects","text":"<pre><code>Video(\n  scenes: [...],\n  audioTracks: [\n    // Background music (throughout)\n    AudioTrack(\n      source: AudioSource.asset('assets/music.mp3'),\n      volume: 0.6,\n      fadeInFrames: 60,\n      fadeOutFrames: 90,\n    ),\n\n    // Whoosh sound at scene transition (frame 150)\n    AudioTrack(\n      source: AudioSource.asset('assets/whoosh.mp3'),\n      startFrame: 145,  // Slightly before transition\n      volume: 0.8,\n    ),\n\n    // Celebration sound at reveal (frame 300)\n    AudioTrack(\n      source: AudioSource.asset('assets/celebration.mp3'),\n      startFrame: 300,\n      volume: 0.9,\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/audio/#layered-music","title":"Layered Music","text":"<pre><code>audioTracks: [\n  // Base track\n  AudioTrack(\n    source: AudioSource.asset('assets/drums.mp3'),\n    volume: 0.7,\n  ),\n\n  // Melody layer (enters later)\n  AudioTrack(\n    source: AudioSource.asset('assets/melody.mp3'),\n    startFrame: 90,\n    volume: 0.6,\n    fadeInFrames: 30,\n  ),\n\n  // Synth layer (enters even later)\n  AudioTrack(\n    source: AudioSource.asset('assets/synth.mp3'),\n    startFrame: 180,\n    volume: 0.5,\n    fadeInFrames: 45,\n  ),\n]\n</code></pre>"},{"location":"embedding/audio/#audio-from-videos","title":"Audio from Videos","text":"<p>Embedded videos can include their audio:</p> <pre><code>Scene(\n  durationInFrames: 300,\n  children: [\n    EmbeddedVideo(\n      assetPath: 'assets/interview.mp4',\n      volume: 1.0,  // Include video's audio\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/audio/#ducking-music-for-video-audio","title":"Ducking Music for Video Audio","text":"<p>Lower music volume when video has important audio:</p> <pre><code>Video(\n  scenes: [\n    // Scene with speaking video\n    Scene(\n      durationInFrames: 300,\n      children: [\n        EmbeddedVideo(\n          assetPath: 'assets/interview.mp4',\n          volume: 1.0,\n        ),\n      ],\n    ),\n  ],\n  audioTracks: [\n    AudioTrack(\n      source: AudioSource.asset('assets/music.mp3'),\n      volume: 0.2,  // Lower volume so speech is clear\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/audio/#best-practices","title":"Best Practices","text":""},{"location":"embedding/audio/#1-use-appropriate-formats","title":"1. Use Appropriate Formats","text":"Format Pros Cons MP3 Universal, small Lossy AAC/M4A Better quality, small Requires codec WAV Lossless Very large files OGG Open, good quality Less universal <p>Recommended: MP3 or AAC for music, WAV for critical sound effects.</p>"},{"location":"embedding/audio/#2-prepare-audio-files","title":"2. Prepare Audio Files","text":"<pre><code># Normalize audio levels\nffmpeg -i input.mp3 -af loudnorm output.mp3\n\n# Convert to consistent format\nffmpeg -i input.wav -acodec libmp3lame -q:a 2 output.mp3\n\n# Trim audio externally\nffmpeg -i input.mp3 -ss 00:00:30 -t 00:02:00 -c copy trimmed.mp3\n</code></pre>"},{"location":"embedding/audio/#3-start-audio-early","title":"3. Start Audio Early","text":"<p>Human perception anticipates sound. Start audio slightly before visual:</p> <pre><code>// Animation starts at frame 60\nAnimatedProp(startFrame: 60, ...)\n\n// Sound starts at frame 57 (0.1 seconds early)\nAudioTrack(startFrame: 57, ...)\n</code></pre>"},{"location":"embedding/audio/#4-fade-everything","title":"4. Fade Everything","text":"<p>Abrupt audio starts/stops are jarring:</p> <pre><code>// Always add some fade\nAudioTrack(\n  source: AudioSource.asset('assets/music.mp3'),\n  fadeInFrames: 15,   // At minimum\n  fadeOutFrames: 30,\n)\n</code></pre>"},{"location":"embedding/audio/#5-watch-total-volume","title":"5. Watch Total Volume","text":"<p>Multiple tracks can clip when summed. Keep total under 1.0:</p> <pre><code>// 3 tracks at 0.3 each = 0.9 total (safe)\nAudioTrack(source: track1, volume: 0.3),\nAudioTrack(source: track2, volume: 0.3),\nAudioTrack(source: track3, volume: 0.3),\n</code></pre>"},{"location":"embedding/audio/#6-test-audio-sync","title":"6. Test Audio Sync","text":"<p>Preview your composition to verify audio timing matches visuals.</p>"},{"location":"embedding/audio/#related","title":"Related","text":"<ul> <li>Sync Anchors - Advanced audio-visual synchronization</li> <li>Videos - Video embedding with audio</li> <li>Performance Tips</li> </ul>"},{"location":"embedding/fonts/","title":"Custom Fonts","text":"<p>Using custom typography in Fluvie compositions</p> <p>Custom fonts can dramatically improve the visual impact of your video compositions. This guide covers font setup, usage, and best practices.</p>"},{"location":"embedding/fonts/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Adding Custom Fonts</li> <li>Using Fonts</li> <li>Font Variations</li> <li>Google Fonts</li> <li>Font Loading</li> <li>Best Practices</li> </ul>"},{"location":"embedding/fonts/#overview","title":"Overview","text":"<p>Fonts in Fluvie work exactly like standard Flutter fonts. They're loaded at app startup and available throughout your composition.</p>"},{"location":"embedding/fonts/#font-types-supported","title":"Font Types Supported","text":"<ul> <li>TrueType (<code>.ttf</code>)</li> <li>OpenType (<code>.otf</code>)</li> <li>Variable fonts</li> <li>Google Fonts (via package)</li> </ul>"},{"location":"embedding/fonts/#adding-custom-fonts","title":"Adding Custom Fonts","text":""},{"location":"embedding/fonts/#1-add-font-files-to-assets","title":"1. Add Font Files to Assets","text":"<pre><code>project/\n\u251c\u2500\u2500 assets/\n\u2502   \u2514\u2500\u2500 fonts/\n\u2502       \u251c\u2500\u2500 CustomFont-Regular.ttf\n\u2502       \u251c\u2500\u2500 CustomFont-Bold.ttf\n\u2502       \u251c\u2500\u2500 CustomFont-Light.ttf\n\u2502       \u2514\u2500\u2500 CustomFont-Italic.ttf\n</code></pre>"},{"location":"embedding/fonts/#2-register-in-pubspecyaml","title":"2. Register in pubspec.yaml","text":"<pre><code>flutter:\n  fonts:\n    - family: CustomFont\n      fonts:\n        - asset: assets/fonts/CustomFont-Regular.ttf\n        - asset: assets/fonts/CustomFont-Bold.ttf\n          weight: 700\n        - asset: assets/fonts/CustomFont-Light.ttf\n          weight: 300\n        - asset: assets/fonts/CustomFont-Italic.ttf\n          style: italic\n</code></pre>"},{"location":"embedding/fonts/#3-use-in-your-composition","title":"3. Use in Your Composition","text":"<pre><code>Text(\n  'Hello World',\n  style: TextStyle(\n    fontFamily: 'CustomFont',\n    fontSize: 48,\n    fontWeight: FontWeight.bold,\n  ),\n)\n</code></pre>"},{"location":"embedding/fonts/#using-fonts","title":"Using Fonts","text":""},{"location":"embedding/fonts/#basic-text-style","title":"Basic Text Style","text":"<pre><code>Text(\n  'Welcome',\n  style: TextStyle(\n    fontFamily: 'CustomFont',\n    fontSize: 64,\n    color: Colors.white,\n  ),\n)\n</code></pre>"},{"location":"embedding/fonts/#with-multiple-properties","title":"With Multiple Properties","text":"<pre><code>Text(\n  'Your Year Wrapped',\n  style: TextStyle(\n    fontFamily: 'CustomFont',\n    fontSize: 72,\n    fontWeight: FontWeight.w900,\n    color: Colors.white,\n    letterSpacing: 4,\n    height: 1.2,\n    shadows: [\n      Shadow(\n        color: Colors.black54,\n        blurRadius: 10,\n        offset: Offset(2, 2),\n      ),\n    ],\n  ),\n)\n</code></pre>"},{"location":"embedding/fonts/#text-themes","title":"Text Themes","text":"<p>Define reusable text styles:</p> <pre><code>class AppTextStyles {\n  static const title = TextStyle(\n    fontFamily: 'CustomFont',\n    fontSize: 72,\n    fontWeight: FontWeight.w900,\n    color: Colors.white,\n  );\n\n  static const subtitle = TextStyle(\n    fontFamily: 'CustomFont',\n    fontSize: 36,\n    fontWeight: FontWeight.w500,\n    color: Colors.white70,\n  );\n\n  static const body = TextStyle(\n    fontFamily: 'CustomFont',\n    fontSize: 24,\n    fontWeight: FontWeight.w400,\n    color: Colors.white,\n  );\n}\n\n// Usage\nText('Title', style: AppTextStyles.title)\n</code></pre>"},{"location":"embedding/fonts/#font-variations","title":"Font Variations","text":""},{"location":"embedding/fonts/#weight-variants","title":"Weight Variants","text":"<pre><code># pubspec.yaml\nfonts:\n  - family: Poppins\n    fonts:\n      - asset: assets/fonts/Poppins-Thin.ttf\n        weight: 100\n      - asset: assets/fonts/Poppins-Light.ttf\n        weight: 300\n      - asset: assets/fonts/Poppins-Regular.ttf\n        weight: 400\n      - asset: assets/fonts/Poppins-Medium.ttf\n        weight: 500\n      - asset: assets/fonts/Poppins-SemiBold.ttf\n        weight: 600\n      - asset: assets/fonts/Poppins-Bold.ttf\n        weight: 700\n      - asset: assets/fonts/Poppins-ExtraBold.ttf\n        weight: 800\n      - asset: assets/fonts/Poppins-Black.ttf\n        weight: 900\n</code></pre> <pre><code>// Use different weights\nText('Thin', style: TextStyle(fontFamily: 'Poppins', fontWeight: FontWeight.w100))\nText('Regular', style: TextStyle(fontFamily: 'Poppins', fontWeight: FontWeight.w400))\nText('Bold', style: TextStyle(fontFamily: 'Poppins', fontWeight: FontWeight.w700))\nText('Black', style: TextStyle(fontFamily: 'Poppins', fontWeight: FontWeight.w900))\n</code></pre>"},{"location":"embedding/fonts/#italic-variants","title":"Italic Variants","text":"<pre><code>fonts:\n  - family: Merriweather\n    fonts:\n      - asset: assets/fonts/Merriweather-Regular.ttf\n      - asset: assets/fonts/Merriweather-Italic.ttf\n        style: italic\n      - asset: assets/fonts/Merriweather-Bold.ttf\n        weight: 700\n      - asset: assets/fonts/Merriweather-BoldItalic.ttf\n        weight: 700\n        style: italic\n</code></pre> <pre><code>Text('Normal', style: TextStyle(fontFamily: 'Merriweather'))\nText('Italic', style: TextStyle(fontFamily: 'Merriweather', fontStyle: FontStyle.italic))\nText('Bold Italic', style: TextStyle(\n  fontFamily: 'Merriweather',\n  fontWeight: FontWeight.bold,\n  fontStyle: FontStyle.italic,\n))\n</code></pre>"},{"location":"embedding/fonts/#google-fonts","title":"Google Fonts","text":""},{"location":"embedding/fonts/#using-google_fonts-package","title":"Using google_fonts Package","text":"<pre><code># pubspec.yaml\ndependencies:\n  google_fonts: ^6.1.0\n</code></pre> <pre><code>import 'package:google_fonts/google_fonts.dart';\n\nText(\n  'Styled Text',\n  style: GoogleFonts.poppins(\n    fontSize: 48,\n    fontWeight: FontWeight.bold,\n    color: Colors.white,\n  ),\n)\n</code></pre>"},{"location":"embedding/fonts/#pre-loading-google-fonts","title":"Pre-loading Google Fonts","text":"<p>For rendering, ensure fonts are loaded before use:</p> <pre><code>// Pre-load fonts at app startup\nawait GoogleFonts.pendingFonts([\n  GoogleFonts.poppins(),\n  GoogleFonts.roboto(),\n  GoogleFonts.montserrat(),\n]);\n</code></pre>"},{"location":"embedding/fonts/#bundling-google-fonts","title":"Bundling Google Fonts","text":"<p>For reliable offline rendering, bundle the fonts:</p> <ol> <li>Download from fonts.google.com</li> <li>Add to <code>assets/fonts/</code></li> <li>Register in <code>pubspec.yaml</code></li> </ol>"},{"location":"embedding/fonts/#font-loading","title":"Font Loading","text":""},{"location":"embedding/fonts/#ensuring-fonts-are-ready","title":"Ensuring Fonts Are Ready","text":"<p>For server-side rendering, fonts must be loaded before rendering starts:</p> <pre><code>// In your render setup\nFuture&lt;void&gt; prepareForRender() async {\n  // Load custom fonts\n  final fontLoader = FontLoader('CustomFont');\n  fontLoader.addFont(rootBundle.load('assets/fonts/CustomFont-Regular.ttf'));\n  await fontLoader.load();\n\n  // Load Google Fonts\n  await GoogleFonts.pendingFonts([\n    GoogleFonts.poppins(),\n  ]);\n}\n</code></pre>"},{"location":"embedding/fonts/#font-fallbacks","title":"Font Fallbacks","text":"<p>Define fallback fonts for missing characters:</p> <pre><code>Text(\n  'Hello \u4f60\u597d \u0645\u0631\u062d\u0628\u0627',\n  style: TextStyle(\n    fontFamily: 'CustomFont',\n    fontFamilyFallback: ['NotoSans', 'Arial'],\n    fontSize: 32,\n  ),\n)\n</code></pre>"},{"location":"embedding/fonts/#text-effects","title":"Text Effects","text":""},{"location":"embedding/fonts/#gradient-text","title":"Gradient Text","text":"<pre><code>ShaderMask(\n  shaderCallback: (bounds) =&gt; LinearGradient(\n    colors: [Colors.cyan, Colors.pink],\n  ).createShader(bounds),\n  child: Text(\n    'Gradient Text',\n    style: TextStyle(\n      fontFamily: 'CustomFont',\n      fontSize: 64,\n      fontWeight: FontWeight.bold,\n      color: Colors.white,  // Required for shader\n    ),\n  ),\n)\n</code></pre>"},{"location":"embedding/fonts/#outlined-text","title":"Outlined Text","text":"<pre><code>Stack(\n  children: [\n    // Outline\n    Text(\n      'Outlined',\n      style: TextStyle(\n        fontFamily: 'CustomFont',\n        fontSize: 72,\n        fontWeight: FontWeight.bold,\n        foreground: Paint()\n          ..style = PaintingStyle.stroke\n          ..strokeWidth = 4\n          ..color = Colors.black,\n      ),\n    ),\n    // Fill\n    Text(\n      'Outlined',\n      style: TextStyle(\n        fontFamily: 'CustomFont',\n        fontSize: 72,\n        fontWeight: FontWeight.bold,\n        color: Colors.white,\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/fonts/#glowing-text","title":"Glowing Text","text":"<pre><code>Text(\n  'Glow Effect',\n  style: TextStyle(\n    fontFamily: 'CustomFont',\n    fontSize: 64,\n    color: Colors.cyan,\n    shadows: [\n      Shadow(color: Colors.cyan, blurRadius: 10),\n      Shadow(color: Colors.cyan, blurRadius: 20),\n      Shadow(color: Colors.cyan, blurRadius: 40),\n    ],\n  ),\n)\n</code></pre>"},{"location":"embedding/fonts/#best-practices","title":"Best Practices","text":""},{"location":"embedding/fonts/#1-choose-readable-fonts","title":"1. Choose Readable Fonts","text":"<p>For video, prioritize: - High contrast between strokes - Clear letterforms at various sizes - Consistent spacing</p> <p>Good choices: Poppins, Montserrat, Inter, Roboto</p>"},{"location":"embedding/fonts/#2-use-appropriate-weights","title":"2. Use Appropriate Weights","text":"Element Recommended Weight Titles Bold (700-900) Subtitles Medium (500-600) Body text Regular (400) Captions Light (300-400)"},{"location":"embedding/fonts/#3-consider-video-compression","title":"3. Consider Video Compression","text":"<p>Thin fonts can become illegible after video compression: - Prefer medium to bold weights - Avoid weights under 300 - Test in final output format</p>"},{"location":"embedding/fonts/#4-maintain-contrast","title":"4. Maintain Contrast","text":"<pre><code>// Good: High contrast\nText('Title', style: TextStyle(color: Colors.white))  // On dark background\n\n// Add shadow for busy backgrounds\nText(\n  'Title',\n  style: TextStyle(\n    color: Colors.white,\n    shadows: [Shadow(color: Colors.black, blurRadius: 10)],\n  ),\n)\n</code></pre>"},{"location":"embedding/fonts/#5-consistent-typography","title":"5. Consistent Typography","text":"<p>Use a consistent type scale throughout:</p> <pre><code>const double baseSize = 16;\nconst double scale = 1.25;\n\n// Type scale\nconst double caption = baseSize / scale;        // 12.8\nconst double body = baseSize;                   // 16\nconst double subtitle = baseSize * scale;       // 20\nconst double title = baseSize * scale * scale;  // 25\nconst double display = title * scale;           // 31.25\n</code></pre>"},{"location":"embedding/fonts/#6-bundle-fonts-for-reliability","title":"6. Bundle Fonts for Reliability","text":"<p>Always bundle fonts in your assets rather than relying on system fonts or network loading for video rendering.</p>"},{"location":"embedding/fonts/#related","title":"Related","text":"<ul> <li>FadeText - Animated text widget</li> <li>AnimatedText - Text animations</li> <li>TypewriterText - Typewriter effect</li> <li>Images - Image embedding</li> </ul>"},{"location":"embedding/images/","title":"Embedding Images","text":"<p>Using images in Fluvie compositions</p> <p>Images are fundamental building blocks in video compositions. This guide covers how to embed, animate, and optimize images in Fluvie.</p>"},{"location":"embedding/images/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Basic Usage</li> <li>Image Sources</li> <li>Sizing and Fitting</li> <li>Animating Images</li> <li>Ken Burns Effect</li> <li>Image Grids</li> <li>Best Practices</li> </ul>"},{"location":"embedding/images/#basic-usage","title":"Basic Usage","text":"<p>Standard Flutter image widgets work in Fluvie:</p> <pre><code>Scene(\n  durationInFrames: 150,\n  children: [\n    VPositioned.fill(\n      child: Image.asset(\n        'assets/background.jpg',\n        fit: BoxFit.cover,\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/images/#image-sources","title":"Image Sources","text":""},{"location":"embedding/images/#asset-images","title":"Asset Images","text":"<p>Load images from your Flutter assets:</p> <pre><code>// Register in pubspec.yaml first\n// flutter:\n//   assets:\n//     - assets/images/\n\nImage.asset(\n  'assets/images/photo.jpg',\n  fit: BoxFit.cover,\n)\n</code></pre>"},{"location":"embedding/images/#network-images","title":"Network Images","text":"<p>Load images from URLs (cached during render):</p> <pre><code>Image.network(\n  'https://example.com/photo.jpg',\n  fit: BoxFit.cover,\n  loadingBuilder: (context, child, loadingProgress) {\n    if (loadingProgress == null) return child;\n    return Container(color: Colors.grey);\n  },\n)\n</code></pre>"},{"location":"embedding/images/#file-images","title":"File Images","text":"<p>Load from the local filesystem:</p> <pre><code>Image.file(\n  File('/path/to/image.jpg'),\n  fit: BoxFit.cover,\n)\n</code></pre>"},{"location":"embedding/images/#memory-images","title":"Memory Images","text":"<p>Load from bytes in memory:</p> <pre><code>Image.memory(\n  imageBytes,\n  fit: BoxFit.cover,\n)\n</code></pre>"},{"location":"embedding/images/#sizing-and-fitting","title":"Sizing and Fitting","text":""},{"location":"embedding/images/#boxfit-options","title":"BoxFit Options","text":"<pre><code>// Cover: Fill container, may crop\nImage.asset('photo.jpg', fit: BoxFit.cover)\n\n// Contain: Fit within container, may letterbox\nImage.asset('photo.jpg', fit: BoxFit.contain)\n\n// Fill: Stretch to fill (may distort)\nImage.asset('photo.jpg', fit: BoxFit.fill)\n\n// Fixed dimensions\nSizedBox(\n  width: 400,\n  height: 300,\n  child: Image.asset('photo.jpg', fit: BoxFit.cover),\n)\n</code></pre>"},{"location":"embedding/images/#full-screen-background","title":"Full-Screen Background","text":"<pre><code>Scene(\n  durationInFrames: 150,\n  children: [\n    VPositioned.fill(\n      child: Image.asset(\n        'assets/background.jpg',\n        fit: BoxFit.cover,\n        alignment: Alignment.center,  // Control crop position\n      ),\n    ),\n    // Other content on top...\n  ],\n)\n</code></pre>"},{"location":"embedding/images/#centered-with-constraints","title":"Centered with Constraints","text":"<pre><code>VCenter(\n  child: ConstrainedBox(\n    constraints: BoxConstraints(maxWidth: 600, maxHeight: 400),\n    child: Image.asset(\n      'assets/photo.jpg',\n      fit: BoxFit.contain,\n    ),\n  ),\n)\n</code></pre>"},{"location":"embedding/images/#animating-images","title":"Animating Images","text":""},{"location":"embedding/images/#entry-animation","title":"Entry Animation","text":"<pre><code>AnimatedProp(\n  startFrame: 30,\n  duration: 45,\n  animation: PropAnimation.combine([\n    PropAnimation.zoomIn(start: 0.8),\n    PropAnimation.fadeIn(),\n  ]),\n  curve: Easing.easeOutBack,\n  child: Image.asset('assets/photo.jpg'),\n)\n</code></pre>"},{"location":"embedding/images/#sliding-image","title":"Sliding Image","text":"<pre><code>AnimatedProp(\n  startFrame: 0,\n  duration: 60,\n  animation: PropAnimation.slideUp(distance: 100),\n  child: Image.asset('assets/photo.jpg'),\n)\n</code></pre>"},{"location":"embedding/images/#rotating-image","title":"Rotating Image","text":"<pre><code>AnimatedProp(\n  startFrame: 0,\n  duration: 90,\n  animation: PropAnimation.rotate(\n    start: -0.1,\n    end: 0.1,\n  ),\n  child: Image.asset('assets/photo.jpg'),\n)\n</code></pre>"},{"location":"embedding/images/#continuous-animation-with-timeconsumer","title":"Continuous Animation with TimeConsumer","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, fps) {\n    final rotation = frame * 0.01;  // Slow continuous rotation\n    return Transform.rotate(\n      angle: rotation,\n      child: Image.asset('assets/logo.png'),\n    );\n  },\n)\n</code></pre>"},{"location":"embedding/images/#ken-burns-effect","title":"Ken Burns Effect","text":"<p>The Ken Burns effect creates cinematic movement on still images:</p>"},{"location":"embedding/images/#using-kenburnsimage","title":"Using KenBurnsImage","text":"<pre><code>KenBurnsImage(\n  assetPath: 'assets/landscape.jpg',\n  width: 800,\n  height: 600,\n  startScale: 1.0,\n  endScale: 1.3,\n  startAlignment: Alignment.centerLeft,\n  endAlignment: Alignment.centerRight,\n)\n</code></pre>"},{"location":"embedding/images/#zoom-in","title":"Zoom In","text":"<pre><code>KenBurnsImage.zoomIn(\n  assetPath: 'assets/portrait.jpg',\n  width: 600,\n  height: 800,\n  zoomAmount: 0.2,\n  focus: Alignment.center,\n)\n</code></pre>"},{"location":"embedding/images/#pan-across","title":"Pan Across","text":"<pre><code>KenBurnsImage.pan(\n  assetPath: 'assets/panorama.jpg',\n  width: 1200,\n  height: 400,\n  from: Alignment.centerLeft,\n  to: Alignment.centerRight,\n  scale: 1.2,\n)\n</code></pre>"},{"location":"embedding/images/#image-grids","title":"Image Grids","text":""},{"location":"embedding/images/#using-vrow-and-vcolumn","title":"Using VRow and VColumn","text":"<pre><code>VColumn(\n  spacing: 10,\n  children: [\n    VRow(\n      spacing: 10,\n      children: [\n        Expanded(child: Image.asset('photo1.jpg', fit: BoxFit.cover)),\n        Expanded(child: Image.asset('photo2.jpg', fit: BoxFit.cover)),\n      ],\n    ),\n    VRow(\n      spacing: 10,\n      children: [\n        Expanded(child: Image.asset('photo3.jpg', fit: BoxFit.cover)),\n        Expanded(child: Image.asset('photo4.jpg', fit: BoxFit.cover)),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/images/#with-stagger-animation","title":"With Stagger Animation","text":"<pre><code>VColumn(\n  spacing: 10,\n  stagger: StaggerConfig.scale(delay: 10, duration: 30),\n  children: [\n    Image.asset('photo1.jpg'),\n    Image.asset('photo2.jpg'),\n    Image.asset('photo3.jpg'),\n  ],\n)\n</code></pre>"},{"location":"embedding/images/#clipping-and-borders","title":"Clipping and Borders","text":""},{"location":"embedding/images/#rounded-corners","title":"Rounded Corners","text":"<pre><code>ClipRRect(\n  borderRadius: BorderRadius.circular(20),\n  child: Image.asset(\n    'assets/photo.jpg',\n    fit: BoxFit.cover,\n    width: 300,\n    height: 200,\n  ),\n)\n</code></pre>"},{"location":"embedding/images/#circular-image","title":"Circular Image","text":"<pre><code>ClipOval(\n  child: Image.asset(\n    'assets/profile.jpg',\n    fit: BoxFit.cover,\n    width: 150,\n    height: 150,\n  ),\n)\n</code></pre>"},{"location":"embedding/images/#with-border","title":"With Border","text":"<pre><code>Container(\n  decoration: BoxDecoration(\n    border: Border.all(color: Colors.white, width: 4),\n    borderRadius: BorderRadius.circular(20),\n  ),\n  child: ClipRRect(\n    borderRadius: BorderRadius.circular(16),\n    child: Image.asset('assets/photo.jpg', fit: BoxFit.cover),\n  ),\n)\n</code></pre>"},{"location":"embedding/images/#custom-shape","title":"Custom Shape","text":"<pre><code>ClipPath(\n  clipper: MyCustomClipper(),\n  child: Image.asset('assets/photo.jpg'),\n)\n</code></pre>"},{"location":"embedding/images/#error-handling","title":"Error Handling","text":""},{"location":"embedding/images/#with-placeholder","title":"With Placeholder","text":"<pre><code>Image.asset(\n  'assets/photo.jpg',\n  fit: BoxFit.cover,\n  errorBuilder: (context, error, stackTrace) {\n    return Container(\n      color: Colors.grey[800],\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [\n          Icon(Icons.broken_image, size: 48, color: Colors.grey),\n          Text('Image not found', style: TextStyle(color: Colors.grey)),\n        ],\n      ),\n    );\n  },\n)\n</code></pre>"},{"location":"embedding/images/#fallback-chain","title":"Fallback Chain","text":"<pre><code>Widget buildImage(String? path) {\n  if (path == null) {\n    return _buildPlaceholder();\n  }\n\n  return Image.asset(\n    path,\n    fit: BoxFit.cover,\n    errorBuilder: (_, _, _) =&gt; _buildPlaceholder(),\n  );\n}\n\nWidget _buildPlaceholder() {\n  return Container(\n    color: Colors.grey[800],\n    child: Icon(Icons.image, color: Colors.grey),\n  );\n}\n</code></pre>"},{"location":"embedding/images/#best-practices","title":"Best Practices","text":""},{"location":"embedding/images/#1-match-resolution-to-output","title":"1. Match Resolution to Output","text":"<pre><code>// For 1080x1920 output, use similarly sized images\n// Don't load 4K images if output is 1080p\n\n// Good\nImage.asset('assets/bg_1080.jpg')  // 1080x1920\n\n// Wasteful\nImage.asset('assets/bg_4k.jpg')    // 2160x3840\n</code></pre>"},{"location":"embedding/images/#2-use-appropriate-formats","title":"2. Use Appropriate Formats","text":"Use Case Format Why Photos JPEG Smaller file size Transparency PNG Alpha channel support Logos/icons PNG/SVG Crisp edges Simple graphics PNG Lossless"},{"location":"embedding/images/#3-preload-critical-images","title":"3. Preload Critical Images","text":"<pre><code>// In initState or before rendering\nawait precacheImage(AssetImage('assets/important.jpg'), context);\n</code></pre>"},{"location":"embedding/images/#4-organize-assets","title":"4. Organize Assets","text":"<pre><code>assets/\n\u251c\u2500\u2500 images/\n\u2502   \u251c\u2500\u2500 backgrounds/\n\u2502   \u2502   \u251c\u2500\u2500 gradient_dark.jpg\n\u2502   \u2502   \u2514\u2500\u2500 texture_noise.png\n\u2502   \u251c\u2500\u2500 photos/\n\u2502   \u2502   \u251c\u2500\u2500 photo_001.jpg\n\u2502   \u2502   \u2514\u2500\u2500 photo_002.jpg\n\u2502   \u2514\u2500\u2500 ui/\n\u2502       \u251c\u2500\u2500 logo.png\n\u2502       \u2514\u2500\u2500 icon_play.png\n</code></pre>"},{"location":"embedding/images/#5-consider-memory","title":"5. Consider Memory","text":"<p>For compositions with many images, consider: - Loading images on demand - Using lower resolution previews - Clearing image cache between scenes</p>"},{"location":"embedding/images/#related","title":"Related","text":"<ul> <li>Ken Burns Image</li> <li>Photo Card</li> <li>Polaroid Frame</li> <li>Videos</li> </ul>"},{"location":"embedding/videos/","title":"Embedding Videos","text":"<p>Including video clips in Fluvie compositions</p> <p>Embed existing video clips into your compositions with trimming, positioning, and audio control.</p>"},{"location":"embedding/videos/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>EmbeddedVideo Widget</li> <li>Trimming and Timing</li> <li>Audio from Videos</li> <li>Positioning Videos</li> <li>Multiple Video Clips</li> <li>Best Practices</li> </ul>"},{"location":"embedding/videos/#overview","title":"Overview","text":"<p>Fluvie can embed video files into your compositions. During rendering:</p> <ol> <li>Frame Extraction: Video frames are extracted at your composition's FPS</li> <li>Caching: Extracted frames are cached for efficiency</li> <li>Compositing: Video frames are composited with other widgets</li> <li>Audio Mixing: Video audio is mixed with other audio tracks</li> </ol>"},{"location":"embedding/videos/#supported-formats","title":"Supported Formats","text":"<p>Any format supported by FFmpeg: - MP4 (H.264, H.265) - MOV - WebM - AVI - MKV - And many more</p>"},{"location":"embedding/videos/#embeddedvideo-widget","title":"EmbeddedVideo Widget","text":""},{"location":"embedding/videos/#basic-usage","title":"Basic Usage","text":"<pre><code>Scene(\n  durationInFrames: 150,\n  children: [\n    EmbeddedVideo(\n      assetPath: 'assets/video.mp4',\n      startFrame: 0,\n      durationInFrames: 150,\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/videos/#properties","title":"Properties","text":"Property Type Default Description <code>assetPath</code> <code>String</code> required Path to video file <code>startFrame</code> <code>int</code> <code>0</code> Frame to start showing video <code>durationInFrames</code> <code>int?</code> <code>null</code> How long to show (null = full length) <code>trimStart</code> <code>Duration?</code> <code>null</code> Skip beginning of video <code>trimEnd</code> <code>Duration?</code> <code>null</code> Stop at this point in video <code>volume</code> <code>double</code> <code>1.0</code> Audio volume (0.0 - 1.0) <code>fit</code> <code>BoxFit</code> <code>cover</code> How video fits container <code>alignment</code> <code>Alignment</code> <code>center</code> Position within container <code>playbackSpeed</code> <code>double</code> <code>1.0</code> Speed multiplier <code>loop</code> <code>bool</code> <code>false</code> Loop when reaching end"},{"location":"embedding/videos/#trimming-and-timing","title":"Trimming and Timing","text":""},{"location":"embedding/videos/#use-part-of-a-video","title":"Use Part of a Video","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/footage.mp4',\n  // Skip first 10 seconds of source video\n  trimStart: Duration(seconds: 10),\n  // Stop at 25 seconds of source video\n  trimEnd: Duration(seconds: 25),\n  // Display for 5 seconds in composition (at 30fps)\n  startFrame: 30,\n  durationInFrames: 150,\n)\n</code></pre>"},{"location":"embedding/videos/#timeline-visualization","title":"Timeline Visualization","text":"<pre><code>Source Video:    [0s----10s====15s====20s====25s----30s]\n                          \u2193 trimStart    trimEnd \u2193\nTrimmed Section:         [=====15 seconds=====]\n                                  \u2193\nComposition:     [Frame 30------------------Frame 180]\n                     \u2191 startFrame    durationInFrames=150\n</code></pre>"},{"location":"embedding/videos/#speed-up-video","title":"Speed Up Video","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/timelapse.mp4',\n  startFrame: 0,\n  durationInFrames: 90,\n  playbackSpeed: 2.0,  // 2x speed\n)\n</code></pre>"},{"location":"embedding/videos/#slow-motion","title":"Slow Motion","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/action.mp4',\n  startFrame: 0,\n  durationInFrames: 180,\n  playbackSpeed: 0.5,  // Half speed\n)\n</code></pre>"},{"location":"embedding/videos/#audio-from-videos","title":"Audio from Videos","text":""},{"location":"embedding/videos/#include-video-audio","title":"Include Video Audio","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/clip.mp4',\n  startFrame: 0,\n  durationInFrames: 150,\n  volume: 1.0,  // Full volume\n)\n</code></pre>"},{"location":"embedding/videos/#mute-video","title":"Mute Video","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/clip.mp4',\n  startFrame: 0,\n  durationInFrames: 150,\n  volume: 0.0,  // Muted\n)\n</code></pre>"},{"location":"embedding/videos/#lower-video-audio-for-background-music","title":"Lower Video Audio for Background Music","text":"<pre><code>Video(\n  scenes: [\n    Scene(\n      durationInFrames: 300,\n      children: [\n        EmbeddedVideo(\n          assetPath: 'assets/interview.mp4',\n          volume: 0.3,  // Lower to hear music\n        ),\n      ],\n    ),\n  ],\n  audioTracks: [\n    AudioTrack(\n      source: AudioSource.asset('assets/background_music.mp3'),\n      volume: 0.7,\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/videos/#positioning-videos","title":"Positioning Videos","text":""},{"location":"embedding/videos/#full-screen","title":"Full Screen","text":"<pre><code>VPositioned.fill(\n  child: EmbeddedVideo(\n    assetPath: 'assets/background.mp4',\n    fit: BoxFit.cover,\n  ),\n)\n</code></pre>"},{"location":"embedding/videos/#fixed-size","title":"Fixed Size","text":"<pre><code>VCenter(\n  child: SizedBox(\n    width: 640,\n    height: 360,\n    child: EmbeddedVideo(\n      assetPath: 'assets/clip.mp4',\n      fit: BoxFit.contain,\n    ),\n  ),\n)\n</code></pre>"},{"location":"embedding/videos/#corner-position","title":"Corner Position","text":"<pre><code>VPositioned(\n  right: 20,\n  bottom: 20,\n  child: SizedBox(\n    width: 320,\n    height: 180,\n    child: ClipRRect(\n      borderRadius: BorderRadius.circular(12),\n      child: EmbeddedVideo(\n        assetPath: 'assets/pip.mp4',\n        fit: BoxFit.cover,\n      ),\n    ),\n  ),\n)\n</code></pre>"},{"location":"embedding/videos/#picture-in-picture-layout","title":"Picture-in-Picture Layout","text":"<pre><code>Scene(\n  durationInFrames: 300,\n  children: [\n    // Main video (full screen)\n    VPositioned.fill(\n      child: EmbeddedVideo(\n        assetPath: 'assets/main.mp4',\n        fit: BoxFit.cover,\n      ),\n    ),\n\n    // PiP video (corner)\n    VPositioned(\n      right: 40,\n      top: 40,\n      child: Container(\n        width: 300,\n        height: 170,\n        decoration: BoxDecoration(\n          borderRadius: BorderRadius.circular(12),\n          border: Border.all(color: Colors.white, width: 3),\n          boxShadow: [\n            BoxShadow(\n              color: Colors.black54,\n              blurRadius: 10,\n            ),\n          ],\n        ),\n        child: ClipRRect(\n          borderRadius: BorderRadius.circular(9),\n          child: EmbeddedVideo(\n            assetPath: 'assets/pip.mp4',\n            fit: BoxFit.cover,\n            volume: 0.0,  // Mute PiP\n          ),\n        ),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/videos/#multiple-video-clips","title":"Multiple Video Clips","text":""},{"location":"embedding/videos/#sequential-clips","title":"Sequential Clips","text":"<pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 150,\n      children: [\n        VPositioned.fill(\n          child: EmbeddedVideo(assetPath: 'assets/clip1.mp4'),\n        ),\n      ],\n    ),\n    Scene(\n      durationInFrames: 150,\n      transitionIn: SceneTransition.crossFade(durationInFrames: 20),\n      children: [\n        VPositioned.fill(\n          child: EmbeddedVideo(assetPath: 'assets/clip2.mp4'),\n        ),\n      ],\n    ),\n    Scene(\n      durationInFrames: 150,\n      transitionIn: SceneTransition.crossFade(durationInFrames: 20),\n      children: [\n        VPositioned.fill(\n          child: EmbeddedVideo(assetPath: 'assets/clip3.mp4'),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/videos/#side-by-side","title":"Side-by-Side","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    VRow(\n      children: [\n        Expanded(\n          child: EmbeddedVideo(\n            assetPath: 'assets/left.mp4',\n            fit: BoxFit.cover,\n            volume: 0.5,\n          ),\n        ),\n        SizedBox(width: 10),\n        Expanded(\n          child: EmbeddedVideo(\n            assetPath: 'assets/right.mp4',\n            fit: BoxFit.cover,\n            volume: 0.5,\n          ),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/videos/#overlapping-videos","title":"Overlapping Videos","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    // Background video\n    VPositioned.fill(\n      child: EmbeddedVideo(\n        assetPath: 'assets/background.mp4',\n        fit: BoxFit.cover,\n        volume: 0.0,\n      ),\n    ),\n\n    // Overlay video (with transparency)\n    VPositioned.fill(\n      child: Opacity(\n        opacity: 0.5,\n        child: EmbeddedVideo(\n          assetPath: 'assets/overlay.mp4',\n          fit: BoxFit.cover,\n          volume: 0.0,\n        ),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/videos/#looping-videos","title":"Looping Videos","text":""},{"location":"embedding/videos/#auto-loop","title":"Auto-Loop","text":"<pre><code>Scene(\n  durationInFrames: 300,  // 10 seconds\n  children: [\n    VPositioned.fill(\n      child: EmbeddedVideo(\n        assetPath: 'assets/short_loop.mp4',  // 2-second clip\n        loop: true,  // Will loop ~5 times\n        volume: 0.0,\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/videos/#best-practices","title":"Best Practices","text":""},{"location":"embedding/videos/#1-pre-process-videos","title":"1. Pre-Process Videos","text":"<p>For best performance, pre-process your source videos:</p> <pre><code># Transcode to consistent format\nffmpeg -i input.mp4 -c:v libx264 -preset medium -crf 23 output.mp4\n\n# Trim externally for large files\nffmpeg -i input.mp4 -ss 00:00:10 -t 00:00:15 -c copy trimmed.mp4\n</code></pre>"},{"location":"embedding/videos/#2-match-frame-rates","title":"2. Match Frame Rates","text":"<p>Use source videos with the same FPS as your composition when possible:</p> <pre><code>Video(\n  fps: 30,  // Composition FPS\n  scenes: [\n    Scene(\n      children: [\n        // Best: source is also 30fps\n        EmbeddedVideo(assetPath: 'assets/30fps_clip.mp4'),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"embedding/videos/#3-consider-file-size","title":"3. Consider File Size","text":"<ul> <li>Large video files take longer to extract frames</li> <li>Consider pre-trimming long videos</li> <li>Use appropriate resolution for output</li> </ul>"},{"location":"embedding/videos/#4-handle-missing-videos","title":"4. Handle Missing Videos","text":"<pre><code>Widget buildVideo(String? path) {\n  if (path == null) {\n    return Container(\n      color: Colors.black,\n      child: Center(\n        child: Icon(Icons.videocam_off, color: Colors.grey),\n      ),\n    );\n  }\n\n  return EmbeddedVideo(\n    assetPath: path,\n    fit: BoxFit.cover,\n  );\n}\n</code></pre>"},{"location":"embedding/videos/#5-disk-space-awareness","title":"5. Disk Space Awareness","text":"<p>Frame extraction creates temporary files:</p> <pre><code>1 minute of 1080p video at 30fps:\n\u2248 1800 frames \u00d7 ~500KB each = ~900MB temporary storage\n</code></pre>"},{"location":"embedding/videos/#related","title":"Related","text":"<ul> <li>Video Sequence - Multiple video clips in sequence</li> <li>Audio - Audio tracks and mixing</li> <li>Frame Extraction - How extraction works</li> <li>Performance Tips</li> </ul>"},{"location":"extending/","title":"Extending Fluvie","text":"<p>Build custom animations, effects, templates, and integrations</p> <p>Fluvie is designed to be extensible. This section covers how to create custom components that integrate seamlessly with the framework.</p>"},{"location":"extending/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Extension Points</li> <li>Guides</li> </ul>"},{"location":"extending/#overview","title":"Overview","text":"<p>Fluvie provides several extension mechanisms:</p> <ol> <li>Custom Animations: Create reusable animation patterns</li> <li>Custom Effects: Build visual effect widgets</li> <li>Custom Templates: Package complete video templates</li> <li>Custom FFmpeg Providers: Integrate different FFmpeg implementations</li> </ol>"},{"location":"extending/#extension-points","title":"Extension Points","text":""},{"location":"extending/#animations","title":"Animations","text":"<p>Extend the animation system by: - Creating <code>PropAnimation</code> subclasses - Building custom <code>EntryAnimation</code> types - Implementing frame-based interpolation functions</p> <p>Guide: Custom Animations</p>"},{"location":"extending/#effects","title":"Effects","text":"<p>Create visual effects using: - <code>TimeConsumer</code> for frame-based effects - Custom paint operations - Particle systems</p> <p>Guide: Custom Effects</p>"},{"location":"extending/#templates","title":"Templates","text":"<p>Build reusable video templates: - Extend <code>WrappedTemplate</code> base class - Define data contracts - Support theming and timing</p> <p>Guide: Custom Templates</p>"},{"location":"extending/#ffmpeg-providers","title":"FFmpeg Providers","text":"<p>Implement FFmpeg integrations: - Platform-specific implementations - Mobile FFmpegKit support - Custom encoding pipelines</p> <p>Guide: Custom FFmpeg Provider</p>"},{"location":"extending/#guides","title":"Guides","text":"Guide Description Custom Animations Create reusable animation patterns Custom Effects Build visual effect widgets Custom Templates Package complete video templates Custom FFmpeg Provider FFmpeg integration options"},{"location":"extending/#best-practices","title":"Best Practices","text":""},{"location":"extending/#1-keep-it-deterministic","title":"1. Keep It Deterministic","text":"<p>All custom components must produce identical output for identical input:</p> <pre><code>// GOOD - Deterministic\nTimeConsumer(\n  builder: (context, frame, _) {\n    final random = Random(frame);  // Seeded with frame\n    return randomElement(random);\n  },\n)\n\n// BAD - Non-deterministic\nTimeConsumer(\n  builder: (context, frame, _) {\n    final random = Random();  // Different every render\n    return randomElement(random);\n  },\n)\n</code></pre>"},{"location":"extending/#2-support-both-modes","title":"2. Support Both Modes","text":"<p>Ensure your components work in both preview and render modes:</p> <pre><code>Widget build(BuildContext context) {\n  final isPreview = RenderModeProvider.of(context).isPreview;\n\n  if (isPreview) {\n    // Lighter version for preview\n  } else {\n    // Full quality for render\n  }\n}\n</code></pre>"},{"location":"extending/#3-document-your-components","title":"3. Document Your Components","text":"<p>Include: - Property descriptions - Usage examples - Performance characteristics - Known limitations</p>"},{"location":"extending/#4-test-thoroughly","title":"4. Test Thoroughly","text":"<p>Write tests that verify: - Visual output at key frames - Animation timing - Edge cases (frame 0, last frame) - Performance benchmarks</p>"},{"location":"extending/#related","title":"Related","text":"<ul> <li>Architecture - Fluvie's design</li> <li>Rendering Pipeline - How rendering works</li> <li>Contributing - Contribute to Fluvie</li> </ul>"},{"location":"extending/custom-animations/","title":"Custom Animations","text":"<p>Create reusable animation patterns</p> <p>Build custom animations that integrate with Fluvie's frame-based animation system.</p>"},{"location":"extending/custom-animations/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>PropAnimation</li> <li>Entry Animations</li> <li>Interpolation Functions</li> <li>Testing Animations</li> <li>Examples</li> </ul>"},{"location":"extending/custom-animations/#overview","title":"Overview","text":"<p>Fluvie's animation system is frame-based and deterministic. Custom animations should:</p> <ol> <li>Accept frame numbers as input</li> <li>Return consistent values for the same frame</li> <li>Support easing curves</li> <li>Work in both preview and render modes</li> </ol>"},{"location":"extending/custom-animations/#propanimation","title":"PropAnimation","text":""},{"location":"extending/custom-animations/#creating-a-custom-propanimation","title":"Creating a Custom PropAnimation","text":"<pre><code>class BounceAnimation extends PropAnimation {\n  final double bounceHeight;\n  final int bounces;\n\n  const BounceAnimation({\n    this.bounceHeight = 50.0,\n    this.bounces = 3,\n    super.curve = Curves.linear,\n  });\n\n  @override\n  Matrix4 transformAt(double progress) {\n    // Calculate bounce position\n    final bounceProgress = progress * bounces;\n    final currentBounce = bounceProgress.floor();\n    final bouncePhase = bounceProgress - currentBounce;\n\n    // Damping: each bounce is smaller\n    final damping = 1.0 / (currentBounce + 1);\n\n    // Parabolic motion within each bounce\n    final y = -4 * bouncePhase * (bouncePhase - 1) * bounceHeight * damping;\n\n    return Matrix4.identity()..translate(0.0, y);\n  }\n\n  @override\n  double opacityAt(double progress) =&gt; 1.0;  // No opacity change\n}\n</code></pre>"},{"location":"extending/custom-animations/#using-your-animation","title":"Using Your Animation","text":"<pre><code>AnimatedProp(\n  startFrame: 0,\n  duration: 60,\n  animation: BounceAnimation(\n    bounceHeight: 100,\n    bounces: 4,\n  ),\n  child: Image.asset('assets/ball.png'),\n)\n</code></pre>"},{"location":"extending/custom-animations/#combining-with-built-in-animations","title":"Combining with Built-in Animations","text":"<pre><code>AnimatedProp(\n  startFrame: 0,\n  duration: 60,\n  animation: PropAnimation.combine([\n    BounceAnimation(bounceHeight: 50),\n    PropAnimation.fadeIn(),\n  ]),\n  child: content,\n)\n</code></pre>"},{"location":"extending/custom-animations/#propanimation-methods","title":"PropAnimation Methods","text":"<p>When creating custom <code>PropAnimation</code> subclasses, override these methods:</p>"},{"location":"extending/custom-animations/#transformatdouble-progress","title":"transformAt(double progress)","text":"<p>Returns the transformation matrix at the given progress (0.0 to 1.0):</p> <pre><code>@override\nMatrix4 transformAt(double progress) {\n  // progress: 0.0 = start, 1.0 = end\n\n  final scale = 1.0 + progress * 0.5;  // Scale from 1x to 1.5x\n  final rotation = progress * pi;       // Rotate 180 degrees\n\n  return Matrix4.identity()\n    ..scale(scale)\n    ..rotateZ(rotation);\n}\n</code></pre>"},{"location":"extending/custom-animations/#opacityatdouble-progress","title":"opacityAt(double progress)","text":"<p>Returns the opacity at the given progress:</p> <pre><code>@override\ndouble opacityAt(double progress) {\n  // Fade in during first half\n  if (progress &lt; 0.5) {\n    return progress * 2;\n  }\n  return 1.0;\n}\n</code></pre>"},{"location":"extending/custom-animations/#coloratdouble-progress","title":"colorAt(double progress)","text":"<p>Returns a color tint at the given progress (optional):</p> <pre><code>@override\nColor? colorAt(double progress) {\n  return Color.lerp(Colors.red, Colors.blue, progress);\n}\n</code></pre>"},{"location":"extending/custom-animations/#entry-animations","title":"Entry Animations","text":""},{"location":"extending/custom-animations/#creating-a-custom-entryanimation","title":"Creating a Custom EntryAnimation","text":"<pre><code>class TypewriterEntry extends EntryAnimation {\n  final Duration charDelay;\n\n  const TypewriterEntry({\n    this.charDelay = const Duration(milliseconds: 50),\n    super.duration = const Duration(milliseconds: 500),\n    super.curve = Curves.easeOut,\n  });\n\n  @override\n  Widget buildAnimation(\n    BuildContext context,\n    Animation&lt;double&gt; animation,\n    Widget child,\n  ) {\n    return AnimatedBuilder(\n      animation: animation,\n      builder: (context, child) {\n        if (child is Text) {\n          final text = child.data ?? '';\n          final visibleChars = (text.length * animation.value).round();\n\n          return Text(\n            text.substring(0, visibleChars),\n            style: child.style,\n          );\n        }\n        return child!;\n      },\n      child: child,\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-animations/#entry-animation-factory","title":"Entry Animation Factory","text":"<pre><code>class CustomEntryAnimations {\n  static EntryAnimation typewriter({\n    Duration charDelay = const Duration(milliseconds: 50),\n  }) {\n    return TypewriterEntry(charDelay: charDelay);\n  }\n\n  static EntryAnimation glitch({\n    int glitchCount = 5,\n  }) {\n    return GlitchEntry(glitchCount: glitchCount);\n  }\n}\n</code></pre>"},{"location":"extending/custom-animations/#interpolation-functions","title":"Interpolation Functions","text":""},{"location":"extending/custom-animations/#custom-interpolation","title":"Custom Interpolation","text":"<p>Create specialized interpolation for complex animations:</p> <pre><code>/// Interpolates along a bezier curve path\ndouble bezierInterpolate({\n  required int frame,\n  required int startFrame,\n  required int endFrame,\n  required List&lt;Offset&gt; controlPoints,\n  Curve curve = Curves.linear,\n}) {\n  final progress = ((frame - startFrame) / (endFrame - startFrame))\n      .clamp(0.0, 1.0);\n  final easedProgress = curve.transform(progress);\n\n  return _evaluateBezier(controlPoints, easedProgress);\n}\n\ndouble _evaluateBezier(List&lt;Offset&gt; points, double t) {\n  // De Casteljau's algorithm\n  if (points.length == 1) return points[0].dy;\n\n  final newPoints = &lt;Offset&gt;[];\n  for (var i = 0; i &lt; points.length - 1; i++) {\n    newPoints.add(Offset.lerp(points[i], points[i + 1], t)!);\n  }\n\n  return _evaluateBezier(newPoints, t);\n}\n</code></pre>"},{"location":"extending/custom-animations/#spring-physics","title":"Spring Physics","text":"<pre><code>class SpringAnimation {\n  final double stiffness;\n  final double damping;\n  final double mass;\n\n  const SpringAnimation({\n    this.stiffness = 100.0,\n    this.damping = 10.0,\n    this.mass = 1.0,\n  });\n\n  double valueAt(double progress) {\n    // Damped harmonic oscillator\n    final omega = sqrt(stiffness / mass);\n    final zeta = damping / (2 * sqrt(stiffness * mass));\n\n    if (zeta &lt; 1) {\n      // Underdamped\n      final omegaD = omega * sqrt(1 - zeta * zeta);\n      return 1 - exp(-zeta * omega * progress) *\n             cos(omegaD * progress);\n    } else {\n      // Critically or overdamped\n      return 1 - exp(-omega * progress);\n    }\n  }\n}\n</code></pre>"},{"location":"extending/custom-animations/#testing-animations","title":"Testing Animations","text":""},{"location":"extending/custom-animations/#frame-by-frame-testing","title":"Frame-by-Frame Testing","text":"<pre><code>void main() {\n  group('BounceAnimation', () {\n    test('starts at rest position', () {\n      final animation = BounceAnimation(bounceHeight: 50);\n      final transform = animation.transformAt(0.0);\n\n      // Should be at y=0 at start\n      expect(transform.getTranslation().y, equals(0.0));\n    });\n\n    test('reaches peak at mid-bounce', () {\n      final animation = BounceAnimation(bounceHeight: 50, bounces: 1);\n      final transform = animation.transformAt(0.5);\n\n      // Should be at peak height mid-bounce\n      expect(transform.getTranslation().y, closeTo(-50.0, 0.1));\n    });\n\n    test('returns to rest at end', () {\n      final animation = BounceAnimation(bounceHeight: 50);\n      final transform = animation.transformAt(1.0);\n\n      expect(transform.getTranslation().y, closeTo(0.0, 0.1));\n    });\n  });\n}\n</code></pre>"},{"location":"extending/custom-animations/#visual-testing","title":"Visual Testing","text":"<pre><code>testWidgets('BounceAnimation visual test', (tester) async {\n  final animation = BounceAnimation(bounceHeight: 100);\n\n  // Test at key frames\n  for (final frame in [0, 15, 30, 45, 60]) {\n    final progress = frame / 60;\n\n    await tester.pumpWidget(\n      MaterialApp(\n        home: Transform(\n          transform: animation.transformAt(progress),\n          child: Container(\n            width: 50,\n            height: 50,\n            color: Colors.blue,\n          ),\n        ),\n      ),\n    );\n\n    await expectLater(\n      find.byType(Container),\n      matchesGoldenFile('bounce_frame_$frame.png'),\n    );\n  }\n});\n</code></pre>"},{"location":"extending/custom-animations/#examples","title":"Examples","text":""},{"location":"extending/custom-animations/#shake-animation","title":"Shake Animation","text":"<pre><code>class ShakeAnimation extends PropAnimation {\n  final double intensity;\n  final int shakes;\n\n  const ShakeAnimation({\n    this.intensity = 10.0,\n    this.shakes = 5,\n    super.curve = Curves.easeOut,\n  });\n\n  @override\n  Matrix4 transformAt(double progress) {\n    // Damped shake\n    final damping = 1.0 - progress;\n    final shakeProgress = progress * shakes * 2 * pi;\n    final offset = sin(shakeProgress) * intensity * damping;\n\n    return Matrix4.identity()..translate(offset, 0.0);\n  }\n\n  @override\n  double opacityAt(double progress) =&gt; 1.0;\n}\n</code></pre>"},{"location":"extending/custom-animations/#wobble-animation","title":"Wobble Animation","text":"<pre><code>class WobbleAnimation extends PropAnimation {\n  final double angle;\n  final int wobbles;\n\n  const WobbleAnimation({\n    this.angle = 0.1,  // radians\n    this.wobbles = 3,\n    super.curve = Curves.easeInOut,\n  });\n\n  @override\n  Matrix4 transformAt(double progress) {\n    final damping = 1.0 - progress;\n    final wobbleAngle = sin(progress * wobbles * 2 * pi) * angle * damping;\n\n    return Matrix4.identity()..rotateZ(wobbleAngle);\n  }\n\n  @override\n  double opacityAt(double progress) =&gt; 1.0;\n}\n</code></pre>"},{"location":"extending/custom-animations/#path-following-animation","title":"Path-Following Animation","text":"<pre><code>class PathAnimation extends PropAnimation {\n  final Path path;\n  final PathMetric _pathMetric;\n\n  PathAnimation({required this.path})\n      : _pathMetric = path.computeMetrics().first;\n\n  @override\n  Matrix4 transformAt(double progress) {\n    final distance = _pathMetric.length * progress;\n    final tangent = _pathMetric.getTangentForOffset(distance);\n\n    if (tangent == null) return Matrix4.identity();\n\n    return Matrix4.identity()\n      ..translate(tangent.position.dx, tangent.position.dy)\n      ..rotateZ(tangent.angle);\n  }\n\n  @override\n  double opacityAt(double progress) =&gt; 1.0;\n}\n\n// Usage\nfinal heartPath = Path()\n  ..moveTo(100, 50)\n  ..cubicTo(100, 0, 50, 0, 50, 50)\n  ..cubicTo(50, 80, 100, 100, 100, 130)\n  ..cubicTo(100, 100, 150, 80, 150, 50)\n  ..cubicTo(150, 0, 100, 0, 100, 50);\n\nAnimatedProp(\n  startFrame: 0,\n  duration: 90,\n  animation: PathAnimation(path: heartPath),\n  child: Icon(Icons.favorite, color: Colors.red),\n)\n</code></pre>"},{"location":"extending/custom-animations/#related","title":"Related","text":"<ul> <li>PropAnimation - Built-in animations</li> <li>Entry Animations - Entry animation system</li> <li>Interpolate - Interpolation function</li> <li>TimeConsumer - Frame-based widget</li> </ul>"},{"location":"extending/custom-effects/","title":"Custom Effects","text":"<p>Build visual effect widgets</p> <p>Create custom visual effects that work within Fluvie's frame-based rendering system.</p>"},{"location":"extending/custom-effects/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Effect Widget Pattern</li> <li>Particle Systems</li> <li>Post-Processing Effects</li> <li>Deterministic Randomness</li> <li>Examples</li> </ul>"},{"location":"extending/custom-effects/#overview","title":"Overview","text":"<p>Custom effects in Fluvie must be:</p> <ol> <li>Deterministic: Same frame number = same visual output</li> <li>Efficient: Avoid expensive operations per frame</li> <li>Composable: Work as overlay or child wrapper</li> <li>Mode-aware: Support both preview and render modes</li> </ol>"},{"location":"extending/custom-effects/#effect-widget-pattern","title":"Effect Widget Pattern","text":""},{"location":"extending/custom-effects/#basic-structure","title":"Basic Structure","text":"<pre><code>class CustomEffect extends StatelessWidget {\n  final Widget child;\n  final int startFrame;\n  final int durationInFrames;\n\n  const CustomEffect({\n    super.key,\n    required this.child,\n    this.startFrame = 0,\n    this.durationInFrames = 60,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, frame, child) {\n        // Calculate effect progress\n        final localFrame = frame - startFrame;\n        if (localFrame &lt; 0 || localFrame &gt;= durationInFrames) {\n          return child!;  // Outside effect range\n        }\n\n        final progress = localFrame / durationInFrames;\n\n        // Apply effect\n        return _buildEffect(progress, child!);\n      },\n      child: child,\n    );\n  }\n\n  Widget _buildEffect(double progress, Widget child) {\n    // Override in subclass or implement here\n    return child;\n  }\n}\n</code></pre>"},{"location":"extending/custom-effects/#using-layer-stack-for-overlays","title":"Using Layer Stack for Overlays","text":"<pre><code>class GlowEffect extends StatelessWidget {\n  final Widget child;\n  final Color glowColor;\n  final double intensity;\n\n  const GlowEffect({\n    super.key,\n    required this.child,\n    this.glowColor = Colors.cyan,\n    this.intensity = 1.0,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, frame, child) {\n        // Pulsing glow\n        final pulse = (sin(frame * 0.1) + 1) / 2 * intensity;\n\n        return Stack(\n          children: [\n            // Glow layer (behind)\n            Positioned.fill(\n              child: Container(\n                decoration: BoxDecoration(\n                  boxShadow: [\n                    BoxShadow(\n                      color: glowColor.withOpacity(0.5 * pulse),\n                      blurRadius: 30 * pulse,\n                      spreadRadius: 10 * pulse,\n                    ),\n                  ],\n                ),\n              ),\n            ),\n            // Original content\n            child!,\n          ],\n        );\n      },\n      child: child,\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-effects/#particle-systems","title":"Particle Systems","text":""},{"location":"extending/custom-effects/#basic-particle-system","title":"Basic Particle System","text":"<pre><code>class Particle {\n  final Offset position;\n  final Offset velocity;\n  final double size;\n  final Color color;\n  final double rotation;\n\n  const Particle({\n    required this.position,\n    required this.velocity,\n    required this.size,\n    required this.color,\n    required this.rotation,\n  });\n\n  Particle evolve(double dt) {\n    return Particle(\n      position: position + velocity * dt,\n      velocity: velocity + Offset(0, 9.8 * dt),  // Gravity\n      size: size * 0.99,  // Shrink\n      color: color,\n      rotation: rotation + dt,\n    );\n  }\n}\n\nclass CustomParticleEffect extends StatelessWidget {\n  final int particleCount;\n  final int startFrame;\n  final int durationInFrames;\n  final int fps;\n\n  const CustomParticleEffect({\n    super.key,\n    this.particleCount = 50,\n    this.startFrame = 0,\n    this.durationInFrames = 90,\n    this.fps = 30,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, frame, _) {\n        final localFrame = frame - startFrame;\n        if (localFrame &lt; 0 || localFrame &gt;= durationInFrames) {\n          return const SizedBox.shrink();\n        }\n\n        // Generate particles deterministically\n        final particles = _generateParticles(localFrame);\n\n        return CustomPaint(\n          painter: ParticlePainter(particles: particles),\n          size: Size.infinite,\n        );\n      },\n    );\n  }\n\n  List&lt;Particle&gt; _generateParticles(int frame) {\n    final random = Random(42);  // Fixed seed for determinism\n    final dt = 1.0 / fps;\n\n    // Create initial particles\n    var particles = List.generate(particleCount, (i) {\n      return Particle(\n        position: Offset(\n          random.nextDouble() * 400 + 100,\n          random.nextDouble() * 100 + 500,\n        ),\n        velocity: Offset(\n          (random.nextDouble() - 0.5) * 100,\n          -random.nextDouble() * 200 - 100,\n        ),\n        size: random.nextDouble() * 10 + 5,\n        color: Colors.primaries[random.nextInt(Colors.primaries.length)],\n        rotation: random.nextDouble() * 2 * pi,\n      );\n    });\n\n    // Evolve particles to current frame\n    for (var f = 0; f &lt; frame; f++) {\n      particles = particles.map((p) =&gt; p.evolve(dt)).toList();\n    }\n\n    return particles;\n  }\n}\n\nclass ParticlePainter extends CustomPainter {\n  final List&lt;Particle&gt; particles;\n\n  ParticlePainter({required this.particles});\n\n  @override\n  void paint(Canvas canvas, Size size) {\n    for (final particle in particles) {\n      final paint = Paint()..color = particle.color;\n\n      canvas.save();\n      canvas.translate(particle.position.dx, particle.position.dy);\n      canvas.rotate(particle.rotation);\n\n      canvas.drawCircle(Offset.zero, particle.size, paint);\n\n      canvas.restore();\n    }\n  }\n\n  @override\n  bool shouldRepaint(ParticlePainter oldDelegate) =&gt; true;\n}\n</code></pre>"},{"location":"extending/custom-effects/#optimized-particle-system","title":"Optimized Particle System","text":"<p>For better performance, pre-calculate particle states:</p> <pre><code>class OptimizedParticleEffect extends StatefulWidget {\n  final int particleCount;\n  final int durationInFrames;\n\n  const OptimizedParticleEffect({\n    super.key,\n    this.particleCount = 100,\n    this.durationInFrames = 120,\n  });\n\n  @override\n  State&lt;OptimizedParticleEffect&gt; createState() =&gt; _OptimizedParticleEffectState();\n}\n\nclass _OptimizedParticleEffectState extends State&lt;OptimizedParticleEffect&gt; {\n  late List&lt;List&lt;Particle&gt;&gt; _frameCache;\n\n  @override\n  void initState() {\n    super.initState();\n    _precomputeParticles();\n  }\n\n  void _precomputeParticles() {\n    final random = Random(42);\n\n    // Generate initial state\n    var particles = List.generate(widget.particleCount, (i) {\n      return Particle(/* ... */);\n    });\n\n    // Pre-compute all frames\n    _frameCache = [particles];\n\n    for (var f = 1; f &lt; widget.durationInFrames; f++) {\n      particles = particles.map((p) =&gt; p.evolve(1.0 / 30)).toList();\n      _frameCache.add(particles);\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, frame, _) {\n        if (frame &lt; 0 || frame &gt;= _frameCache.length) {\n          return const SizedBox.shrink();\n        }\n\n        return CustomPaint(\n          painter: ParticlePainter(particles: _frameCache[frame]),\n        );\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-effects/#post-processing-effects","title":"Post-Processing Effects","text":""},{"location":"extending/custom-effects/#color-matrix-effect","title":"Color Matrix Effect","text":"<pre><code>class ColorMatrixEffect extends StatelessWidget {\n  final Widget child;\n  final List&lt;double&gt; matrix;\n\n  const ColorMatrixEffect({\n    super.key,\n    required this.child,\n    required this.matrix,\n  });\n\n  // Predefined matrices\n  static const grayscale = [\n    0.2126, 0.7152, 0.0722, 0, 0,\n    0.2126, 0.7152, 0.0722, 0, 0,\n    0.2126, 0.7152, 0.0722, 0, 0,\n    0, 0, 0, 1, 0,\n  ];\n\n  static const sepia = [\n    0.393, 0.769, 0.189, 0, 0,\n    0.349, 0.686, 0.168, 0, 0,\n    0.272, 0.534, 0.131, 0, 0,\n    0, 0, 0, 1, 0,\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return ColorFiltered(\n      colorFilter: ColorFilter.matrix(matrix),\n      child: child,\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-effects/#animated-color-grading","title":"Animated Color Grading","text":"<pre><code>class AnimatedColorGrade extends StatelessWidget {\n  final Widget child;\n  final int startFrame;\n  final int durationInFrames;\n  final List&lt;double&gt; startMatrix;\n  final List&lt;double&gt; endMatrix;\n\n  const AnimatedColorGrade({\n    super.key,\n    required this.child,\n    required this.startFrame,\n    required this.durationInFrames,\n    required this.startMatrix,\n    required this.endMatrix,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, frame, child) {\n        final localFrame = frame - startFrame;\n        final progress = (localFrame / durationInFrames).clamp(0.0, 1.0);\n\n        // Interpolate color matrices\n        final matrix = List.generate(\n          20,\n          (i) =&gt; lerpDouble(startMatrix[i], endMatrix[i], progress)!,\n        );\n\n        return ColorFiltered(\n          colorFilter: ColorFilter.matrix(matrix),\n          child: child!,\n        );\n      },\n      child: child,\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-effects/#deterministic-randomness","title":"Deterministic Randomness","text":""},{"location":"extending/custom-effects/#using-frame-seeded-random","title":"Using Frame-Seeded Random","text":"<pre><code>class NoiseEffect extends StatelessWidget {\n  final double intensity;\n\n  const NoiseEffect({\n    super.key,\n    this.intensity = 0.1,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, frame, _) {\n        // Frame-based seed ensures determinism\n        final random = Random(frame * 12345);\n\n        return CustomPaint(\n          painter: NoisePainter(\n            random: random,\n            intensity: intensity,\n          ),\n          size: Size.infinite,\n        );\n      },\n    );\n  }\n}\n\nclass NoisePainter extends CustomPainter {\n  final Random random;\n  final double intensity;\n\n  NoisePainter({required this.random, required this.intensity});\n\n  @override\n  void paint(Canvas canvas, Size size) {\n    final paint = Paint();\n\n    // Draw noise pixels\n    for (var x = 0.0; x &lt; size.width; x += 4) {\n      for (var y = 0.0; y &lt; size.height; y += 4) {\n        final brightness = random.nextDouble();\n        paint.color = Colors.white.withOpacity(brightness * intensity);\n        canvas.drawRect(Rect.fromLTWH(x, y, 4, 4), paint);\n      }\n    }\n  }\n\n  @override\n  bool shouldRepaint(NoisePainter oldDelegate) =&gt; true;\n}\n</code></pre>"},{"location":"extending/custom-effects/#precomputed-noise-texture","title":"Precomputed Noise Texture","text":"<pre><code>class PrecomputedNoiseEffect extends StatefulWidget {\n  final int frameCount;\n\n  const PrecomputedNoiseEffect({\n    super.key,\n    this.frameCount = 30,  // Loop every 30 frames\n  });\n\n  @override\n  State&lt;PrecomputedNoiseEffect&gt; createState() =&gt; _PrecomputedNoiseEffectState();\n}\n\nclass _PrecomputedNoiseEffectState extends State&lt;PrecomputedNoiseEffect&gt; {\n  late List&lt;ui.Image&gt; _noiseFrames;\n  bool _isLoaded = false;\n\n  @override\n  void initState() {\n    super.initState();\n    _generateNoiseFrames();\n  }\n\n  Future&lt;void&gt; _generateNoiseFrames() async {\n    final frames = &lt;ui.Image&gt;[];\n\n    for (var i = 0; i &lt; widget.frameCount; i++) {\n      final recorder = ui.PictureRecorder();\n      final canvas = Canvas(recorder);\n      final random = Random(i);\n\n      // Draw noise\n      for (var x = 0; x &lt; 256; x++) {\n        for (var y = 0; y &lt; 256; y++) {\n          final gray = random.nextInt(256);\n          canvas.drawRect(\n            Rect.fromLTWH(x.toDouble(), y.toDouble(), 1, 1),\n            Paint()..color = Color.fromARGB(50, gray, gray, gray),\n          );\n        }\n      }\n\n      final picture = recorder.endRecording();\n      final image = await picture.toImage(256, 256);\n      frames.add(image);\n    }\n\n    setState(() {\n      _noiseFrames = frames;\n      _isLoaded = true;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (!_isLoaded) return const SizedBox.shrink();\n\n    return TimeConsumer(\n      builder: (context, frame, _) {\n        final noiseFrame = frame % widget.frameCount;\n\n        return RawImage(\n          image: _noiseFrames[noiseFrame],\n          fit: BoxFit.cover,\n        );\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-effects/#examples","title":"Examples","text":""},{"location":"extending/custom-effects/#scanline-effect","title":"Scanline Effect","text":"<pre><code>class ScanlineEffect extends StatelessWidget {\n  final double lineSpacing;\n  final double lineOpacity;\n\n  const ScanlineEffect({\n    super.key,\n    this.lineSpacing = 4.0,\n    this.lineOpacity = 0.3,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, frame, _) {\n        // Animate scanline position\n        final offset = (frame % lineSpacing.toInt()) / lineSpacing;\n\n        return CustomPaint(\n          painter: ScanlinePainter(\n            spacing: lineSpacing,\n            opacity: lineOpacity,\n            offset: offset,\n          ),\n          size: Size.infinite,\n        );\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-effects/#glitch-effect","title":"Glitch Effect","text":"<pre><code>class GlitchEffect extends StatelessWidget {\n  final Widget child;\n  final double intensity;\n  final int glitchSeed;\n\n  const GlitchEffect({\n    super.key,\n    required this.child,\n    this.intensity = 0.5,\n    this.glitchSeed = 42,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, frame, child) {\n        final random = Random(frame * glitchSeed);\n\n        // Only glitch some frames\n        if (random.nextDouble() &gt; intensity) {\n          return child!;\n        }\n\n        // Random displacement\n        final dx = (random.nextDouble() - 0.5) * 20;\n        final dy = (random.nextDouble() - 0.5) * 10;\n\n        return Stack(\n          children: [\n            // Red channel offset\n            Positioned(\n              left: dx,\n              top: dy,\n              child: ColorFiltered(\n                colorFilter: const ColorFilter.mode(\n                  Colors.red,\n                  BlendMode.modulate,\n                ),\n                child: child!,\n              ),\n            ),\n            // Blue channel offset\n            Positioned(\n              left: -dx,\n              top: -dy,\n              child: ColorFiltered(\n                colorFilter: const ColorFilter.mode(\n                  Colors.blue,\n                  BlendMode.modulate,\n                ),\n                child: child!,\n              ),\n            ),\n            // Original\n            Opacity(opacity: 0.5, child: child!),\n          ],\n        );\n      },\n      child: child,\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-effects/#vignette-effect","title":"Vignette Effect","text":"<pre><code>class VignetteEffect extends StatelessWidget {\n  final double intensity;\n  final double radius;\n\n  const VignetteEffect({\n    super.key,\n    this.intensity = 0.5,\n    this.radius = 0.8,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return CustomPaint(\n      painter: VignettePainter(\n        intensity: intensity,\n        radius: radius,\n      ),\n      size: Size.infinite,\n    );\n  }\n}\n\nclass VignettePainter extends CustomPainter {\n  final double intensity;\n  final double radius;\n\n  VignettePainter({required this.intensity, required this.radius});\n\n  @override\n  void paint(Canvas canvas, Size size) {\n    final center = Offset(size.width / 2, size.height / 2);\n    final maxRadius = size.longestSide / 2;\n\n    final gradient = RadialGradient(\n      center: Alignment.center,\n      radius: radius,\n      colors: [\n        Colors.transparent,\n        Colors.black.withOpacity(intensity),\n      ],\n      stops: const [0.5, 1.0],\n    );\n\n    final paint = Paint()\n      ..shader = gradient.createShader(\n        Rect.fromCircle(center: center, radius: maxRadius),\n      );\n\n    canvas.drawRect(Offset.zero &amp; size, paint);\n  }\n\n  @override\n  bool shouldRepaint(VignettePainter oldDelegate) =&gt;\n      intensity != oldDelegate.intensity || radius != oldDelegate.radius;\n}\n</code></pre>"},{"location":"extending/custom-effects/#related","title":"Related","text":"<ul> <li>Particle Effects - Built-in particles</li> <li>Effect Overlay - Built-in overlays</li> <li>TimeConsumer - Frame-based widget</li> <li>Custom Animations - Animation system</li> </ul>"},{"location":"extending/custom-ffmpeg-provider/","title":"Custom FFmpeg Provider","text":"<p>Implement platform-specific FFmpeg integrations</p> <p>Fluvie uses FFmpeg for video encoding. The FFmpeg provider abstraction allows different implementations for different platforms.</p>"},{"location":"extending/custom-ffmpeg-provider/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>FFmpegProvider Interface</li> <li>ProcessFFmpegProvider</li> <li>Mobile FFmpegKit</li> <li>Custom Implementation</li> <li>Testing Providers</li> </ul>"},{"location":"extending/custom-ffmpeg-provider/#overview","title":"Overview","text":"<p>Fluvie abstracts FFmpeg access through the <code>FFmpegProvider</code> interface:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              RenderService                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           FFmpegProvider (abstract)          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Process   \u2502  FFmpegKit  \u2502    Custom       \u2502\n\u2502  (Desktop)  \u2502  (Mobile)   \u2502 (Your impl)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>This allows: - Desktop: Direct FFmpeg process execution - Mobile: FFmpegKit integration - Custom: Server-based encoding, WASM, etc.</p>"},{"location":"extending/custom-ffmpeg-provider/#ffmpegprovider-interface","title":"FFmpegProvider Interface","text":""},{"location":"extending/custom-ffmpeg-provider/#interface-definition","title":"Interface Definition","text":"<pre><code>abstract class FFmpegProvider {\n  /// Check if FFmpeg is available\n  Future&lt;bool&gt; isAvailable();\n\n  /// Get FFmpeg version string\n  Future&lt;String&gt; getVersion();\n\n  /// Execute an FFmpeg command\n  /// Returns exit code (0 = success)\n  Future&lt;int&gt; execute(List&lt;String&gt; arguments);\n\n  /// Execute with progress callback\n  Future&lt;int&gt; executeWithProgress(\n    List&lt;String&gt; arguments, {\n    void Function(double progress)? onProgress,\n    void Function(String line)? onOutput,\n  });\n\n  /// Cancel any running execution\n  Future&lt;void&gt; cancel();\n\n  /// Probe a media file for metadata\n  Future&lt;MediaInfo?&gt; probe(String filePath);\n}\n\nclass MediaInfo {\n  final Duration duration;\n  final int width;\n  final int height;\n  final double fps;\n  final String? videoCodec;\n  final String? audioCodec;\n  final int? bitrate;\n\n  const MediaInfo({\n    required this.duration,\n    required this.width,\n    required this.height,\n    required this.fps,\n    this.videoCodec,\n    this.audioCodec,\n    this.bitrate,\n  });\n}\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#processffmpegprovider","title":"ProcessFFmpegProvider","text":"<p>The default desktop implementation uses Dart's <code>Process</code> API:</p> <pre><code>class ProcessFFmpegProvider implements FFmpegProvider {\n  final String ffmpegPath;\n  final String ffprobePath;\n  Process? _currentProcess;\n\n  ProcessFFmpegProvider({\n    this.ffmpegPath = 'ffmpeg',\n    this.ffprobePath = 'ffprobe',\n  });\n\n  @override\n  Future&lt;bool&gt; isAvailable() async {\n    try {\n      final result = await Process.run(ffmpegPath, ['-version']);\n      return result.exitCode == 0;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  @override\n  Future&lt;String&gt; getVersion() async {\n    final result = await Process.run(ffmpegPath, ['-version']);\n    final output = result.stdout as String;\n    // Parse version from first line\n    final match = RegExp(r'ffmpeg version (\\S+)').firstMatch(output);\n    return match?.group(1) ?? 'unknown';\n  }\n\n  @override\n  Future&lt;int&gt; execute(List&lt;String&gt; arguments) async {\n    _currentProcess = await Process.start(ffmpegPath, arguments);\n    return await _currentProcess!.exitCode;\n  }\n\n  @override\n  Future&lt;int&gt; executeWithProgress(\n    List&lt;String&gt; arguments, {\n    void Function(double progress)? onProgress,\n    void Function(String line)? onOutput,\n  }) async {\n    // Add progress output\n    final args = ['-progress', 'pipe:1', '-y', ...arguments];\n\n    _currentProcess = await Process.start(ffmpegPath, args);\n\n    // Parse progress from stdout\n    _currentProcess!.stdout\n        .transform(utf8.decoder)\n        .transform(const LineSplitter())\n        .listen((line) {\n      onOutput?.call(line);\n\n      // Parse progress\n      if (line.startsWith('out_time_ms=')) {\n        final ms = int.tryParse(line.split('=')[1]) ?? 0;\n        // Calculate progress based on expected duration\n        // (This is simplified - real implementation needs total duration)\n        onProgress?.call(ms / 1000000);  // Convert to seconds\n      }\n    });\n\n    _currentProcess!.stderr\n        .transform(utf8.decoder)\n        .transform(const LineSplitter())\n        .listen((line) {\n      onOutput?.call(line);\n    });\n\n    return await _currentProcess!.exitCode;\n  }\n\n  @override\n  Future&lt;void&gt; cancel() async {\n    _currentProcess?.kill(ProcessSignal.sigterm);\n    _currentProcess = null;\n  }\n\n  @override\n  Future&lt;MediaInfo?&gt; probe(String filePath) async {\n    final result = await Process.run(ffprobePath, [\n      '-v', 'quiet',\n      '-print_format', 'json',\n      '-show_format',\n      '-show_streams',\n      filePath,\n    ]);\n\n    if (result.exitCode != 0) return null;\n\n    final json = jsonDecode(result.stdout as String);\n    // Parse MediaInfo from JSON\n    return _parseMediaInfo(json);\n  }\n\n  MediaInfo _parseMediaInfo(Map&lt;String, dynamic&gt; json) {\n    final streams = json['streams'] as List;\n    final videoStream = streams.firstWhere(\n      (s) =&gt; s['codec_type'] == 'video',\n      orElse: () =&gt; null,\n    );\n    final audioStream = streams.firstWhere(\n      (s) =&gt; s['codec_type'] == 'audio',\n      orElse: () =&gt; null,\n    );\n    final format = json['format'] as Map&lt;String, dynamic&gt;?;\n\n    // Parse frame rate\n    final fpsStr = videoStream?['r_frame_rate'] as String? ?? '30/1';\n    final fpsParts = fpsStr.split('/');\n    final fps = int.parse(fpsParts[0]) / int.parse(fpsParts[1]);\n\n    return MediaInfo(\n      duration: Duration(\n        microseconds: (double.parse(format?['duration'] ?? '0') * 1000000).round(),\n      ),\n      width: videoStream?['width'] ?? 0,\n      height: videoStream?['height'] ?? 0,\n      fps: fps,\n      videoCodec: videoStream?['codec_name'],\n      audioCodec: audioStream?['codec_name'],\n      bitrate: int.tryParse(format?['bit_rate'] ?? ''),\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#mobile-ffmpegkit","title":"Mobile FFmpegKit","text":"<p>For mobile platforms, use FFmpegKit:</p> <pre><code>import 'package:ffmpeg_kit_flutter/ffmpeg_kit.dart';\nimport 'package:ffmpeg_kit_flutter/ffprobe_kit.dart';\nimport 'package:ffmpeg_kit_flutter/return_code.dart';\n\nclass FFmpegKitProvider implements FFmpegProvider {\n  @override\n  Future&lt;bool&gt; isAvailable() async {\n    // FFmpegKit is always available when the package is included\n    return true;\n  }\n\n  @override\n  Future&lt;String&gt; getVersion() async {\n    final info = await FFmpegKitConfig.getFFmpegVersion();\n    return info ?? 'unknown';\n  }\n\n  @override\n  Future&lt;int&gt; execute(List&lt;String&gt; arguments) async {\n    final command = arguments.join(' ');\n    final session = await FFmpegKit.execute(command);\n    final returnCode = await session.getReturnCode();\n    return ReturnCode.isSuccess(returnCode) ? 0 : 1;\n  }\n\n  @override\n  Future&lt;int&gt; executeWithProgress(\n    List&lt;String&gt; arguments, {\n    void Function(double progress)? onProgress,\n    void Function(String line)? onOutput,\n  }) async {\n    final command = arguments.join(' ');\n\n    final session = await FFmpegKit.executeAsync(\n      command,\n      (session) async {\n        // Completion callback\n      },\n      (log) {\n        // Log callback\n        onOutput?.call(log.getMessage());\n      },\n      (statistics) {\n        // Statistics callback\n        final time = statistics.getTime();\n        if (time &gt; 0) {\n          // Calculate progress (need to know total duration)\n          onProgress?.call(time / 1000);  // time is in ms\n        }\n      },\n    );\n\n    // Wait for completion\n    await session.getReturnCode();\n    final returnCode = await session.getReturnCode();\n    return ReturnCode.isSuccess(returnCode) ? 0 : 1;\n  }\n\n  @override\n  Future&lt;void&gt; cancel() async {\n    await FFmpegKit.cancel();\n  }\n\n  @override\n  Future&lt;MediaInfo?&gt; probe(String filePath) async {\n    final session = await FFprobeKit.getMediaInformation(filePath);\n    final info = session.getMediaInformation();\n\n    if (info == null) return null;\n\n    final streams = info.getStreams();\n    final videoStream = streams?.firstWhere(\n      (s) =&gt; s.getType() == 'video',\n      orElse: () =&gt; null,\n    );\n\n    return MediaInfo(\n      duration: Duration(\n        milliseconds: (info.getDuration() ?? 0).toInt(),\n      ),\n      width: videoStream?.getWidth() ?? 0,\n      height: videoStream?.getHeight() ?? 0,\n      fps: _parseFps(videoStream?.getRealFrameRate()),\n      videoCodec: videoStream?.getCodec(),\n      audioCodec: streams?.firstWhere(\n        (s) =&gt; s.getType() == 'audio',\n        orElse: () =&gt; null,\n      )?.getCodec(),\n      bitrate: int.tryParse(info.getBitrate() ?? ''),\n    );\n  }\n\n  double _parseFps(String? fpsStr) {\n    if (fpsStr == null) return 30.0;\n    final parts = fpsStr.split('/');\n    if (parts.length != 2) return 30.0;\n    return int.parse(parts[0]) / int.parse(parts[1]);\n  }\n}\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#pubspecyaml-for-mobile","title":"pubspec.yaml for Mobile","text":"<pre><code>dependencies:\n  ffmpeg_kit_flutter: ^6.0.0\n  # Or specific package for features needed:\n  # ffmpeg_kit_flutter_full: ^6.0.0      # All codecs\n  # ffmpeg_kit_flutter_min: ^6.0.0       # Minimal\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#custom-implementation","title":"Custom Implementation","text":""},{"location":"extending/custom-ffmpeg-provider/#server-based-provider","title":"Server-Based Provider","text":"<p>For cloud/server encoding:</p> <pre><code>class ServerFFmpegProvider implements FFmpegProvider {\n  final String serverUrl;\n  final http.Client _client;\n  String? _currentJobId;\n\n  ServerFFmpegProvider({\n    required this.serverUrl,\n    http.Client? client,\n  }) : _client = client ?? http.Client();\n\n  @override\n  Future&lt;bool&gt; isAvailable() async {\n    try {\n      final response = await _client.get(\n        Uri.parse('$serverUrl/health'),\n      );\n      return response.statusCode == 200;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  @override\n  Future&lt;int&gt; execute(List&lt;String&gt; arguments) async {\n    return executeWithProgress(arguments);\n  }\n\n  @override\n  Future&lt;int&gt; executeWithProgress(\n    List&lt;String&gt; arguments, {\n    void Function(double progress)? onProgress,\n    void Function(String line)? onOutput,\n  }) async {\n    // Upload frames/assets first\n    final uploadedFiles = await _uploadAssets(arguments);\n\n    // Start job\n    final response = await _client.post(\n      Uri.parse('$serverUrl/jobs'),\n      body: jsonEncode({\n        'arguments': _remapPaths(arguments, uploadedFiles),\n      }),\n      headers: {'Content-Type': 'application/json'},\n    );\n\n    if (response.statusCode != 201) {\n      return 1;\n    }\n\n    final job = jsonDecode(response.body);\n    _currentJobId = job['id'];\n\n    // Poll for progress\n    while (true) {\n      final statusResponse = await _client.get(\n        Uri.parse('$serverUrl/jobs/$_currentJobId'),\n      );\n\n      final status = jsonDecode(statusResponse.body);\n\n      if (status['progress'] != null) {\n        onProgress?.call(status['progress'] as double);\n      }\n\n      if (status['status'] == 'completed') {\n        // Download result\n        await _downloadResult(status['outputUrl']);\n        return 0;\n      } else if (status['status'] == 'failed') {\n        onOutput?.call('Job failed: ${status['error']}');\n        return 1;\n      }\n\n      await Future.delayed(const Duration(seconds: 1));\n    }\n  }\n\n  @override\n  Future&lt;void&gt; cancel() async {\n    if (_currentJobId != null) {\n      await _client.delete(\n        Uri.parse('$serverUrl/jobs/$_currentJobId'),\n      );\n      _currentJobId = null;\n    }\n  }\n\n  @override\n  Future&lt;MediaInfo?&gt; probe(String filePath) async {\n    // Upload file and probe on server\n    final uploadUrl = await _uploadFile(filePath);\n\n    final response = await _client.post(\n      Uri.parse('$serverUrl/probe'),\n      body: jsonEncode({'url': uploadUrl}),\n      headers: {'Content-Type': 'application/json'},\n    );\n\n    if (response.statusCode != 200) return null;\n\n    final data = jsonDecode(response.body);\n    return MediaInfo(\n      duration: Duration(milliseconds: data['duration']),\n      width: data['width'],\n      height: data['height'],\n      fps: data['fps'],\n      videoCodec: data['videoCodec'],\n      audioCodec: data['audioCodec'],\n      bitrate: data['bitrate'],\n    );\n  }\n\n  Future&lt;Map&lt;String, String&gt;&gt; _uploadAssets(List&lt;String&gt; arguments) async {\n    // Implementation: upload local files to server\n    throw UnimplementedError();\n  }\n\n  List&lt;String&gt; _remapPaths(\n    List&lt;String&gt; arguments,\n    Map&lt;String, String&gt; uploadedFiles,\n  ) {\n    // Replace local paths with server URLs\n    throw UnimplementedError();\n  }\n\n  Future&lt;void&gt; _downloadResult(String url) async {\n    // Download encoded video from server\n    throw UnimplementedError();\n  }\n\n  Future&lt;String&gt; _uploadFile(String path) async {\n    // Upload single file\n    throw UnimplementedError();\n  }\n}\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#wasm-provider-web","title":"WASM Provider (Web)","text":"<p>For browser-based encoding using FFmpeg.wasm:</p> <pre><code>@JS()\nlibrary ffmpeg_wasm;\n\nimport 'package:js/js.dart';\n\n@JS('FFmpeg')\nclass FFmpegWasm {\n  external FFmpegWasm();\n  external Promise&lt;void&gt; load();\n  external Promise&lt;void&gt; run(List&lt;String&gt; args);\n  external void writeFile(String name, Uint8List data);\n  external Uint8List readFile(String name);\n}\n\nclass WasmFFmpegProvider implements FFmpegProvider {\n  final FFmpegWasm _ffmpeg = FFmpegWasm();\n  bool _loaded = false;\n\n  Future&lt;void&gt; _ensureLoaded() async {\n    if (!_loaded) {\n      await promiseToFuture(_ffmpeg.load());\n      _loaded = true;\n    }\n  }\n\n  @override\n  Future&lt;bool&gt; isAvailable() async {\n    try {\n      await _ensureLoaded();\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  @override\n  Future&lt;int&gt; execute(List&lt;String&gt; arguments) async {\n    await _ensureLoaded();\n\n    try {\n      await promiseToFuture(_ffmpeg.run(arguments));\n      return 0;\n    } catch (e) {\n      return 1;\n    }\n  }\n\n  // ... other methods\n}\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#testing-providers","title":"Testing Providers","text":""},{"location":"extending/custom-ffmpeg-provider/#mock-provider-for-testing","title":"Mock Provider for Testing","text":"<pre><code>class MockFFmpegProvider implements FFmpegProvider {\n  final List&lt;List&lt;String&gt;&gt; executedCommands = [];\n  int nextExitCode = 0;\n  MediaInfo? mockMediaInfo;\n\n  @override\n  Future&lt;bool&gt; isAvailable() async =&gt; true;\n\n  @override\n  Future&lt;String&gt; getVersion() async =&gt; '5.0.0';\n\n  @override\n  Future&lt;int&gt; execute(List&lt;String&gt; arguments) async {\n    executedCommands.add(arguments);\n    return nextExitCode;\n  }\n\n  @override\n  Future&lt;int&gt; executeWithProgress(\n    List&lt;String&gt; arguments, {\n    void Function(double progress)? onProgress,\n    void Function(String line)? onOutput,\n  }) async {\n    executedCommands.add(arguments);\n\n    // Simulate progress\n    for (var i = 0; i &lt;= 10; i++) {\n      await Future.delayed(const Duration(milliseconds: 10));\n      onProgress?.call(i / 10);\n    }\n\n    return nextExitCode;\n  }\n\n  @override\n  Future&lt;void&gt; cancel() async {}\n\n  @override\n  Future&lt;MediaInfo?&gt; probe(String filePath) async =&gt; mockMediaInfo;\n}\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#testing-with-mock","title":"Testing with Mock","text":"<pre><code>void main() {\n  group('RenderService', () {\n    late MockFFmpegProvider mockProvider;\n\n    setUp(() {\n      mockProvider = MockFFmpegProvider();\n      FFmpegProviderRegistry.setProvider(mockProvider);\n    });\n\n    test('executes correct FFmpeg command', () async {\n      await RenderService.execute(\n        composition: testVideo,\n        outputPath: 'output.mp4',\n      );\n\n      expect(mockProvider.executedCommands, isNotEmpty);\n\n      final command = mockProvider.executedCommands.first;\n      expect(command, contains('-r'));\n      expect(command, contains('30'));  // fps\n      expect(command, contains('output.mp4'));\n    });\n\n    test('handles FFmpeg failure', () async {\n      mockProvider.nextExitCode = 1;\n\n      expect(\n        () =&gt; RenderService.execute(\n          composition: testVideo,\n          outputPath: 'output.mp4',\n        ),\n        throwsA(isA&lt;EncodingException&gt;()),\n      );\n    });\n  });\n}\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#provider-registration","title":"Provider Registration","text":""},{"location":"extending/custom-ffmpeg-provider/#global-provider","title":"Global Provider","text":"<pre><code>class FFmpegProviderRegistry {\n  static FFmpegProvider? _provider;\n\n  static FFmpegProvider get provider {\n    return _provider ?? _defaultProvider();\n  }\n\n  static void setProvider(FFmpegProvider provider) {\n    _provider = provider;\n  }\n\n  static FFmpegProvider _defaultProvider() {\n    if (kIsWeb) {\n      return WasmFFmpegProvider();\n    } else if (Platform.isAndroid || Platform.isIOS) {\n      return FFmpegKitProvider();\n    } else {\n      return ProcessFFmpegProvider();\n    }\n  }\n}\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#usage-in-renderservice","title":"Usage in RenderService","text":"<pre><code>class RenderService {\n  static Future&lt;void&gt; execute({\n    required Video composition,\n    required String outputPath,\n    FFmpegProvider? ffmpegProvider,\n  }) async {\n    final provider = ffmpegProvider ?? FFmpegProviderRegistry.provider;\n\n    // Check availability\n    if (!await provider.isAvailable()) {\n      throw FFmpegNotAvailableException();\n    }\n\n    // Build command\n    final arguments = _buildCommand(composition, outputPath);\n\n    // Execute\n    final exitCode = await provider.execute(arguments);\n\n    if (exitCode != 0) {\n      throw EncodingException('FFmpeg exited with code $exitCode');\n    }\n  }\n}\n</code></pre>"},{"location":"extending/custom-ffmpeg-provider/#related","title":"Related","text":"<ul> <li>Encoding Settings - Quality settings</li> <li>Custom Render Pipeline - Rendering customization</li> <li>Server Mode - Server-based rendering</li> <li>Platform Setup - Platform installation</li> </ul>"},{"location":"extending/custom-templates/","title":"Custom Templates","text":"<p>Package complete video templates</p> <p>Create reusable video templates that users can customize with their own data and styling.</p>"},{"location":"extending/custom-templates/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Template Architecture</li> <li>Creating a Template</li> <li>Data Contracts</li> <li>Theming</li> <li>Timing</li> <li>Testing Templates</li> <li>Examples</li> </ul>"},{"location":"extending/custom-templates/#overview","title":"Overview","text":"<p>Fluvie templates are pre-built video compositions that:</p> <ol> <li>Accept structured data (text, images, metrics)</li> <li>Support visual themes</li> <li>Allow timing customization</li> <li>Render as complete scenes</li> </ol> <p>Templates are organized by category: intro, ranking, dataViz, collage, thematic, and conclusion.</p>"},{"location":"extending/custom-templates/#template-architecture","title":"Template Architecture","text":""},{"location":"extending/custom-templates/#base-class","title":"Base Class","text":"<p>All templates extend <code>WrappedTemplate</code>:</p> <pre><code>abstract class WrappedTemplate&lt;T&gt; extends StatelessWidget {\n  /// The data contract for this template\n  final T data;\n\n  /// Visual theme configuration\n  final TemplateTheme? theme;\n\n  /// Animation timing configuration\n  final TemplateTiming? timing;\n\n  const WrappedTemplate({\n    super.key,\n    required this.data,\n    this.theme,\n    this.timing,\n  });\n\n  /// The template category\n  TemplateCategory get category;\n\n  /// Recommended scene length in frames\n  int get recommendedLength;\n\n  /// Build the template content\n  @override\n  Widget build(BuildContext context);\n\n  /// Convert to a Scene widget\n  Scene toScene({\n    int? length,\n    SceneTransition? transitionIn,\n    SceneTransition? transitionOut,\n  }) {\n    return Scene(\n      durationInFrames: length ?? recommendedLength,\n      transitionIn: transitionIn,\n      transitionOut: transitionOut,\n      children: [this],\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-templates/#template-categories","title":"Template Categories","text":"<pre><code>enum TemplateCategory {\n  intro,       // Opening sequences\n  ranking,     // Top lists, leaderboards\n  dataViz,     // Data visualization\n  collage,     // Photo grids, galleries\n  thematic,    // Mood, theme pieces\n  conclusion,  // Endings, summaries\n}\n</code></pre>"},{"location":"extending/custom-templates/#creating-a-template","title":"Creating a Template","text":""},{"location":"extending/custom-templates/#step-1-define-data-contract","title":"Step 1: Define Data Contract","text":"<pre><code>/// Data for the FeaturedArtist template\nclass FeaturedArtistData {\n  final String artistName;\n  final String? artistImage;\n  final String topSong;\n  final int playCount;\n  final List&lt;String&gt; genres;\n\n  const FeaturedArtistData({\n    required this.artistName,\n    this.artistImage,\n    required this.topSong,\n    required this.playCount,\n    this.genres = const [],\n  });\n}\n</code></pre>"},{"location":"extending/custom-templates/#step-2-create-template-class","title":"Step 2: Create Template Class","text":"<pre><code>class FeaturedArtist extends WrappedTemplate&lt;FeaturedArtistData&gt; {\n  const FeaturedArtist({\n    super.key,\n    required super.data,\n    super.theme,\n    super.timing,\n  });\n\n  @override\n  TemplateCategory get category =&gt; TemplateCategory.thematic;\n\n  @override\n  int get recommendedLength =&gt; 150;  // 5 seconds at 30fps\n\n  @override\n  Widget build(BuildContext context) {\n    final colors = theme?.colorPalette ?? TemplateTheme.neon.colorPalette;\n    final timingConfig = timing ?? TemplateTiming.standard;\n\n    return LayerStack(\n      children: [\n        // Background\n        Layer(\n          child: Background(\n            colors: [colors.primary, colors.secondary],\n          ),\n        ),\n\n        // Artist image\n        if (data.artistImage != null)\n          Layer(\n            child: AnimatedProp(\n              startFrame: timingConfig.startDelay,\n              duration: 30,\n              animation: PropAnimation.fadeIn(),\n              child: Positioned(\n                top: 100,\n                left: 0,\n                right: 0,\n                child: Center(\n                  child: ClipOval(\n                    child: Image.asset(\n                      data.artistImage!,\n                      width: 200,\n                      height: 200,\n                      fit: BoxFit.cover,\n                    ),\n                  ),\n                ),\n              ),\n            ),\n          ),\n\n        // Artist name\n        Layer(\n          child: AnimatedProp(\n            startFrame: timingConfig.startDelay + 15,\n            duration: 30,\n            animation: PropAnimation.slideUp(distance: 50),\n            child: Positioned(\n              top: 350,\n              left: 40,\n              right: 40,\n              child: Text(\n                data.artistName,\n                style: TextStyle(\n                  fontSize: 48,\n                  fontWeight: FontWeight.bold,\n                  color: colors.text,\n                ),\n                textAlign: TextAlign.center,\n              ),\n            ),\n          ),\n        ),\n\n        // Play count\n        Layer(\n          child: AnimatedProp(\n            startFrame: timingConfig.startDelay + 30,\n            duration: 30,\n            animation: PropAnimation.fadeIn(),\n            child: Positioned(\n              top: 420,\n              left: 40,\n              right: 40,\n              child: CounterText(\n                from: 0,\n                to: data.playCount,\n                startFrame: timingConfig.startDelay + 40,\n                durationInFrames: 45,\n                suffix: ' plays',\n                style: TextStyle(\n                  fontSize: 32,\n                  color: colors.accent,\n                ),\n                textAlign: TextAlign.center,\n              ),\n            ),\n          ),\n        ),\n\n        // Top song\n        Layer(\n          child: AnimatedProp(\n            startFrame: timingConfig.startDelay + 60,\n            duration: 30,\n            animation: PropAnimation.combine([\n              PropAnimation.fadeIn(),\n              PropAnimation.slideUp(distance: 20),\n            ]),\n            child: Positioned(\n              top: 500,\n              left: 40,\n              right: 40,\n              child: Column(\n                children: [\n                  Text(\n                    'Top Song',\n                    style: TextStyle(\n                      fontSize: 18,\n                      color: colors.text.withOpacity(0.7),\n                    ),\n                  ),\n                  const SizedBox(height: 8),\n                  Text(\n                    data.topSong,\n                    style: TextStyle(\n                      fontSize: 28,\n                      fontWeight: FontWeight.w600,\n                      color: colors.text,\n                    ),\n                    textAlign: TextAlign.center,\n                  ),\n                ],\n              ),\n            ),\n          ),\n        ),\n\n        // Genre tags\n        if (data.genres.isNotEmpty)\n          Layer(\n            child: AnimatedProp(\n              startFrame: timingConfig.startDelay + 90,\n              duration: 30,\n              animation: PropAnimation.fadeIn(),\n              child: Positioned(\n                bottom: 100,\n                left: 40,\n                right: 40,\n                child: Wrap(\n                  alignment: WrapAlignment.center,\n                  spacing: 12,\n                  children: data.genres.map((genre) {\n                    return Container(\n                      padding: const EdgeInsets.symmetric(\n                        horizontal: 16,\n                        vertical: 8,\n                      ),\n                      decoration: BoxDecoration(\n                        color: colors.accent.withOpacity(0.2),\n                        borderRadius: BorderRadius.circular(20),\n                        border: Border.all(color: colors.accent),\n                      ),\n                      child: Text(\n                        genre,\n                        style: TextStyle(\n                          color: colors.accent,\n                          fontSize: 14,\n                        ),\n                      ),\n                    );\n                  }).toList(),\n                ),\n              ),\n            ),\n          ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"extending/custom-templates/#step-3-usage","title":"Step 3: Usage","text":"<pre><code>final artistScene = FeaturedArtist(\n  data: FeaturedArtistData(\n    artistName: 'Taylor Swift',\n    artistImage: 'assets/taylor.jpg',\n    topSong: 'Anti-Hero',\n    playCount: 1234567,\n    genres: ['Pop', 'Country', 'Indie'],\n  ),\n  theme: TemplateTheme.spotify,\n  timing: TemplateTiming.dramatic,\n).toScene(\n  transitionIn: SceneTransition.fade(),\n  transitionOut: SceneTransition.slideLeft(),\n);\n</code></pre>"},{"location":"extending/custom-templates/#data-contracts","title":"Data Contracts","text":""},{"location":"extending/custom-templates/#design-principles","title":"Design Principles","text":"<ol> <li>Required vs Optional: Make essential fields required, extras optional</li> <li>Sensible Defaults: Provide defaults where appropriate</li> <li>Type Safety: Use proper types (not just strings)</li> <li>Validation: Validate data in constructors if needed</li> </ol>"},{"location":"extending/custom-templates/#example-data-contracts","title":"Example Data Contracts","text":"<pre><code>/// For countdown/list templates\nclass CountdownData {\n  final List&lt;CountdownItem&gt; items;\n  final String? title;\n  final String? subtitle;\n\n  const CountdownData({\n    required this.items,\n    this.title,\n    this.subtitle,\n  }) : assert(items.length &gt;= 3, 'Need at least 3 items');\n}\n\nclass CountdownItem {\n  final int rank;\n  final String name;\n  final String? image;\n  final String? metric;\n\n  const CountdownItem({\n    required this.rank,\n    required this.name,\n    this.image,\n    this.metric,\n  });\n}\n\n/// For stat display templates\nclass StatsData {\n  final String title;\n  final List&lt;StatMetric&gt; metrics;\n\n  const StatsData({\n    required this.title,\n    required this.metrics,\n  });\n}\n\nclass StatMetric {\n  final String label;\n  final num value;\n  final String? unit;\n  final String? icon;\n\n  const StatMetric({\n    required this.label,\n    required this.value,\n    this.unit,\n    this.icon,\n  });\n}\n</code></pre>"},{"location":"extending/custom-templates/#theming","title":"Theming","text":""},{"location":"extending/custom-templates/#templatetheme","title":"TemplateTheme","text":"<pre><code>class TemplateTheme {\n  final ColorPalette colorPalette;\n  final Typography typography;\n  final ShapeStyle shapeStyle;\n\n  const TemplateTheme({\n    required this.colorPalette,\n    required this.typography,\n    required this.shapeStyle,\n  });\n\n  // Built-in themes\n  static const neon = TemplateTheme(/* ... */);\n  static const spotify = TemplateTheme(/* ... */);\n  static const minimal = TemplateTheme(/* ... */);\n  static const retro = TemplateTheme(/* ... */);\n}\n\nclass ColorPalette {\n  final Color primary;\n  final Color secondary;\n  final Color accent;\n  final Color text;\n  final Color background;\n\n  const ColorPalette({\n    required this.primary,\n    required this.secondary,\n    required this.accent,\n    required this.text,\n    required this.background,\n  });\n}\n</code></pre>"},{"location":"extending/custom-templates/#using-themes-in-templates","title":"Using Themes in Templates","text":"<pre><code>@override\nWidget build(BuildContext context) {\n  // Get theme with fallback\n  final colors = theme?.colorPalette ?? TemplateTheme.neon.colorPalette;\n  final typography = theme?.typography ?? TemplateTheme.neon.typography;\n\n  return Container(\n    color: colors.background,\n    child: Text(\n      data.title,\n      style: TextStyle(\n        fontFamily: typography.headingFont,\n        fontSize: typography.headingSize,\n        color: colors.text,\n      ),\n    ),\n  );\n}\n</code></pre>"},{"location":"extending/custom-templates/#custom-theme","title":"Custom Theme","text":"<pre><code>final customTheme = TemplateTheme(\n  colorPalette: ColorPalette(\n    primary: const Color(0xFF6C63FF),\n    secondary: const Color(0xFF3F3D56),\n    accent: const Color(0xFFFF6584),\n    text: Colors.white,\n    background: const Color(0xFF1A1A2E),\n  ),\n  typography: Typography(\n    headingFont: 'Montserrat',\n    bodyFont: 'Open Sans',\n    headingSize: 48,\n    bodySize: 18,\n  ),\n  shapeStyle: ShapeStyle(\n    borderRadius: 16,\n    shadowBlur: 20,\n  ),\n);\n</code></pre>"},{"location":"extending/custom-templates/#timing","title":"Timing","text":""},{"location":"extending/custom-templates/#templatetiming","title":"TemplateTiming","text":"<pre><code>class TemplateTiming {\n  final int startDelay;        // Frames before first animation\n  final int elementStagger;    // Frames between element animations\n  final int animationDuration; // Default animation length\n  final Curve animationCurve;  // Default easing\n\n  const TemplateTiming({\n    this.startDelay = 15,\n    this.elementStagger = 10,\n    this.animationDuration = 30,\n    this.animationCurve = Curves.easeOutCubic,\n  });\n\n  // Presets\n  static const standard = TemplateTiming();\n  static const dramatic = TemplateTiming(\n    startDelay: 30,\n    elementStagger: 20,\n    animationDuration: 45,\n    animationCurve: Curves.easeInOutCubic,\n  );\n  static const snappy = TemplateTiming(\n    startDelay: 10,\n    elementStagger: 5,\n    animationDuration: 15,\n    animationCurve: Curves.easeOut,\n  );\n}\n</code></pre>"},{"location":"extending/custom-templates/#using-timing-in-templates","title":"Using Timing in Templates","text":"<pre><code>@override\nWidget build(BuildContext context) {\n  final t = timing ?? TemplateTiming.standard;\n\n  return VColumn(\n    stagger: StaggerConfig(\n      delayBetweenItems: t.elementStagger,\n      animation: PropAnimation.slideUp(\n        duration: t.animationDuration,\n        curve: t.animationCurve,\n      ),\n    ),\n    children: [\n      // Element 1: starts at t.startDelay\n      AnimatedProp(\n        startFrame: t.startDelay,\n        duration: t.animationDuration,\n        animation: PropAnimation.fadeIn(curve: t.animationCurve),\n        child: Text(data.title),\n      ),\n      // Element 2: starts at t.startDelay + t.elementStagger\n      // ... and so on\n    ],\n  );\n}\n</code></pre>"},{"location":"extending/custom-templates/#testing-templates","title":"Testing Templates","text":""},{"location":"extending/custom-templates/#basic-template-test","title":"Basic Template Test","text":"<pre><code>void main() {\n  group('FeaturedArtist', () {\n    testWidgets('renders with minimal data', (tester) async {\n      await tester.pumpWidget(\n        MaterialApp(\n          home: RenderModeProvider(\n            frameNotifier: FrameReadyNotifier(0),\n            child: FeaturedArtist(\n              data: FeaturedArtistData(\n                artistName: 'Test Artist',\n                topSong: 'Test Song',\n                playCount: 1000,\n              ),\n            ),\n          ),\n        ),\n      );\n\n      expect(find.text('Test Artist'), findsOneWidget);\n      expect(find.text('Test Song'), findsOneWidget);\n    });\n\n    testWidgets('applies theme colors', (tester) async {\n      await tester.pumpWidget(\n        MaterialApp(\n          home: RenderModeProvider(\n            frameNotifier: FrameReadyNotifier(0),\n            child: FeaturedArtist(\n              data: FeaturedArtistData(\n                artistName: 'Test',\n                topSong: 'Song',\n                playCount: 100,\n              ),\n              theme: TemplateTheme.spotify,\n            ),\n          ),\n        ),\n      );\n\n      // Verify theme is applied\n      final container = tester.widget&lt;Container&gt;(find.byType(Container).first);\n      expect(container.color, equals(TemplateTheme.spotify.colorPalette.background));\n    });\n  });\n}\n</code></pre>"},{"location":"extending/custom-templates/#animation-timeline-test","title":"Animation Timeline Test","text":"<pre><code>testWidgets('animations follow timing config', (tester) async {\n  final frameNotifier = FrameReadyNotifier(0);\n  final timing = TemplateTiming(startDelay: 30);\n\n  await tester.pumpWidget(\n    MaterialApp(\n      home: RenderModeProvider(\n        frameNotifier: frameNotifier,\n        child: FeaturedArtist(\n          data: testData,\n          timing: timing,\n        ),\n      ),\n    ),\n  );\n\n  // Before start delay - should not be visible\n  frameNotifier.setFrame(0);\n  await tester.pump();\n  expect(find.text(testData.artistName).evaluate().first.renderObject!.paintBounds.isEmpty, isTrue);\n\n  // After animation - should be visible\n  frameNotifier.setFrame(100);\n  await tester.pump();\n  expect(find.text(testData.artistName), findsOneWidget);\n});\n</code></pre>"},{"location":"extending/custom-templates/#examples","title":"Examples","text":""},{"location":"extending/custom-templates/#complete-template-example","title":"Complete Template Example","text":"<pre><code>/// A template showing a \"Year in Review\" title card\nclass YearInReviewIntro extends WrappedTemplate&lt;YearIntroData&gt; {\n  const YearInReviewIntro({\n    super.key,\n    required super.data,\n    super.theme,\n    super.timing,\n  });\n\n  @override\n  TemplateCategory get category =&gt; TemplateCategory.intro;\n\n  @override\n  int get recommendedLength =&gt; 120;\n\n  @override\n  Widget build(BuildContext context) {\n    final colors = theme?.colorPalette ?? TemplateTheme.neon.colorPalette;\n    final t = timing ?? TemplateTiming.dramatic;\n\n    return LayerStack(\n      children: [\n        // Animated gradient background\n        Layer(\n          child: TimeConsumer(\n            builder: (context, frame, _) {\n              final hue = (frame * 0.5) % 360;\n              return Background(\n                colors: [\n                  HSLColor.fromAHSL(1, hue, 0.8, 0.3).toColor(),\n                  HSLColor.fromAHSL(1, (hue + 60) % 360, 0.8, 0.2).toColor(),\n                ],\n              );\n            },\n          ),\n        ),\n\n        // Year number\n        Layer(\n          child: VCenter(\n            child: VColumn(\n              children: [\n                AnimatedProp(\n                  startFrame: t.startDelay,\n                  duration: 60,\n                  animation: PropAnimation.combine([\n                    PropAnimation.scale(from: 3.0, to: 1.0),\n                    PropAnimation.fadeIn(),\n                  ]),\n                  child: Text(\n                    '${data.year}',\n                    style: TextStyle(\n                      fontSize: 200,\n                      fontWeight: FontWeight.w900,\n                      color: colors.text,\n                    ),\n                  ),\n                ),\n                AnimatedProp(\n                  startFrame: t.startDelay + 30,\n                  duration: 30,\n                  animation: PropAnimation.slideUp(distance: 30),\n                  child: Text(\n                    'WRAPPED',\n                    style: TextStyle(\n                      fontSize: 48,\n                      letterSpacing: 20,\n                      color: colors.accent,\n                    ),\n                  ),\n                ),\n              ],\n            ),\n          ),\n        ),\n\n        // Particle overlay\n        Layer(\n          child: ParticleEffect.sparkles(\n            startFrame: t.startDelay,\n            color: colors.accent,\n          ),\n        ),\n      ],\n    );\n  }\n}\n\nclass YearIntroData {\n  final int year;\n  final String? username;\n\n  const YearIntroData({\n    required this.year,\n    this.username,\n  });\n}\n</code></pre>"},{"location":"extending/custom-templates/#related","title":"Related","text":"<ul> <li>Templates Overview - Built-in templates</li> <li>Using Templates - Template usage guide</li> <li>Custom Animations - Animation system</li> <li>Custom Effects - Effect system</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Go from zero to your first video in minutes</p> <p>This section guides you through setting up Fluvie and creating your first animated video.</p>"},{"location":"getting-started/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Installation - Add Fluvie to your project</li> <li>FFmpeg Setup - Configure video encoding</li> <li>First Video - Build a complete animated video</li> </ul>"},{"location":"getting-started/#quick-start","title":"Quick Start","text":""},{"location":"getting-started/#1-add-the-package","title":"1. Add the Package","text":"<pre><code># pubspec.yaml\ndependencies:\n  fluvie: ^1.0.0\n</code></pre>"},{"location":"getting-started/#2-install-ffmpeg","title":"2. Install FFmpeg","text":"<pre><code># macOS\nbrew install ffmpeg\n\n# Linux\nsudo apt install ffmpeg\n\n# Windows\n# Download from ffmpeg.org and add to PATH\n</code></pre>"},{"location":"getting-started/#3-create-your-first-video","title":"3. Create Your First Video","text":"<pre><code>import 'package:fluvie/declarative.dart';\n\nVideo(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 90, // 3 seconds\n      background: Background.solid(Colors.indigo),\n      children: [\n        VCenter(\n          child: AnimatedText.slideUpFade(\n            'Hello, Fluvie!',\n            style: TextStyle(\n              fontSize: 72,\n              color: Colors.white,\n              fontWeight: FontWeight.bold,\n            ),\n          ),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"getting-started/#whats-next","title":"What's Next?","text":"<p>After completing the getting started guides:</p> <ol> <li>Tutorials - Build complete video projects</li> <li>Widget Reference - Explore all available widgets</li> <li>Examples - See working code examples</li> </ol>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>Before starting, you should have:</p> <ul> <li>Flutter SDK installed (3.16+)</li> <li>Dart SDK (3.2+)</li> <li>Basic Flutter knowledge (widgets, build methods)</li> <li>A code editor (VS Code, Android Studio, etc.)</li> </ul>"},{"location":"getting-started/#platform-support","title":"Platform Support","text":"Platform Status Notes Linux Full Support Best for CI/CD macOS Full Support Development &amp; CI Windows Full Support FFmpeg in PATH required Web Full Support Uses ffmpeg.wasm iOS Custom Provider Requires FFmpegKit Android Custom Provider Requires FFmpegKit <p>See Platform Setup for detailed instructions.</p>"},{"location":"getting-started/#need-help","title":"Need Help?","text":"<ul> <li>GitHub Issues - Report bugs</li> <li>Examples - Working code to reference</li> <li>Contributing - Get support</li> </ul>"},{"location":"getting-started/ffmpeg-setup/","title":"FFmpeg Setup","text":"<p>Configure video encoding for your platform</p> <p>Fluvie uses FFmpeg to encode video output. This guide covers installation and configuration for all supported platforms.</p>"},{"location":"getting-started/ffmpeg-setup/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Quick Install</li> <li>Verifying Installation</li> <li>Platform-Specific Guides</li> <li>Custom FFmpeg Path</li> <li>Troubleshooting</li> </ul>"},{"location":"getting-started/ffmpeg-setup/#quick-install","title":"Quick Install","text":""},{"location":"getting-started/ffmpeg-setup/#macos","title":"macOS","text":"<p>Using Homebrew:</p> <pre><code>brew install ffmpeg\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#linux-ubuntudebian","title":"Linux (Ubuntu/Debian)","text":"<pre><code>sudo apt update\nsudo apt install ffmpeg\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#linux-fedora","title":"Linux (Fedora)","text":"<pre><code>sudo dnf install ffmpeg\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#linux-arch","title":"Linux (Arch)","text":"<pre><code>sudo pacman -S ffmpeg\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#windows","title":"Windows","text":"<ol> <li>Download from ffmpeg.org</li> <li>Extract to a folder (e.g., <code>C:\\ffmpeg</code>)</li> <li>Add to PATH:</li> <li>Search \"Environment Variables\" in Windows</li> <li>Edit \"Path\" under User or System variables</li> <li>Add <code>C:\\ffmpeg\\bin</code></li> <li>Restart your terminal</li> </ol>"},{"location":"getting-started/ffmpeg-setup/#web","title":"Web","text":"<p>No installation needed! Fluvie uses ffmpeg.wasm automatically.</p> <p>However, your server must send these headers:</p> <pre><code>Cross-Origin-Opener-Policy: same-origin\nCross-Origin-Embedder-Policy: require-corp\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#mobile-iosandroid","title":"Mobile (iOS/Android)","text":"<p>Mobile platforms require a custom FFmpeg provider. See Mobile Setup.</p>"},{"location":"getting-started/ffmpeg-setup/#verifying-installation","title":"Verifying Installation","text":""},{"location":"getting-started/ffmpeg-setup/#command-line-check","title":"Command Line Check","text":"<pre><code>ffmpeg -version\n</code></pre> <p>You should see version information like:</p> <pre><code>ffmpeg version 6.0 Copyright (c) 2000-2023 the FFmpeg developers\nbuilt with Apple clang version 14.0.3\n...\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#from-your-flutter-app","title":"From Your Flutter App","text":"<p>Use <code>FFmpegChecker</code> to verify from Dart:</p> <pre><code>import 'package:fluvie/fluvie.dart';\n\nFuture&lt;void&gt; checkFFmpeg() async {\n  final diagnostics = await FFmpegChecker.check();\n\n  if (diagnostics.isAvailable) {\n    print('\u2705 FFmpeg is available');\n    print('   Provider: ${diagnostics.providerName}');\n    print('   Version: ${diagnostics.version}');\n  } else {\n    print('\u274c FFmpeg not found');\n    print('   Error: ${diagnostics.errorMessage}');\n    print('');\n    print('Installation instructions:');\n    print(diagnostics.installationInstructions);\n  }\n}\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#quick-test-widget","title":"Quick Test Widget","text":"<p>Add a diagnostic button to your app:</p> <pre><code>ElevatedButton(\n  child: Text('Check FFmpeg'),\n  onPressed: () async {\n    final diagnostics = await FFmpegChecker.check();\n\n    showDialog(\n      context: context,\n      builder: (context) =&gt; AlertDialog(\n        title: Text(diagnostics.isAvailable ? 'FFmpeg Ready' : 'FFmpeg Missing'),\n        content: Text(\n          diagnostics.isAvailable\n              ? 'Provider: ${diagnostics.providerName}'\n              : diagnostics.installationInstructions,\n        ),\n      ),\n    );\n  },\n)\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#platform-specific-guides","title":"Platform-Specific Guides","text":"<p>For detailed setup instructions:</p> Platform Guide Linux Linux Setup macOS macOS Setup Windows Windows Setup Web Web Setup Mobile Mobile Setup"},{"location":"getting-started/ffmpeg-setup/#custom-ffmpeg-path","title":"Custom FFmpeg Path","text":"<p>If FFmpeg is installed in a non-standard location, configure the path:</p>"},{"location":"getting-started/ffmpeg-setup/#global-configuration","title":"Global Configuration","text":"<pre><code>import 'package:fluvie/fluvie.dart';\n\nvoid main() {\n  FluvieConfig.configure(\n    ffmpegPath: '/opt/local/bin/ffmpeg',\n    ffprobePath: '/opt/local/bin/ffprobe',\n  );\n\n  runApp(MyApp());\n}\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#common-custom-paths","title":"Common Custom Paths","text":"Platform Location macOS (Homebrew ARM) <code>/opt/homebrew/bin/ffmpeg</code> macOS (Homebrew Intel) <code>/usr/local/bin/ffmpeg</code> Linux (snap) <code>/snap/bin/ffmpeg</code> Windows <code>C:\\ffmpeg\\bin\\ffmpeg.exe</code>"},{"location":"getting-started/ffmpeg-setup/#finding-your-ffmpeg-path","title":"Finding Your FFmpeg Path","text":"<pre><code># macOS/Linux\nwhich ffmpeg\n\n# Windows\nwhere ffmpeg\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#ffmpeg-providers","title":"FFmpeg Providers","text":"<p>Fluvie uses a provider system to abstract FFmpeg integration:</p>"},{"location":"getting-started/ffmpeg-setup/#processffmpegprovider-desktop","title":"ProcessFFmpegProvider (Desktop)","text":"<p>Default for Linux, macOS, Windows. Runs FFmpeg as a child process.</p> <pre><code>// Automatically selected on desktop\nFFmpegProviderRegistry.provider; // ProcessFFmpegProvider\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#wasmffmpegprovider-web","title":"WasmFFmpegProvider (Web)","text":"<p>Default for web. Uses ffmpeg.wasm in the browser.</p> <pre><code>// Automatically selected on web\nFFmpegProviderRegistry.provider; // WasmFFmpegProvider\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#custom-provider-mobile","title":"Custom Provider (Mobile)","text":"<p>For iOS/Android, you must provide a custom implementation:</p> <pre><code>// In your app's main.dart\nimport 'package:fluvie/fluvie.dart';\nimport 'your_ffmpeg_kit_provider.dart';\n\nvoid main() {\n  FFmpegProviderRegistry.setProvider(FFmpegKitProvider());\n  runApp(MyApp());\n}\n</code></pre> <p>See Custom FFmpeg Provider for implementation details.</p>"},{"location":"getting-started/ffmpeg-setup/#recommended-ffmpeg-version","title":"Recommended FFmpeg Version","text":"<p>Fluvie works with FFmpeg 4.0 and later. Recommended:</p> Version Status 4.x Supported 5.x Supported 6.x Recommended 7.x Supported"},{"location":"getting-started/ffmpeg-setup/#required-features","title":"Required Features","text":"<p>Fluvie requires these FFmpeg features (included in standard builds):</p> <ul> <li>libx264 (H.264 encoding)</li> <li>libx265 (H.265 encoding, optional)</li> <li>aac (audio encoding)</li> <li>rawvideo (frame input)</li> <li>filter_complex (audio/video filtering)</li> </ul> <p>Check available encoders:</p> <pre><code>ffmpeg -encoders | grep -E \"264|265|aac\"\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/ffmpeg-setup/#ffmpeg-not-found","title":"\"FFmpeg not found\"","text":"<p>Symptoms: <code>FFmpegChecker.check()</code> returns <code>isAvailable: false</code></p> <p>Solutions:</p> <ol> <li> <p>Verify installation:    <pre><code>ffmpeg -version\n</code></pre></p> </li> <li> <p>Check PATH:    <pre><code>echo $PATH  # macOS/Linux\necho %PATH% # Windows\n</code></pre></p> </li> <li> <p>Restart your terminal/IDE after installation</p> </li> <li> <p>Set explicit path:    <pre><code>FluvieConfig.configure(ffmpegPath: '/path/to/ffmpeg');\n</code></pre></p> </li> </ol>"},{"location":"getting-started/ffmpeg-setup/#permission-denied","title":"\"Permission denied\"","text":"<p>Symptoms: FFmpeg fails to write output files</p> <p>Solutions:</p> <ol> <li>Check output directory exists</li> <li>Check write permissions</li> <li>Try a different output path:    <pre><code>final outputPath = '${Directory.systemTemp.path}/output.mp4';\n</code></pre></li> </ol>"},{"location":"getting-started/ffmpeg-setup/#codec-not-found","title":"\"Codec not found\"","text":"<p>Symptoms: Error about missing libx264 or other codec</p> <p>Solutions:</p> <ol> <li>Install a full FFmpeg build (not minimal)</li> <li>macOS: <code>brew install ffmpeg</code> (includes all codecs)</li> <li>Linux: <code>sudo apt install ffmpeg</code> (includes common codecs)</li> </ol>"},{"location":"getting-started/ffmpeg-setup/#web-sharedarraybuffer-is-not-defined","title":"Web: \"SharedArrayBuffer is not defined\"","text":"<p>Symptoms: ffmpeg.wasm fails to load</p> <p>Solutions:</p> <p>Add required headers to your web server:</p> <pre><code>Cross-Origin-Opener-Policy: same-origin\nCross-Origin-Embedder-Policy: require-corp\n</code></pre> <p>For local development with <code>flutter run</code>:</p> <pre><code>flutter run -d chrome --web-browser-flag \"--enable-features=SharedArrayBuffer\"\n</code></pre>"},{"location":"getting-started/ffmpeg-setup/#slow-encoding","title":"Slow Encoding","text":"<p>Symptoms: Video export takes very long</p> <p>Solutions:</p> <ol> <li> <p>Use raw RGBA format (faster than PNG):    <pre><code>encoding: EncodingConfig(\n  frameFormat: FrameFormat.rawRgba,\n)\n</code></pre></p> </li> <li> <p>Lower quality for testing:    <pre><code>encoding: EncodingConfig(\n  quality: RenderQuality.low,\n)\n</code></pre></p> </li> <li> <p>Reduce resolution during development:    <pre><code>Video(\n  width: 960,  // Half resolution\n  height: 540,\n)\n</code></pre></p> </li> </ol>"},{"location":"getting-started/ffmpeg-setup/#next-steps","title":"Next Steps","text":"<ol> <li>First Video - Create your first video</li> <li>Encoding Settings - Fine-tune output</li> </ol>"},{"location":"getting-started/ffmpeg-setup/#related-documentation","title":"Related Documentation","text":"<ul> <li>Platform Setup Overview</li> <li>Custom FFmpeg Provider</li> <li>Encoding Settings</li> </ul>"},{"location":"getting-started/first-video/","title":"Your First Video","text":"<p>Create a complete animated video from scratch</p> <p>This guide walks you through building a simple but complete video with animated text, a gradient background, and smooth transitions.</p>"},{"location":"getting-started/first-video/#table-of-contents","title":"Table of Contents","text":"<ul> <li>What We'll Build</li> <li>Step 1: Create the Widget</li> <li>Step 2: Add a Scene</li> <li>Step 3: Add Animated Text</li> <li>Step 4: Add a Second Scene</li> <li>Step 5: Preview Your Video</li> <li>Step 6: Export the Video</li> <li>Complete Code</li> </ul>"},{"location":"getting-started/first-video/#what-well-build","title":"What We'll Build","text":"<p>A 6-second video with: - Scene 1: Animated title on a gradient background - Scene 2: Closing message with fade transition</p> <p>The final result will look something like:</p> <pre><code>[0-3s]  Purple gradient \u2192 \"Hello, World!\" slides up\n[3-6s]  Blue gradient \u2192 \"Made with Fluvie\" fades in\n</code></pre>"},{"location":"getting-started/first-video/#step-1-create-the-widget","title":"Step 1: Create the Widget","text":"<p>Start with the basic <code>Video</code> widget. This is the root of your composition:</p> <pre><code>import 'package:flutter/material.dart';\nimport 'package:fluvie/declarative.dart';\n\nclass MyFirstVideo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Video(\n      fps: 30,           // 30 frames per second\n      width: 1920,       // Full HD width\n      height: 1080,      // Full HD height\n      scenes: [\n        // We'll add scenes here\n      ],\n    );\n  }\n}\n</code></pre> <p>Key points: - <code>fps: 30</code> means 30 frames per second (standard for most videos) - <code>width</code> and <code>height</code> set the output resolution - <code>scenes</code> is a list of <code>Scene</code> widgets</p>"},{"location":"getting-started/first-video/#step-2-add-a-scene","title":"Step 2: Add a Scene","text":"<p>Add your first scene with a gradient background:</p> <pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 90, // 90 frames = 3 seconds at 30fps\n      background: Background.gradient(\n        colors: {\n          0: Color(0xFF6366F1),   // Indigo at start\n          90: Color(0xFF8B5CF6),  // Purple at end\n        },\n        begin: Alignment.topLeft,\n        end: Alignment.bottomRight,\n      ),\n      children: [\n        // Content goes here\n      ],\n    ),\n  ],\n)\n</code></pre> <p>Key points: - <code>length: 90</code> = 3 seconds at 30fps (90 \u00f7 30 = 3) - <code>Background.gradient</code> animates between colors over the scene duration - The color keys (0, 90) are frame numbers</p>"},{"location":"getting-started/first-video/#step-3-add-animated-text","title":"Step 3: Add Animated Text","text":"<p>Add a title that slides up and fades in:</p> <pre><code>Scene(\n  durationInFrames: 90,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF6366F1),\n      90: Color(0xFF8B5CF6),\n    },\n    begin: Alignment.topLeft,\n    end: Alignment.bottomRight,\n  ),\n  children: [\n    // Center the content\n    VCenter(\n      child: Column(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          // Main title - slides up and fades in\n          AnimatedText.slideUpFade(\n            'Hello, World!',\n            startFrame: 10,     // Start at frame 10\n            duration: 30,       // Animate over 30 frames (1 second)\n            style: TextStyle(\n              fontSize: 96,\n              fontWeight: FontWeight.bold,\n              color: Colors.white,\n            ),\n          ),\n          SizedBox(height: 24),\n          // Subtitle - appears after the title\n          AnimatedText.fadeIn(\n            'Your first Fluvie video',\n            startFrame: 40,     // Start after title finishes\n            duration: 20,\n            style: TextStyle(\n              fontSize: 32,\n              color: Colors.white70,\n            ),\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre> <p>Key points: - <code>VCenter</code> centers content vertically and horizontally - <code>AnimatedText.slideUpFade</code> combines slide and fade animations - <code>startFrame</code> controls when the animation begins - <code>duration</code> controls how long the animation takes</p>"},{"location":"getting-started/first-video/#step-4-add-a-second-scene","title":"Step 4: Add a Second Scene","text":"<p>Add a closing scene with a transition:</p> <pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  defaultTransition: SceneTransition.crossFade(durationInFrames: 15),\n  scenes: [\n    // Scene 1 (from Step 3)\n    Scene(\n      durationInFrames: 90,\n      // ... (previous scene content)\n    ),\n\n    // Scene 2 - Outro\n    Scene(\n      durationInFrames: 90,\n      background: Background.gradient(\n        colors: {\n          0: Color(0xFF0EA5E9),   // Sky blue\n          90: Color(0xFF0284C7),  // Darker blue\n        },\n        begin: Alignment.topCenter,\n        end: Alignment.bottomCenter,\n      ),\n      children: [\n        VCenter(\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: [\n              // Sparkle effect\n              AnimatedProp(\n                startFrame: 5,\n                duration: 30,\n                animation: PropAnimation.combine([\n                  PropAnimation.zoomIn(start: 0.5),\n                  PropAnimation.fadeIn(),\n                ]),\n                child: Icon(\n                  Icons.auto_awesome,\n                  size: 80,\n                  color: Colors.white,\n                ),\n              ),\n              SizedBox(height: 32),\n              // Closing text\n              AnimatedText.scaleFade(\n                'Made with Fluvie',\n                startFrame: 30,\n                duration: 25,\n                startScale: 0.8,\n                style: TextStyle(\n                  fontSize: 64,\n                  fontWeight: FontWeight.w600,\n                  color: Colors.white,\n                ),\n              ),\n            ],\n          ),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre> <p>Key points: - <code>defaultTransition</code> applies between all scenes - <code>SceneTransition.crossFade</code> fades between scenes - <code>AnimatedProp</code> allows combining multiple animations - <code>PropAnimation.combine</code> merges scale and fade effects</p>"},{"location":"getting-started/first-video/#step-5-preview-your-video","title":"Step 5: Preview Your Video","text":""},{"location":"getting-started/first-video/#add-to-your-app","title":"Add to Your App","text":"<p>Create a simple app to preview:</p> <pre><code>// lib/main.dart\nimport 'package:flutter/material.dart';\nimport 'my_first_video.dart';\n\nvoid main() {\n  runApp(MaterialApp(\n    home: Scaffold(\n      backgroundColor: Colors.black,\n      body: Center(\n        child: AspectRatio(\n          aspectRatio: 16 / 9,\n          child: MyFirstVideo(),\n        ),\n      ),\n    ),\n  ));\n}\n</code></pre>"},{"location":"getting-started/first-video/#run-the-preview","title":"Run the Preview","text":"<pre><code>flutter run\n</code></pre> <p>Your video will play in preview mode, looping automatically.</p>"},{"location":"getting-started/first-video/#preview-controls-optional","title":"Preview Controls (Optional)","text":"<p>Add playback controls for better development:</p> <pre><code>class VideoPreview extends StatefulWidget {\n  @override\n  State&lt;VideoPreview&gt; createState() =&gt; _VideoPreviewState();\n}\n\nclass _VideoPreviewState extends State&lt;VideoPreview&gt; {\n  bool isPlaying = true;\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        Expanded(\n          child: MyFirstVideo(),\n        ),\n        Padding(\n          padding: EdgeInsets.all(16),\n          child: Row(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              IconButton(\n                icon: Icon(\n                  isPlaying ? Icons.pause : Icons.play_arrow,\n                  color: Colors.white,\n                ),\n                onPressed: () {\n                  setState(() =&gt; isPlaying = !isPlaying);\n                },\n              ),\n            ],\n          ),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"getting-started/first-video/#step-6-export-the-video","title":"Step 6: Export the Video","text":""},{"location":"getting-started/first-video/#option-a-export-button-in-app","title":"Option A: Export Button in App","text":"<p>Add an export button:</p> <pre><code>ElevatedButton(\n  child: Text('Export Video'),\n  onPressed: () async {\n    // Show loading indicator\n    showDialog(\n      context: context,\n      barrierDismissible: false,\n      builder: (context) =&gt; AlertDialog(\n        content: Row(\n          children: [\n            CircularProgressIndicator(),\n            SizedBox(width: 16),\n            Text('Rendering...'),\n          ],\n        ),\n      ),\n    );\n\n    // Render the video\n    final renderService = RenderService();\n    final outputPath = await renderService.execute(\n      context: context,\n      outputPath: 'output/my_first_video.mp4',\n      onFrameUpdate: (frame) async {\n        await Future.delayed(Duration(milliseconds: 16));\n      },\n    );\n\n    // Close dialog\n    Navigator.pop(context);\n\n    // Show success\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(content: Text('Saved to: $outputPath')),\n    );\n  },\n)\n</code></pre>"},{"location":"getting-started/first-video/#option-b-export-via-test-recommended","title":"Option B: Export via Test (Recommended)","text":"<p>Create a test file for automated rendering:</p> <pre><code>// test/render_first_video_test.dart\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:fluvie/fluvie.dart';\nimport 'package:your_app/my_first_video.dart';\n\nvoid main() {\n  testWidgets('Render first video', (tester) async {\n    // Build the video\n    await tester.pumpWidget(\n      MaterialApp(\n        home: Scaffold(\n          body: MyFirstVideo(),\n        ),\n      ),\n    );\n    await tester.pumpAndSettle();\n\n    // Get context and render\n    final context = tester.element(find.byType(Video));\n    final renderService = RenderService();\n\n    final outputPath = await renderService.execute(\n      context: context,\n      outputPath: 'output/my_first_video.mp4',\n      onFrameUpdate: (frame) async {\n        await tester.pump();\n      },\n      onProgress: (progress) {\n        print('Rendering: ${(progress * 100).toStringAsFixed(0)}%');\n      },\n    );\n\n    print('\u2705 Video saved to: $outputPath');\n  });\n}\n</code></pre> <p>Run the test:</p> <pre><code>flutter test test/render_first_video_test.dart\n</code></pre>"},{"location":"getting-started/first-video/#complete-code","title":"Complete Code","text":"<p>Here's the complete <code>MyFirstVideo</code> widget:</p> <pre><code>import 'package:flutter/material.dart';\nimport 'package:fluvie/declarative.dart';\n\nclass MyFirstVideo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Video(\n      fps: 30,\n      width: 1920,\n      height: 1080,\n      defaultTransition: const SceneTransition.crossFade(durationInFrames: 15),\n      scenes: [\n        // Scene 1: Hello World\n        Scene(\n          durationInFrames: 90,\n          background: Background.gradient(\n            colors: {\n              0: const Color(0xFF6366F1),\n              90: const Color(0xFF8B5CF6),\n            },\n            begin: Alignment.topLeft,\n            end: Alignment.bottomRight,\n          ),\n          children: [\n            VCenter(\n              child: Column(\n                mainAxisSize: MainAxisSize.min,\n                children: [\n                  AnimatedText.slideUpFade(\n                    'Hello, World!',\n                    startFrame: 10,\n                    duration: 30,\n                    style: const TextStyle(\n                      fontSize: 96,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.white,\n                    ),\n                  ),\n                  const SizedBox(height: 24),\n                  AnimatedText.fadeIn(\n                    'Your first Fluvie video',\n                    startFrame: 40,\n                    duration: 20,\n                    style: TextStyle(\n                      fontSize: 32,\n                      color: Colors.white.withOpacity(0.7),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          ],\n        ),\n\n        // Scene 2: Made with Fluvie\n        Scene(\n          durationInFrames: 90,\n          background: Background.gradient(\n            colors: {\n              0: const Color(0xFF0EA5E9),\n              90: const Color(0xFF0284C7),\n            },\n            begin: Alignment.topCenter,\n            end: Alignment.bottomCenter,\n          ),\n          children: [\n            VCenter(\n              child: Column(\n                mainAxisSize: MainAxisSize.min,\n                children: [\n                  AnimatedProp(\n                    startFrame: 5,\n                    duration: 30,\n                    animation: PropAnimation.combine([\n                      PropAnimation.zoomIn(start: 0.5),\n                      PropAnimation.fadeIn(),\n                    ]),\n                    child: const Icon(\n                      Icons.auto_awesome,\n                      size: 80,\n                      color: Colors.white,\n                    ),\n                  ),\n                  const SizedBox(height: 32),\n                  AnimatedText.scaleFade(\n                    'Made with Fluvie',\n                    startFrame: 30,\n                    duration: 25,\n                    startScale: 0.8,\n                    style: const TextStyle(\n                      fontSize: 64,\n                      fontWeight: FontWeight.w600,\n                      color: Colors.white,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          ],\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"getting-started/first-video/#whats-next","title":"What's Next?","text":"<p>Congratulations! You've created your first Fluvie video. Here's where to go next:</p> <ol> <li>Simple Animation Tutorial - Add images and music</li> <li>Advanced Composition Tutorial - Multiple scenes, video clips, effects</li> <li>Widget Reference - Explore all available widgets</li> <li>Examples - See production-ready examples</li> </ol>"},{"location":"getting-started/first-video/#tips-for-getting-started","title":"Tips for Getting Started","text":"<ol> <li>Start simple - Get the basics working before adding complexity</li> <li>Preview often - Use hot reload to see changes instantly</li> <li>Think in frames - At 30fps: 30 frames = 1 second</li> <li>Use <code>VCenter</code> - It centers content and handles timing</li> <li>Experiment - Try different animations and see what looks good</li> </ol>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Add Fluvie to your Flutter project</p> <p>This guide walks you through adding Fluvie to your project and configuring it for your needs.</p>"},{"location":"getting-started/installation/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Requirements</li> <li>Adding the Package</li> <li>Import Statements</li> <li>Choosing an API</li> <li>Verifying Installation</li> </ul>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":""},{"location":"getting-started/installation/#flutter-version","title":"Flutter Version","text":"<p>Fluvie requires:</p> <ul> <li>Flutter SDK: 3.16.0 or higher</li> <li>Dart SDK: 3.2.0 or higher</li> </ul> <p>Check your version:</p> <pre><code>flutter --version\n</code></pre>"},{"location":"getting-started/installation/#platform-requirements","title":"Platform Requirements","text":"Platform Additional Requirements Desktop FFmpeg installed in PATH Web Server with CORS headers Mobile FFmpegKit dependency"},{"location":"getting-started/installation/#adding-the-package","title":"Adding the Package","text":""},{"location":"getting-started/installation/#from-pubdev","title":"From pub.dev","text":"<p>Add Fluvie to your <code>pubspec.yaml</code>:</p> <pre><code>dependencies:\n  fluvie: ^1.0.0\n</code></pre> <p>Then run:</p> <pre><code>flutter pub get\n</code></pre>"},{"location":"getting-started/installation/#from-git-latest-development","title":"From Git (Latest Development)","text":"<p>For the latest features (may be unstable):</p> <pre><code>dependencies:\n  fluvie:\n    git:\n      url: https://github.com/simonerich/fluvie.git\n      ref: main\n</code></pre>"},{"location":"getting-started/installation/#from-local-path","title":"From Local Path","text":"<p>If you've cloned the repository:</p> <pre><code>dependencies:\n  fluvie:\n    path: ../path/to/fluvie\n</code></pre>"},{"location":"getting-started/installation/#import-statements","title":"Import Statements","text":"<p>Fluvie provides two main entry points:</p>"},{"location":"getting-started/installation/#declarative-api-recommended","title":"Declarative API (Recommended)","text":"<p>For most use cases, use the declarative API:</p> <pre><code>import 'package:fluvie/declarative.dart';\n</code></pre> <p>This gives you access to: - <code>Video</code> - High-level scene-based composition - <code>Scene</code> - Time-bounded sections - <code>AnimatedText</code>, <code>AnimatedProp</code> - Easy animations - All layout widgets (<code>VStack</code>, <code>VColumn</code>, etc.) - All effects and helpers</p>"},{"location":"getting-started/installation/#full-api","title":"Full API","text":"<p>For low-level control or advanced use cases:</p> <pre><code>import 'package:fluvie/fluvie.dart';\n</code></pre> <p>This gives you everything, including: - <code>VideoComposition</code> - Low-level composition root - <code>RenderService</code> - Direct render control - Domain models (<code>RenderConfig</code>, etc.) - Encoding services</p>"},{"location":"getting-started/installation/#specific-imports","title":"Specific Imports","text":"<p>For minimal imports:</p> <pre><code>// Just the declarative widgets\nimport 'package:fluvie/src/declarative/core/video.dart';\nimport 'package:fluvie/src/declarative/core/scene.dart';\n\n// Just the presentation layer\nimport 'package:fluvie/src/presentation/video_composition.dart';\nimport 'package:fluvie/src/presentation/time_consumer.dart';\n</code></pre>"},{"location":"getting-started/installation/#choosing-an-api","title":"Choosing an API","text":""},{"location":"getting-started/installation/#declarative-api","title":"Declarative API","text":"<p>Use when: - Building Spotify Wrapped-style videos - Creating scene-based compositions - Using pre-built animations and effects - Rapid prototyping</p> <pre><code>import 'package:fluvie/declarative.dart';\n\nVideo(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 90,\n      background: Background.gradient(\n        colors: {0: Colors.purple, 90: Colors.blue},\n      ),\n      children: [\n        VCenter(\n          child: AnimatedText.slideUpFade('Welcome!'),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"getting-started/installation/#full-api-videocomposition","title":"Full API (VideoComposition)","text":"<p>Use when: - Need frame-level control - Building custom rendering pipelines - Integrating with existing state management - Creating reusable animation systems</p> <pre><code>import 'package:fluvie/fluvie.dart';\n\nVideoComposition(\n  fps: 30,\n  durationInFrames: 90,\n  width: 1920,\n  height: 1080,\n  child: TimeConsumer(\n    builder: (context, frame, progress) {\n      return Container(\n        color: Color.lerp(Colors.purple, Colors.blue, progress),\n        child: Center(\n          child: Opacity(\n            opacity: progress,\n            child: Text('Welcome!'),\n          ),\n        ),\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"getting-started/installation/#verifying-installation","title":"Verifying Installation","text":"<p>Create a simple test to verify everything is working:</p>"},{"location":"getting-started/installation/#1-create-a-test-widget","title":"1. Create a Test Widget","text":"<pre><code>// lib/video_test.dart\nimport 'package:flutter/material.dart';\nimport 'package:fluvie/declarative.dart';\n\nclass VideoTest extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Video(\n      fps: 30,\n      width: 800,\n      height: 600,\n      scenes: [\n        Scene(\n          durationInFrames: 60,\n          background: Background.solid(Colors.blue),\n          children: [\n            VCenter(\n              child: AnimatedText.fadeIn(\n                'Fluvie Works!',\n                style: TextStyle(\n                  fontSize: 48,\n                  color: Colors.white,\n                ),\n              ),\n            ),\n          ],\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"getting-started/installation/#2-add-to-your-app","title":"2. Add to Your App","text":"<pre><code>// lib/main.dart\nimport 'package:flutter/material.dart';\nimport 'video_test.dart';\n\nvoid main() {\n  runApp(MaterialApp(\n    home: Scaffold(\n      body: Center(child: VideoTest()),\n    ),\n  ));\n}\n</code></pre>"},{"location":"getting-started/installation/#3-run-the-app","title":"3. Run the App","text":"<pre><code>flutter run\n</code></pre> <p>You should see a blue background with \"Fluvie Works!\" fading in.</p>"},{"location":"getting-started/installation/#4-check-ffmpeg-optional","title":"4. Check FFmpeg (Optional)","text":"<p>Verify FFmpeg is available for rendering:</p> <pre><code>import 'package:fluvie/fluvie.dart';\n\nvoid checkFFmpeg() async {\n  final diagnostics = await FFmpegChecker.check();\n\n  if (diagnostics.isAvailable) {\n    print('FFmpeg ready: ${diagnostics.providerName}');\n  } else {\n    print('FFmpeg not found: ${diagnostics.errorMessage}');\n    print(diagnostics.installationInstructions);\n  }\n}\n</code></pre>"},{"location":"getting-started/installation/#common-issues","title":"Common Issues","text":""},{"location":"getting-started/installation/#package-not-found-error","title":"\"Package not found\" Error","text":"<p>Make sure you ran <code>flutter pub get</code>:</p> <pre><code>flutter pub get\n</code></pre>"},{"location":"getting-started/installation/#import-errors","title":"Import Errors","text":"<p>If imports don't resolve, try:</p> <pre><code>flutter clean\nflutter pub get\n</code></pre>"},{"location":"getting-started/installation/#version-conflicts","title":"Version Conflicts","text":"<p>If you get dependency conflicts, check for compatible versions:</p> <pre><code>flutter pub deps\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ol> <li>FFmpeg Setup - Configure video encoding</li> <li>First Video - Build your first complete video</li> </ol>"},{"location":"getting-started/installation/#related-documentation","title":"Related Documentation","text":"<ul> <li>Platform Setup - Platform-specific configuration</li> <li>Architecture - How Fluvie works</li> </ul>"},{"location":"helpers/","title":"Helper Widgets","text":"<p>Fluvie provides pre-built helper widgets for common video composition patterns like photo displays, statistics, and animated elements.</p>"},{"location":"helpers/#overview","title":"Overview","text":"Widget Description Use Case PolaroidFrame Instant photo style frame Nostalgic photo display PhotoCard Modern photo card with effects Photo galleries StatCard Animated statistic display Metrics, counts FloatingElement Oscillating float animation Dynamic elements KenBurnsImage Cinematic pan and zoom Photo slideshows"},{"location":"helpers/#quick-examples","title":"Quick Examples","text":""},{"location":"helpers/#polaroid-frame","title":"Polaroid Frame","text":"<pre><code>PolaroidFrame(\n  size: Size(300, 350),\n  caption: 'Summer 2024',\n  rotation: 0.05,\n  child: Image.asset('photo.jpg', fit: BoxFit.cover),\n)\n</code></pre>"},{"location":"helpers/#photo-card-with-ken-burns","title":"Photo Card with Ken Burns","text":"<pre><code>PhotoCard.withKenBurns(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  zoomAmount: 0.15,\n  focus: Alignment.center,\n)\n</code></pre>"},{"location":"helpers/#animated-statistic","title":"Animated Statistic","text":"<pre><code>StatCard(\n  value: 1234,\n  label: 'Photos',\n  sublabel: 'This Year',\n  color: Colors.blue,\n  startFrame: 30,\n  countDuration: 60,\n)\n</code></pre>"},{"location":"helpers/#floating-element","title":"Floating Element","text":"<pre><code>FloatingElement(\n  position: Offset(100, 200),\n  floatAmplitude: Offset(0, 10),\n  floatFrequency: 0.5,\n  child: Image.asset('cloud.png'),\n)\n</code></pre>"},{"location":"helpers/#ken-burns-image","title":"Ken Burns Image","text":"<pre><code>KenBurnsImage.zoomAndPan(\n  assetPath: 'assets/landscape.jpg',\n  width: 800,\n  height: 600,\n  startScale: 1.0,\n  endScale: 1.3,\n  from: Alignment.centerLeft,\n  to: Alignment.centerRight,\n)\n</code></pre>"},{"location":"helpers/#common-patterns","title":"Common Patterns","text":""},{"location":"helpers/#photo-gallery","title":"Photo Gallery","text":"<pre><code>Scene(\n  durationInFrames: 300,\n  children: [\n    VRow(\n      spacing: 20,\n      stagger: StaggerConfig.scale(delay: 15),\n      children: [\n        PhotoCard.withKenBurns(\n          assetPath: 'assets/photo1.jpg',\n          width: 280,\n          height: 200,\n        ),\n        PhotoCard.withKenBurns(\n          assetPath: 'assets/photo2.jpg',\n          width: 280,\n          height: 200,\n        ),\n        PhotoCard.withKenBurns(\n          assetPath: 'assets/photo3.jpg',\n          width: 280,\n          height: 200,\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/#statistics-dashboard","title":"Statistics Dashboard","text":"<pre><code>VRow(\n  spacing: 30,\n  stagger: StaggerConfig.slideUp(delay: 15),\n  children: [\n    StatCard(\n      value: 365,\n      label: 'Days',\n      color: Colors.blue,\n      startFrame: 30,\n    ),\n    StatCard(\n      value: 1234,\n      label: 'Photos',\n      color: Colors.green,\n      startFrame: 45,\n    ),\n    StatCard.percentage(\n      value: 95,\n      label: 'Completed',\n      color: Colors.orange,\n      startFrame: 60,\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/#memory-wall","title":"Memory Wall","text":"<pre><code>LayerStack(\n  children: [\n    // Scattered polaroids at different angles\n    VPositioned(\n      left: 50,\n      top: 100,\n      child: PolaroidFrame.tilted(\n        tiltDegrees: -5,\n        caption: 'Beach Day',\n        child: Image.asset('beach.jpg'),\n      ),\n    ),\n    VPositioned(\n      left: 320,\n      top: 80,\n      child: PolaroidFrame.tilted(\n        tiltDegrees: 3,\n        caption: 'Mountains',\n        child: Image.asset('mountains.jpg'),\n      ),\n    ),\n    VPositioned(\n      left: 180,\n      top: 350,\n      child: PolaroidFrame.tilted(\n        tiltDegrees: -2,\n        caption: 'City Lights',\n        child: Image.asset('city.jpg'),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/#floating-decorations","title":"Floating Decorations","text":"<pre><code>Scene(\n  durationInFrames: 300,\n  children: [\n    // Main content\n    VCenter(child: MainContent()),\n\n    // Floating decorative elements\n    FloatingElement(\n      position: Offset(100, 150),\n      floatAmplitude: Offset(5, 12),\n      floatPhase: 0.0,\n      child: Icon(Icons.star, size: 32, color: Colors.yellow),\n    ),\n    FloatingElement(\n      position: Offset(800, 200),\n      floatAmplitude: Offset(8, 10),\n      floatPhase: 0.3,\n      child: Icon(Icons.star, size: 24, color: Colors.yellow),\n    ),\n    FloatingElement(\n      position: Offset(600, 450),\n      floatAmplitude: Offset(6, 15),\n      floatPhase: 0.6,\n      child: Icon(Icons.star, size: 28, color: Colors.yellow),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/#related","title":"Related","text":"<ul> <li>Collage - Photo grid layouts</li> <li>EmbeddedVideo - Video clips</li> <li>PropAnimation - Custom animations</li> </ul>"},{"location":"helpers/floating-element/","title":"FloatingElement","text":"<p>Oscillating float animation for dynamic elements</p> <p><code>FloatingElement</code> creates a natural floating effect by combining vertical oscillation with optional rotation, perfect for clouds, decorative elements, or attention-grabbing content.</p>"},{"location":"helpers/floating-element/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"helpers/floating-element/#overview","title":"Overview","text":"<p>Create gently floating elements:</p> <pre><code>FloatingElement(\n  position: Offset(100, 200),\n  floatAmplitude: Offset(0, 10),\n  floatFrequency: 0.5,\n  child: Image.asset('cloud.png'),\n)\n</code></pre> <p>The element oscillates using a sine wave for smooth, natural motion.</p>"},{"location":"helpers/floating-element/#properties","title":"Properties","text":"Property Type Default Description <code>child</code> <code>Widget</code> required Widget to float <code>position</code> <code>Offset</code> <code>Offset.zero</code> Base position <code>floatAmplitude</code> <code>Offset</code> <code>Offset(0, 10)</code> Movement range (x, y) <code>floatFrequency</code> <code>double</code> <code>0.5</code> Cycles per second <code>floatPhase</code> <code>double</code> <code>0.0</code> Phase offset (0.0 - 1.0) <code>rotation</code> <code>double</code> <code>0.0</code> Base rotation (radians) <code>rotationAmplitude</code> <code>double</code> <code>0.0</code> Rotation oscillation (radians) <code>showShadow</code> <code>bool</code> <code>false</code> Show drop shadow <code>shadowBlur</code> <code>double</code> <code>10</code> Shadow blur radius <code>shadowOffset</code> <code>Offset</code> <code>Offset(0, 5)</code> Shadow position <code>shadowColor</code> <code>Color</code> black 25% Shadow color"},{"location":"helpers/floating-element/#constructors","title":"Constructors","text":""},{"location":"helpers/floating-element/#default-constructor","title":"Default Constructor","text":"<p>Full control:</p> <pre><code>FloatingElement(\n  child: MyWidget(),\n  position: Offset(100, 200),\n  floatAmplitude: Offset(5, 12),\n  floatFrequency: 0.4,\n  floatPhase: 0.0,\n)\n</code></pre>"},{"location":"helpers/floating-element/#floatingelementwithrotation","title":"FloatingElement.withRotation","text":"<p>Adds gentle rotation oscillation:</p> <pre><code>FloatingElement.withRotation(\n  child: Image.asset('leaf.png'),\n  position: Offset(100, 200),\n  floatAmplitude: Offset(0, 8),\n  floatFrequency: 0.4,\n  rotationDegrees: 3.0,  // Oscillate \u00b13 degrees\n)\n</code></pre>"},{"location":"helpers/floating-element/#examples","title":"Examples","text":""},{"location":"helpers/floating-element/#basic-float","title":"Basic Float","text":"<pre><code>FloatingElement(\n  position: Offset(100, 200),\n  floatAmplitude: Offset(0, 15),\n  floatFrequency: 0.5,\n  child: Image.asset('assets/cloud.png'),\n)\n</code></pre>"},{"location":"helpers/floating-element/#horizontal-float","title":"Horizontal Float","text":"<pre><code>FloatingElement(\n  position: Offset(400, 300),\n  floatAmplitude: Offset(20, 0),  // X movement only\n  floatFrequency: 0.3,\n  child: Icon(Icons.arrow_forward, size: 48),\n)\n</code></pre>"},{"location":"helpers/floating-element/#combined-movement","title":"Combined Movement","text":"<pre><code>FloatingElement(\n  position: Offset(200, 200),\n  floatAmplitude: Offset(10, 15),  // Both X and Y\n  floatFrequency: 0.4,\n  child: Icon(Icons.star, size: 48, color: Colors.yellow),\n)\n</code></pre>"},{"location":"helpers/floating-element/#with-rotation","title":"With Rotation","text":"<pre><code>FloatingElement.withRotation(\n  position: Offset(300, 250),\n  floatAmplitude: Offset(5, 10),\n  floatFrequency: 0.35,\n  rotationDegrees: 5.0,\n  child: Image.asset('assets/balloon.png', width: 80),\n)\n</code></pre>"},{"location":"helpers/floating-element/#multiple-floating-elements","title":"Multiple Floating Elements","text":"<p>Create depth with different phases:</p> <pre><code>Scene(\n  durationInFrames: 300,\n  background: Background.solid(Color(0xFF87CEEB)),\n  children: [\n    // Background clouds (slow, small)\n    FloatingElement(\n      position: Offset(100, 80),\n      floatAmplitude: Offset(3, 8),\n      floatFrequency: 0.25,\n      floatPhase: 0.0,\n      child: Opacity(\n        opacity: 0.5,\n        child: Image.asset('assets/cloud.png', width: 150),\n      ),\n    ),\n\n    // Mid clouds\n    FloatingElement(\n      position: Offset(400, 120),\n      floatAmplitude: Offset(5, 10),\n      floatFrequency: 0.35,\n      floatPhase: 0.3,\n      child: Opacity(\n        opacity: 0.7,\n        child: Image.asset('assets/cloud.png', width: 180),\n      ),\n    ),\n\n    // Foreground clouds (faster, larger movement)\n    FloatingElement(\n      position: Offset(600, 60),\n      floatAmplitude: Offset(8, 12),\n      floatFrequency: 0.45,\n      floatPhase: 0.6,\n      child: Image.asset('assets/cloud.png', width: 200),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/floating-element/#floating-stars","title":"Floating Stars","text":"<pre><code>Scene(\n  durationInFrames: 240,\n  background: Background.solid(Color(0xFF1a1a2e)),\n  children: [\n    // Main content\n    VCenter(child: MainContent()),\n\n    // Floating stars at different positions and phases\n    for (int i = 0; i &lt; 10; i++)\n      FloatingElement(\n        position: Offset(\n          100.0 + (i * 150) % 800,\n          80.0 + (i * 70) % 400,\n        ),\n        floatAmplitude: Offset(3 + (i % 4), 8 + (i % 5)),\n        floatFrequency: 0.3 + (i % 3) * 0.1,\n        floatPhase: i * 0.1,\n        child: Icon(\n          Icons.star,\n          size: 16.0 + (i % 3) * 8,\n          color: Colors.yellow.withOpacity(0.6 + (i % 4) * 0.1),\n        ),\n      ),\n  ],\n)\n</code></pre>"},{"location":"helpers/floating-element/#with-shadow","title":"With Shadow","text":"<pre><code>FloatingElement(\n  position: Offset(300, 200),\n  floatAmplitude: Offset(0, 12),\n  floatFrequency: 0.5,\n  showShadow: true,\n  shadowBlur: 15,\n  shadowOffset: Offset(0, 8),\n  shadowColor: Colors.black.withOpacity(0.3),\n  child: Container(\n    width: 100,\n    height: 100,\n    decoration: BoxDecoration(\n      color: Colors.white,\n      shape: BoxShape.circle,\n    ),\n    child: Icon(Icons.emoji_emotions, size: 50),\n  ),\n)\n</code></pre>"},{"location":"helpers/floating-element/#floating-cards","title":"Floating Cards","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    FloatingElement(\n      position: Offset(100, 200),\n      floatAmplitude: Offset(5, 10),\n      floatFrequency: 0.4,\n      floatPhase: 0.0,\n      showShadow: true,\n      child: PhotoCard.simple(\n        assetPath: 'assets/photo1.jpg',\n        width: 200,\n        height: 150,\n      ),\n    ),\n    FloatingElement(\n      position: Offset(350, 180),\n      floatAmplitude: Offset(6, 12),\n      floatFrequency: 0.35,\n      floatPhase: 0.33,\n      showShadow: true,\n      child: PhotoCard.simple(\n        assetPath: 'assets/photo2.jpg',\n        width: 200,\n        height: 150,\n      ),\n    ),\n    FloatingElement(\n      position: Offset(600, 220),\n      floatAmplitude: Offset(4, 8),\n      floatFrequency: 0.45,\n      floatPhase: 0.66,\n      showShadow: true,\n      child: PhotoCard.simple(\n        assetPath: 'assets/photo3.jpg',\n        width: 200,\n        height: 150,\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/floating-element/#floating-with-rotation","title":"Floating with Rotation","text":"<pre><code>FloatingElement.withRotation(\n  position: Offset(400, 300),\n  floatAmplitude: Offset(8, 15),\n  floatFrequency: 0.3,\n  rotationDegrees: 5.0,\n  showShadow: true,\n  child: Transform.rotate(\n    angle: -0.1,  // Base tilt\n    child: PolaroidFrame(\n      size: Size(200, 230),\n      caption: 'Memories',\n      child: Image.asset('assets/memory.jpg', fit: BoxFit.cover),\n    ),\n  ),\n)\n</code></pre>"},{"location":"helpers/floating-element/#how-it-works","title":"How It Works","text":"<p>The float animation uses a sine wave for smooth, natural motion:</p> <pre><code>Frame:    0       30       60       90      120\n          |        |        |        |        |\nPosition:  \u2500      \u2571\u2572       \u2500       \u2571\u2572       \u2500\n            \u2572    \u2571  \u2572     \u2571 \u2572     \u2571  \u2572     \u2571\n             \u2572\u2500\u2500\u2571    \u2572\u2500\u2500\u2500\u2571   \u2572\u2500\u2500\u2500\u2571    \u2572\u2500\u2500\u2500\u2571\n</code></pre> <p>The <code>floatPhase</code> offsets when each element is in its cycle, preventing synchronized movement.</p>"},{"location":"helpers/floating-element/#performance","title":"Performance","text":"<p>FloatingElement uses <code>TimeConsumer</code> which recalculates position each frame. For many floating elements:</p> <ul> <li>Keep <code>floatAmplitude</code> values small</li> <li>Use lower <code>floatFrequency</code> for background elements</li> <li>Consider using CSS transforms for large counts (not available in Fluvie)</li> </ul>"},{"location":"helpers/floating-element/#related","title":"Related","text":"<ul> <li>PropAnimation.float() - Float as PropAnimation</li> <li>PropAnimation.pulse() - Pulsing scale</li> <li>TimeConsumer - Frame-based animation</li> </ul>"},{"location":"helpers/ken-burns-image/","title":"KenBurnsImage","text":"<p>Cinematic pan and zoom effect for still images</p> <p><code>KenBurnsImage</code> applies the Ken Burns effect to images - a slow zoom and pan that creates cinematic movement on still photographs, commonly used in documentaries.</p>"},{"location":"helpers/ken-burns-image/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"helpers/ken-burns-image/#overview","title":"Overview","text":"<p>Create cinematic image movement:</p> <pre><code>KenBurnsImage(\n  assetPath: 'assets/landscape.jpg',\n  width: 800,\n  height: 600,\n  startScale: 1.0,\n  endScale: 1.3,\n  startAlignment: Alignment.centerLeft,\n  endAlignment: Alignment.centerRight,\n)\n</code></pre> <p>The image slowly zooms and pans over the scene duration.</p>"},{"location":"helpers/ken-burns-image/#properties","title":"Properties","text":"Property Type Default Description <code>assetPath</code> <code>String</code> required Path to image asset <code>width</code> <code>double</code> required Container width <code>height</code> <code>double</code> required Container height <code>startScale</code> <code>double</code> <code>1.0</code> Initial zoom level <code>endScale</code> <code>double</code> <code>1.2</code> Final zoom level <code>startAlignment</code> <code>Alignment</code> <code>center</code> Initial focus point <code>endAlignment</code> <code>Alignment</code> <code>center</code> Final focus point <code>fit</code> <code>BoxFit</code> <code>cover</code> Image fit mode <code>borderRadius</code> <code>BorderRadius?</code> <code>null</code> Corner rounding <code>curve</code> <code>Curve</code> <code>linear</code> Animation curve <code>errorBuilder</code> <code>Function?</code> <code>null</code> Error widget builder"},{"location":"helpers/ken-burns-image/#constructors","title":"Constructors","text":""},{"location":"helpers/ken-burns-image/#default-constructor","title":"Default Constructor","text":"<p>Full control over zoom and pan:</p> <pre><code>KenBurnsImage(\n  assetPath: 'assets/photo.jpg',\n  width: 800,\n  height: 600,\n  startScale: 1.0,\n  endScale: 1.3,\n  startAlignment: Alignment.topLeft,\n  endAlignment: Alignment.bottomRight,\n  curve: Curves.easeInOut,\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#kenburnsimagezoomin","title":"KenBurnsImage.zoomIn","text":"<p>Simple zoom towards a focus point:</p> <pre><code>KenBurnsImage.zoomIn(\n  assetPath: 'assets/photo.jpg',\n  width: 800,\n  height: 600,\n  zoomAmount: 0.2,           // Zoom 20%\n  focus: Alignment.center,   // Zoom target\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#kenburnsimagepan","title":"KenBurnsImage.pan","text":"<p>Pan across the image without zooming:</p> <pre><code>KenBurnsImage.pan(\n  assetPath: 'assets/panorama.jpg',\n  width: 800,\n  height: 400,\n  from: Alignment.centerLeft,\n  to: Alignment.centerRight,\n  scale: 1.2,  // Slight zoom enables panning\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#kenburnsimagezoomandpan","title":"KenBurnsImage.zoomAndPan","text":"<p>Combined zoom and pan:</p> <pre><code>KenBurnsImage.zoomAndPan(\n  assetPath: 'assets/landscape.jpg',\n  width: 800,\n  height: 600,\n  startScale: 1.0,\n  endScale: 1.3,\n  from: Alignment.topLeft,\n  to: Alignment.bottomRight,\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#examples","title":"Examples","text":""},{"location":"helpers/ken-burns-image/#basic-zoom-in","title":"Basic Zoom In","text":"<pre><code>KenBurnsImage.zoomIn(\n  assetPath: 'assets/portrait.jpg',\n  width: 600,\n  height: 800,\n  zoomAmount: 0.15,\n  focus: Alignment.center,\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#zoom-to-face","title":"Zoom to Face","text":"<pre><code>// Zoom toward the upper portion (assuming face is there)\nKenBurnsImage.zoomIn(\n  assetPath: 'assets/person.jpg',\n  width: 600,\n  height: 800,\n  zoomAmount: 0.25,\n  focus: Alignment(0, -0.3),  // Slightly above center\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#horizontal-pan","title":"Horizontal Pan","text":"<pre><code>KenBurnsImage.pan(\n  assetPath: 'assets/cityscape.jpg',\n  width: 1000,\n  height: 400,\n  from: Alignment.centerLeft,\n  to: Alignment.centerRight,\n  scale: 1.3,\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#vertical-pan","title":"Vertical Pan","text":"<pre><code>KenBurnsImage.pan(\n  assetPath: 'assets/skyscraper.jpg',\n  width: 600,\n  height: 400,\n  from: Alignment.bottomCenter,\n  to: Alignment.topCenter,\n  scale: 1.4,\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#diagonal-movement","title":"Diagonal Movement","text":"<pre><code>KenBurnsImage.zoomAndPan(\n  assetPath: 'assets/landscape.jpg',\n  width: 800,\n  height: 600,\n  startScale: 1.0,\n  endScale: 1.25,\n  from: Alignment.topLeft,\n  to: Alignment.bottomRight,\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#with-rounded-corners","title":"With Rounded Corners","text":"<pre><code>KenBurnsImage(\n  assetPath: 'assets/photo.jpg',\n  width: 600,\n  height: 400,\n  startScale: 1.0,\n  endScale: 1.2,\n  borderRadius: BorderRadius.circular(20),\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#photo-slideshow","title":"Photo Slideshow","text":"<pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 150,\n      transitionOut: SceneTransition.crossFade(durationInFrames: 20),\n      children: [\n        VPositioned.fill(\n          child: KenBurnsImage.zoomIn(\n            assetPath: 'assets/photo1.jpg',\n            width: 1920,\n            height: 1080,\n            zoomAmount: 0.15,\n          ),\n        ),\n      ],\n    ),\n    Scene(\n      durationInFrames: 150,\n      transitionOut: SceneTransition.crossFade(durationInFrames: 20),\n      children: [\n        VPositioned.fill(\n          child: KenBurnsImage.pan(\n            assetPath: 'assets/photo2.jpg',\n            width: 1920,\n            height: 1080,\n            from: Alignment.centerLeft,\n            to: Alignment.centerRight,\n            scale: 1.2,\n          ),\n        ),\n      ],\n    ),\n    Scene(\n      durationInFrames: 150,\n      children: [\n        VPositioned.fill(\n          child: KenBurnsImage.zoomAndPan(\n            assetPath: 'assets/photo3.jpg',\n            width: 1920,\n            height: 1080,\n            startScale: 1.0,\n            endScale: 1.3,\n            from: Alignment.bottomLeft,\n            to: Alignment.topRight,\n          ),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#with-overlay-text","title":"With Overlay Text","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    // Background with Ken Burns\n    VPositioned.fill(\n      child: KenBurnsImage.zoomIn(\n        assetPath: 'assets/background.jpg',\n        width: 1920,\n        height: 1080,\n        zoomAmount: 0.2,\n      ),\n    ),\n\n    // Darkening overlay\n    VPositioned.fill(\n      child: Container(color: Colors.black.withOpacity(0.4)),\n    ),\n\n    // Text\n    VCenter(\n      startFrame: 30,\n      fadeInFrames: 20,\n      child: Text(\n        'Your Journey',\n        style: TextStyle(\n          fontSize: 72,\n          fontWeight: FontWeight.bold,\n          color: Colors.white,\n        ),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#reverse-zoom-zoom-out","title":"Reverse Zoom (Zoom Out)","text":"<pre><code>KenBurnsImage(\n  assetPath: 'assets/detail.jpg',\n  width: 800,\n  height: 600,\n  startScale: 1.3,   // Start zoomed in\n  endScale: 1.0,     // End at normal size\n  startAlignment: Alignment.center,\n  endAlignment: Alignment.center,\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#slow-dramatic-zoom","title":"Slow Dramatic Zoom","text":"<pre><code>Scene(\n  durationInFrames: 300,  // 10 seconds at 30fps\n  children: [\n    VPositioned.fill(\n      child: KenBurnsImage(\n        assetPath: 'assets/dramatic.jpg',\n        width: 1920,\n        height: 1080,\n        startScale: 1.0,\n        endScale: 1.5,  // Large zoom\n        startAlignment: Alignment.center,\n        endAlignment: Alignment.center,\n        curve: Curves.easeInOut,\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/ken-burns-image/#how-it-works","title":"How It Works","text":"<p>The Ken Burns effect works by: 1. Displaying the image larger than the container 2. Clipping to the container bounds 3. Animating both scale and alignment over time</p> <pre><code>Container:    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502                  \u2502\n              \u2502   Visible Area   \u2502  \u2190 You see this\n              \u2502                  \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nActual Image: \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502                         \u2502\n              \u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n              \u2502    \u2502  Visible     \u2502    \u2502  \u2190 Image is larger\n              \u2502    \u2502              \u2502    \u2502\n              \u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n              \u2502                         \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>The alignment determines which part of the larger image is visible.</p>"},{"location":"helpers/ken-burns-image/#tips","title":"Tips","text":""},{"location":"helpers/ken-burns-image/#zoom-amount-guidelines","title":"Zoom Amount Guidelines","text":"Effect Zoom Amount Subtle 0.1 - 0.15 Normal 0.15 - 0.25 Dramatic 0.25 - 0.4"},{"location":"helpers/ken-burns-image/#pan-requirements","title":"Pan Requirements","text":"<p>Panning requires the image to be zoomed beyond 1.0 so there's room to pan:</p> <pre><code>// Won't pan - image fills container exactly\nKenBurnsImage.pan(scale: 1.0, ...)  // No room to move\n\n// Will pan - image is larger than container\nKenBurnsImage.pan(scale: 1.2, ...)  // 20% extra for panning\n</code></pre>"},{"location":"helpers/ken-burns-image/#related","title":"Related","text":"<ul> <li>PhotoCard - Photo card with Ken Burns option</li> <li>EmbeddedVideo - Video clips</li> <li>TimeConsumer - Frame-based animation</li> </ul>"},{"location":"helpers/photo-card/","title":"PhotoCard","text":"<p>Modern photo card with shadow, rounded corners, and optional effects</p> <p><code>PhotoCard</code> provides a clean, professional way to display photos with optional Ken Burns effect, rotation, caption, and shadow.</p>"},{"location":"helpers/photo-card/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>AnimatedPhotoCard</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"helpers/photo-card/#overview","title":"Overview","text":"<p>Display photos with modern styling:</p> <pre><code>PhotoCard(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  borderRadius: 12,\n  elevation: 15,\n)\n</code></pre>"},{"location":"helpers/photo-card/#properties","title":"Properties","text":"Property Type Default Description <code>assetPath</code> <code>String</code> required Path to image asset <code>width</code> <code>double</code> required Card width <code>height</code> <code>double</code> required Card height <code>rotation</code> <code>double</code> <code>0</code> Rotation in radians <code>elevation</code> <code>double</code> <code>15</code> Shadow depth <code>borderRadius</code> <code>double</code> <code>12</code> Corner radius <code>kenBurns</code> <code>bool</code> <code>false</code> Enable Ken Burns effect <code>kenBurnsStartScale</code> <code>double</code> <code>1.0</code> Ken Burns start scale <code>kenBurnsEndScale</code> <code>double</code> <code>1.15</code> Ken Burns end scale <code>kenBurnsStartAlignment</code> <code>Alignment</code> <code>center</code> Ken Burns start focus <code>kenBurnsEndAlignment</code> <code>Alignment</code> <code>center</code> Ken Burns end focus <code>borderColor</code> <code>Color?</code> <code>null</code> Optional border color <code>borderWidth</code> <code>double</code> <code>3</code> Border width <code>backgroundColor</code> <code>Color</code> <code>white</code> Background color <code>fit</code> <code>BoxFit</code> <code>cover</code> Image fit mode <code>caption</code> <code>String?</code> <code>null</code> Caption text <code>captionStyle</code> <code>TextStyle?</code> <code>null</code> Caption style <code>errorBuilder</code> <code>Function?</code> <code>null</code> Error widget builder"},{"location":"helpers/photo-card/#constructors","title":"Constructors","text":""},{"location":"helpers/photo-card/#default-constructor","title":"Default Constructor","text":"<p>Full control:</p> <pre><code>PhotoCard(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  rotation: -0.05,\n  elevation: 20,\n  borderRadius: 16,\n  kenBurns: true,\n  kenBurnsEndScale: 1.2,\n)\n</code></pre>"},{"location":"helpers/photo-card/#photocardwithkenburns","title":"PhotoCard.withKenBurns","text":"<p>Preset for zoom effect:</p> <pre><code>PhotoCard.withKenBurns(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  zoomAmount: 0.15,      // How much to zoom (0.15 = 15%)\n  focus: Alignment.center,  // Where to focus the zoom\n)\n</code></pre>"},{"location":"helpers/photo-card/#photocardwithpan","title":"PhotoCard.withPan","text":"<p>Preset for pan effect (no zoom):</p> <pre><code>PhotoCard.withPan(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  from: Alignment.centerLeft,   // Start position\n  to: Alignment.centerRight,    // End position\n  scale: 1.2,                   // Scale to enable panning\n)\n</code></pre>"},{"location":"helpers/photo-card/#photocardsimple","title":"PhotoCard.simple","text":"<p>Basic photo card without effects:</p> <pre><code>PhotoCard.simple(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  borderRadius: 12,\n  elevation: 10,\n)\n</code></pre>"},{"location":"helpers/photo-card/#animatedphotocard","title":"AnimatedPhotoCard","text":"<p>Photo card with entry animation:</p> <pre><code>AnimatedPhotoCard(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  startFrame: 30,\n  animationDuration: 25,\n  slideFrom: SlideFromDirection.bottom,\n  slideDistance: 80,\n)\n</code></pre>"},{"location":"helpers/photo-card/#animatedphotocard-properties","title":"AnimatedPhotoCard Properties","text":"Property Type Default Description <code>startFrame</code> <code>int</code> <code>0</code> Animation start frame <code>animationDuration</code> <code>int</code> <code>30</code> Animation duration <code>slideFrom</code> <code>SlideFromDirection</code> <code>bottom</code> Entry direction <code>slideDistance</code> <code>double</code> <code>80</code> Slide distance <code>curve</code> <code>Curve</code> <code>easeOutCubic</code> Animation curve <code>kenBurns</code> <code>bool</code> <code>true</code> Enable Ken Burns"},{"location":"helpers/photo-card/#slide-directions","title":"Slide Directions","text":"<ul> <li><code>SlideFromDirection.left</code></li> <li><code>SlideFromDirection.right</code></li> <li><code>SlideFromDirection.top</code></li> <li><code>SlideFromDirection.bottom</code></li> </ul>"},{"location":"helpers/photo-card/#examples","title":"Examples","text":""},{"location":"helpers/photo-card/#basic-photo-card","title":"Basic Photo Card","text":"<pre><code>PhotoCard.simple(\n  assetPath: 'assets/vacation.jpg',\n  width: 400,\n  height: 300,\n)\n</code></pre>"},{"location":"helpers/photo-card/#with-ken-burns-zoom","title":"With Ken Burns Zoom","text":"<pre><code>PhotoCard.withKenBurns(\n  assetPath: 'assets/landscape.jpg',\n  width: 500,\n  height: 350,\n  zoomAmount: 0.2,\n  focus: Alignment.center,\n)\n</code></pre>"},{"location":"helpers/photo-card/#with-pan-effect","title":"With Pan Effect","text":"<pre><code>PhotoCard.withPan(\n  assetPath: 'assets/panorama.jpg',\n  width: 600,\n  height: 300,\n  from: Alignment.centerLeft,\n  to: Alignment.centerRight,\n  scale: 1.3,\n)\n</code></pre>"},{"location":"helpers/photo-card/#tilted-photo","title":"Tilted Photo","text":"<pre><code>PhotoCard(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  rotation: -0.05,  // Slight left tilt\n  elevation: 20,\n  borderRadius: 16,\n  kenBurns: true,\n)\n</code></pre>"},{"location":"helpers/photo-card/#with-caption","title":"With Caption","text":"<pre><code>PhotoCard(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 340,  // Extra height for caption\n  caption: 'Beach Sunset',\n  captionStyle: TextStyle(\n    fontSize: 16,\n    fontWeight: FontWeight.w500,\n    color: Colors.black87,\n  ),\n)\n</code></pre>"},{"location":"helpers/photo-card/#with-border","title":"With Border","text":"<pre><code>PhotoCard(\n  assetPath: 'assets/photo.jpg',\n  width: 400,\n  height: 300,\n  borderColor: Colors.white,\n  borderWidth: 4,\n  elevation: 15,\n)\n</code></pre>"},{"location":"helpers/photo-card/#photo-gallery","title":"Photo Gallery","text":"<pre><code>Scene(\n  durationInFrames: 240,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),\n      240: Color(0xFF16213e),\n    },\n  ),\n  children: [\n    VColumn(\n      spacing: 30,\n      stagger: StaggerConfig.slideUp(delay: 20, duration: 35),\n      children: [\n        VRow(\n          spacing: 25,\n          children: [\n            PhotoCard.withKenBurns(\n              assetPath: 'assets/photo1.jpg',\n              width: 300,\n              height: 220,\n              zoomAmount: 0.1,\n            ),\n            PhotoCard.withKenBurns(\n              assetPath: 'assets/photo2.jpg',\n              width: 300,\n              height: 220,\n              zoomAmount: 0.1,\n            ),\n          ],\n        ),\n        VRow(\n          spacing: 25,\n          children: [\n            PhotoCard.withKenBurns(\n              assetPath: 'assets/photo3.jpg',\n              width: 300,\n              height: 220,\n              zoomAmount: 0.1,\n            ),\n            PhotoCard.withKenBurns(\n              assetPath: 'assets/photo4.jpg',\n              width: 300,\n              height: 220,\n              zoomAmount: 0.1,\n            ),\n          ],\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/photo-card/#animated-entry","title":"Animated Entry","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    AnimatedPhotoCard(\n      assetPath: 'assets/hero.jpg',\n      width: 600,\n      height: 400,\n      startFrame: 30,\n      animationDuration: 40,\n      slideFrom: SlideFromDirection.bottom,\n      slideDistance: 100,\n      curve: Curves.easeOutBack,\n      kenBurns: true,\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/photo-card/#staggered-gallery","title":"Staggered Gallery","text":"<pre><code>Scene(\n  durationInFrames: 240,\n  children: [\n    VPositioned(\n      left: 100,\n      top: 100,\n      child: AnimatedPhotoCard(\n        assetPath: 'assets/photo1.jpg',\n        width: 280,\n        height: 200,\n        startFrame: 0,\n        slideFrom: SlideFromDirection.left,\n      ),\n    ),\n    VPositioned(\n      left: 420,\n      top: 120,\n      child: AnimatedPhotoCard(\n        assetPath: 'assets/photo2.jpg',\n        width: 280,\n        height: 200,\n        startFrame: 15,\n        slideFrom: SlideFromDirection.right,\n      ),\n    ),\n    VPositioned(\n      left: 260,\n      top: 350,\n      child: AnimatedPhotoCard(\n        assetPath: 'assets/photo3.jpg',\n        width: 280,\n        height: 200,\n        startFrame: 30,\n        slideFrom: SlideFromDirection.bottom,\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/photo-card/#error-handling","title":"Error Handling","text":"<pre><code>PhotoCard(\n  assetPath: 'assets/might_not_exist.jpg',\n  width: 400,\n  height: 300,\n  errorBuilder: (context, error, stack) =&gt; Container(\n    color: Colors.grey[300],\n    child: Center(\n      child: Column(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          Icon(Icons.broken_image, size: 48, color: Colors.grey),\n          SizedBox(height: 8),\n          Text('Image not found', style: TextStyle(color: Colors.grey)),\n        ],\n      ),\n    ),\n  ),\n)\n</code></pre>"},{"location":"helpers/photo-card/#ken-burns-vs-collage","title":"Ken Burns vs Collage","text":"Use Case Widget Single featured photo <code>PhotoCard.withKenBurns</code> Multiple static photos <code>Collage</code> Photo with animation <code>AnimatedPhotoCard</code> Vintage instant photo <code>PolaroidFrame</code>"},{"location":"helpers/photo-card/#related","title":"Related","text":"<ul> <li>KenBurnsImage - Standalone Ken Burns effect</li> <li>PolaroidFrame - Polaroid style frame</li> <li>Collage - Photo layouts</li> <li>PropAnimation - Custom animations</li> </ul>"},{"location":"helpers/polaroid-frame/","title":"PolaroidFrame","text":"<p>Classic instant photo style frame</p> <p><code>PolaroidFrame</code> wraps content in a polaroid-style frame with a white border, optional caption, shadow, and rotation for a nostalgic photo look.</p>"},{"location":"helpers/polaroid-frame/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"helpers/polaroid-frame/#overview","title":"Overview","text":"<p>Create instant photo style frames:</p> <pre><code>PolaroidFrame(\n  size: Size(300, 350),\n  caption: 'Summer 2024',\n  child: Image.asset('photo.jpg', fit: BoxFit.cover),\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#visual-structure","title":"Visual Structure","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502               \u2502  \u2502\n\u2502  \u2502    Image      \u2502  \u2502\n\u2502  \u2502               \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                     \u2502\n\u2502    Caption Text     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"helpers/polaroid-frame/#properties","title":"Properties","text":"Property Type Default Description <code>child</code> <code>Widget</code> required Content inside the frame <code>caption</code> <code>String?</code> <code>null</code> Caption text below image <code>size</code> <code>Size</code> <code>Size(300, 350)</code> Total frame size <code>frameColor</code> <code>Color</code> off-white Frame background color <code>framePadding</code> <code>double</code> <code>12</code> Padding around image <code>bottomPadding</code> <code>double</code> <code>40</code> Extra space for caption <code>shadowBlur</code> <code>double</code> <code>15</code> Shadow blur radius <code>shadowOffset</code> <code>Offset</code> <code>Offset(0, 5)</code> Shadow position <code>shadowColor</code> <code>Color</code> black 25% Shadow color <code>rotation</code> <code>double</code> <code>0.0</code> Rotation in radians <code>captionStyle</code> <code>TextStyle?</code> <code>null</code> Custom caption style"},{"location":"helpers/polaroid-frame/#constructors","title":"Constructors","text":""},{"location":"helpers/polaroid-frame/#default-constructor","title":"Default Constructor","text":"<p>Full control over all properties:</p> <pre><code>PolaroidFrame(\n  child: Image.asset('photo.jpg', fit: BoxFit.cover),\n  size: Size(300, 350),\n  caption: 'Beach Day',\n  frameColor: Color(0xFFFFFFF0),\n  framePadding: 12,\n  bottomPadding: 40,\n  shadowBlur: 15,\n  shadowOffset: Offset(0, 5),\n  rotation: 0.0,\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#polaroidframetilted","title":"PolaroidFrame.tilted","text":"<p>Creates a frame with a slight random tilt:</p> <pre><code>PolaroidFrame.tilted(\n  child: Image.asset('photo.jpg', fit: BoxFit.cover),\n  caption: 'Summer 2024',\n  tiltDegrees: 5,  // Rotation in degrees\n)\n</code></pre> Parameter Type Default Description <code>tiltDegrees</code> <code>double</code> <code>5</code> Tilt angle in degrees"},{"location":"helpers/polaroid-frame/#examples","title":"Examples","text":""},{"location":"helpers/polaroid-frame/#basic-polaroid","title":"Basic Polaroid","text":"<pre><code>PolaroidFrame(\n  size: Size(300, 350),\n  caption: 'Vacation 2024',\n  child: Image.asset(\n    'assets/vacation.jpg',\n    fit: BoxFit.cover,\n  ),\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#without-caption","title":"Without Caption","text":"<pre><code>PolaroidFrame(\n  size: Size(250, 280),\n  bottomPadding: 20,  // Smaller bottom area\n  child: Image.asset(\n    'assets/photo.jpg',\n    fit: BoxFit.cover,\n  ),\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#tilted-polaroid","title":"Tilted Polaroid","text":"<pre><code>PolaroidFrame.tilted(\n  tiltDegrees: 8,\n  size: Size(300, 350),\n  caption: 'Good times',\n  child: Image.asset('assets/friends.jpg', fit: BoxFit.cover),\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#custom-styling","title":"Custom Styling","text":"<pre><code>PolaroidFrame(\n  size: Size(350, 400),\n  caption: 'Special Memory',\n  frameColor: Color(0xFFF5F5DC),  // Beige tint\n  framePadding: 16,\n  bottomPadding: 50,\n  shadowBlur: 20,\n  shadowColor: Colors.black.withOpacity(0.3),\n  captionStyle: TextStyle(\n    fontFamily: 'Caveat',  // Handwritten font\n    fontSize: 18,\n    color: Color(0xFF333333),\n  ),\n  child: Image.asset('assets/photo.jpg', fit: BoxFit.cover),\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#scattered-polaroids","title":"Scattered Polaroids","text":"<p>Create a memory wall effect:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Color(0xFF2d3436)),\n  children: [\n    // First polaroid\n    VPositioned(\n      left: 100,\n      top: 80,\n      startFrame: 0,\n      fadeInFrames: 20,\n      child: PolaroidFrame.tilted(\n        tiltDegrees: -5,\n        size: Size(280, 320),\n        caption: 'Beach Sunset',\n        child: Image.asset('assets/beach.jpg', fit: BoxFit.cover),\n      ),\n    ),\n\n    // Second polaroid\n    VPositioned(\n      left: 350,\n      top: 120,\n      startFrame: 15,\n      fadeInFrames: 20,\n      child: PolaroidFrame.tilted(\n        tiltDegrees: 7,\n        size: Size(280, 320),\n        caption: 'Mountain View',\n        child: Image.asset('assets/mountain.jpg', fit: BoxFit.cover),\n      ),\n    ),\n\n    // Third polaroid\n    VPositioned(\n      left: 200,\n      top: 380,\n      startFrame: 30,\n      fadeInFrames: 20,\n      child: PolaroidFrame.tilted(\n        tiltDegrees: -3,\n        size: Size(280, 320),\n        caption: 'City Night',\n        child: Image.asset('assets/city.jpg', fit: BoxFit.cover),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#with-animation","title":"With Animation","text":"<p>Combine with animation widgets:</p> <pre><code>AnimatedProp(\n  animation: PropAnimation.combine([\n    PropAnimation.slideUp(distance: 50),\n    PropAnimation.fadeIn(),\n    PropAnimation.zoomIn(start: 0.9),\n  ]),\n  duration: 40,\n  startFrame: 30,\n  curve: Easing.easeOutBack,\n  child: PolaroidFrame(\n    size: Size(300, 350),\n    caption: 'Drop in!',\n    child: Image.asset('assets/photo.jpg', fit: BoxFit.cover),\n  ),\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#larger-frame","title":"Larger Frame","text":"<pre><code>PolaroidFrame(\n  size: Size(500, 580),\n  framePadding: 20,\n  bottomPadding: 60,\n  caption: 'The Big Picture',\n  captionStyle: TextStyle(\n    fontSize: 24,\n    fontFamily: 'serif',\n  ),\n  child: Image.asset('assets/hero.jpg', fit: BoxFit.cover),\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#vintage-look","title":"Vintage Look","text":"<pre><code>PolaroidFrame(\n  size: Size(300, 350),\n  frameColor: Color(0xFFF5F5DC),  // Aged paper color\n  caption: 'Throwback',\n  shadowColor: Colors.brown.withOpacity(0.4),\n  captionStyle: TextStyle(\n    fontFamily: 'Courier',\n    fontSize: 14,\n    color: Color(0xFF8B4513),  // Sepia text\n  ),\n  child: ColorFiltered(\n    colorFilter: ColorFilter.mode(\n      Colors.brown.withOpacity(0.1),\n      BlendMode.colorBurn,\n    ),\n    child: Image.asset('assets/old_photo.jpg', fit: BoxFit.cover),\n  ),\n)\n</code></pre>"},{"location":"helpers/polaroid-frame/#size-calculations","title":"Size Calculations","text":"<p>The image area is calculated from the total size:</p> <pre><code>imageWidth = size.width - (framePadding * 2)\nimageHeight = size.height - (framePadding * 2) - bottomPadding\n</code></pre> <p>For a default <code>Size(300, 350)</code> with default padding: - Frame: 300 x 350 - Image area: 276 x 258 - Caption area: 40px tall</p>"},{"location":"helpers/polaroid-frame/#related","title":"Related","text":"<ul> <li>PhotoCard - Modern photo card</li> <li>KenBurnsImage - Animated images</li> <li>Collage - Photo layouts</li> </ul>"},{"location":"helpers/stat-card/","title":"StatCard","text":"<p>Animated statistic display with counting effect</p> <p><code>StatCard</code> displays numeric values with an animated counting effect, perfect for metrics, scores, or any data that should be revealed dramatically.</p>"},{"location":"helpers/stat-card/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"helpers/stat-card/#overview","title":"Overview","text":"<p>Display statistics with animated counting:</p> <pre><code>StatCard(\n  value: 1234,\n  label: 'Photos',\n  sublabel: 'This Year',\n  color: Colors.blue,\n  startFrame: 30,\n  countDuration: 60,\n)\n</code></pre> <p>The value animates from 0 to the final value over the specified duration.</p>"},{"location":"helpers/stat-card/#properties","title":"Properties","text":"Property Type Default Description <code>value</code> <code>int</code> required Target numeric value <code>label</code> <code>String</code> required Main label below value <code>sublabel</code> <code>String?</code> <code>null</code> Secondary label <code>color</code> <code>Color</code> blue Value text color <code>startFrame</code> <code>int</code> <code>0</code> Frame to start counting <code>countDuration</code> <code>int</code> <code>60</code> Counting animation duration <code>countCurve</code> <code>Curve</code> <code>easeOut</code> Counting easing curve <code>size</code> <code>Size?</code> <code>null</code> Fixed card size <code>backgroundColor</code> <code>Color?</code> <code>null</code> Card background <code>borderRadius</code> <code>double</code> <code>16</code> Corner radius <code>padding</code> <code>EdgeInsets</code> <code>all(24)</code> Internal padding <code>valueStyle</code> <code>TextStyle?</code> <code>null</code> Custom value style <code>labelStyle</code> <code>TextStyle?</code> <code>null</code> Custom label style <code>sublabelStyle</code> <code>TextStyle?</code> <code>null</code> Custom sublabel style <code>formatter</code> <code>Function?</code> <code>null</code> Custom value formatter"},{"location":"helpers/stat-card/#constructors","title":"Constructors","text":""},{"location":"helpers/stat-card/#default-constructor","title":"Default Constructor","text":"<p>Basic stat card:</p> <pre><code>StatCard(\n  value: 1234,\n  label: 'Photos',\n  sublabel: 'This Year',\n  color: Colors.blue,\n  startFrame: 30,\n  countDuration: 60,\n)\n</code></pre>"},{"location":"helpers/stat-card/#statcardpercentage","title":"StatCard.percentage","text":"<p>Formats value as percentage:</p> <pre><code>StatCard.percentage(\n  value: 95,\n  label: 'Completion',\n  sublabel: 'Project Status',\n  color: Colors.green,\n  startFrame: 30,\n)\n// Displays: \"95%\"\n</code></pre>"},{"location":"helpers/stat-card/#statcardcurrency","title":"StatCard.currency","text":"<p>Formats value as currency:</p> <pre><code>StatCard.currency(\n  value: 5000,\n  label: 'Revenue',\n  sublabel: 'Monthly',\n  color: Colors.orange,\n  currencySymbol: '\\$',  // or '\u20ac', '\u00a3', etc.\n  startFrame: 30,\n)\n// Displays: \"$5000\"\n</code></pre>"},{"location":"helpers/stat-card/#examples","title":"Examples","text":""},{"location":"helpers/stat-card/#basic-stat","title":"Basic Stat","text":"<pre><code>StatCard(\n  value: 2450,\n  label: 'Streams',\n  color: Color(0xFF1DB954),  // Spotify green\n  startFrame: 0,\n  countDuration: 45,\n)\n</code></pre>"},{"location":"helpers/stat-card/#with-sublabel","title":"With Sublabel","text":"<pre><code>StatCard(\n  value: 12,\n  label: 'Playlists',\n  sublabel: 'Created This Year',\n  color: Colors.purple,\n  startFrame: 30,\n)\n</code></pre>"},{"location":"helpers/stat-card/#percentage-stat","title":"Percentage Stat","text":"<pre><code>StatCard.percentage(\n  value: 87,\n  label: 'Accuracy',\n  sublabel: 'Test Results',\n  color: Colors.green,\n  startFrame: 0,\n  countDuration: 50,\n)\n</code></pre>"},{"location":"helpers/stat-card/#currency-stat","title":"Currency Stat","text":"<pre><code>StatCard.currency(\n  value: 15000,\n  label: 'Savings',\n  sublabel: 'Annual Goal',\n  color: Colors.amber,\n  currencySymbol: '\\$',\n  startFrame: 30,\n)\n</code></pre>"},{"location":"helpers/stat-card/#custom-formatter","title":"Custom Formatter","text":"<pre><code>StatCard(\n  value: 75000,\n  label: 'Distance',\n  sublabel: 'Total Traveled',\n  color: Colors.blue,\n  formatter: (n) =&gt; '${(n / 1000).toStringAsFixed(1)}k km',\n  // Displays: \"75.0k km\"\n)\n</code></pre>"},{"location":"helpers/stat-card/#stats-dashboard","title":"Stats Dashboard","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),\n      180: Color(0xFF16213e),\n    },\n  ),\n  children: [\n    VPadding(\n      padding: EdgeInsets.all(60),\n      child: VRow(\n        spacing: 40,\n        stagger: StaggerConfig.slideUp(delay: 15, duration: 30),\n        children: [\n          StatCard(\n            value: 365,\n            label: 'Days',\n            sublabel: 'Streak',\n            color: Color(0xFF00D4FF),\n            startFrame: 30,\n            backgroundColor: Color(0xFF2d2d44),\n          ),\n          StatCard(\n            value: 1234,\n            label: 'Photos',\n            sublabel: 'Captured',\n            color: Color(0xFFFF6B6B),\n            startFrame: 45,\n            backgroundColor: Color(0xFF2d2d44),\n          ),\n          StatCard(\n            value: 89,\n            label: 'Countries',\n            sublabel: 'Visited',\n            color: Color(0xFF4ECDC4),\n            startFrame: 60,\n            backgroundColor: Color(0xFF2d2d44),\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/stat-card/#custom-styling","title":"Custom Styling","text":"<pre><code>StatCard(\n  value: 42,\n  label: 'The Answer',\n  size: Size(200, 180),\n  backgroundColor: Colors.black,\n  borderRadius: 24,\n  padding: EdgeInsets.all(32),\n  valueStyle: TextStyle(\n    fontSize: 72,\n    fontWeight: FontWeight.w900,\n    color: Colors.white,\n  ),\n  labelStyle: TextStyle(\n    fontSize: 20,\n    fontWeight: FontWeight.w600,\n    color: Colors.white70,\n  ),\n)\n</code></pre>"},{"location":"helpers/stat-card/#year-review-stats","title":"Year Review Stats","text":"<pre><code>Scene(\n  durationInFrames: 240,\n  children: [\n    // Title\n    VPositioned(\n      left: 0,\n      right: 0,\n      top: 60,\n      startFrame: 0,\n      fadeInFrames: 20,\n      child: Text(\n        'Your 2024 in Numbers',\n        textAlign: TextAlign.center,\n        style: TextStyle(\n          fontSize: 48,\n          fontWeight: FontWeight.bold,\n          color: Colors.white,\n        ),\n      ),\n    ),\n\n    // Stats grid\n    VPositioned(\n      left: 100,\n      right: 100,\n      top: 160,\n      child: Column(\n        children: [\n          Row(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              StatCard(\n                value: 52,\n                label: 'Weeks',\n                color: Colors.cyan,\n                startFrame: 30,\n              ),\n              SizedBox(width: 40),\n              StatCard(\n                value: 8760,\n                label: 'Hours',\n                color: Colors.pink,\n                startFrame: 45,\n              ),\n            ],\n          ),\n          SizedBox(height: 40),\n          Row(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              StatCard.percentage(\n                value: 100,\n                label: 'Commitment',\n                color: Colors.green,\n                startFrame: 60,\n              ),\n              SizedBox(width: 40),\n              StatCard(\n                value: 1,\n                label: 'Amazing Year',\n                color: Colors.amber,\n                startFrame: 75,\n              ),\n            ],\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"helpers/stat-card/#slow-dramatic-count","title":"Slow Dramatic Count","text":"<pre><code>StatCard(\n  value: 1000000,\n  label: 'Milestone',\n  sublabel: 'One Million!',\n  color: Colors.gold,\n  startFrame: 0,\n  countDuration: 120,  // 4 seconds at 30fps\n  countCurve: Curves.easeOutCubic,\n  formatter: (n) =&gt; n.toString().replaceAllMapped(\n    RegExp(r'(\\d{1,3})(?=(\\d{3})+(?!\\d))'),\n    (m) =&gt; '${m[1]},',\n  ),\n  // Displays: \"1,000,000\"\n)\n</code></pre>"},{"location":"helpers/stat-card/#animation-timeline","title":"Animation Timeline","text":"<pre><code>Frame:    0       30      60      90\n          |        |       |       |\nValue:    0 \u2500\u2500\u2500\u2500\u2500&gt; ... \u2500\u2500\u2500&gt; 1234 \u2500\u2500&gt; 1234\n          \u2191        \u2191              \u2191\n      startFrame  counting     complete\n</code></pre> <p>With <code>countCurve: Curves.easeOut</code>, the counting is fast at first and slows toward the end.</p>"},{"location":"helpers/stat-card/#related","title":"Related","text":"<ul> <li>CounterText - Counting text widget</li> <li>TimeConsumer - Frame-based state</li> <li>StaggerConfig - Staggered animations</li> </ul>"},{"location":"ide-helpers/","title":"IDE Helpers","text":"<p>Use AI assistants effectively with Fluvie by providing them the right context. This section covers using the AI reference file, IDE-specific rules, and tips for better code generation.</p>"},{"location":"ide-helpers/#overview","title":"Overview","text":"<p>Fluvie provides several ways to enhance AI-assisted development:</p> Method Best For Setup Effort AI Reference File Any AI tool Low MCP Server Claude Desktop, Continue Medium Cursor Rules Cursor IDE Low Claude Code Claude Code CLI Low"},{"location":"ide-helpers/#ai-reference-file","title":"AI Reference File","text":"<p>The <code>FLUVIE_AI_REFERENCE.md</code> file contains complete Fluvie documentation in a single, AI-optimized format.</p>"},{"location":"ide-helpers/#location","title":"Location","text":"<pre><code>fluvie/doc/FLUVIE_AI_REFERENCE.md\n</code></pre>"},{"location":"ide-helpers/#usage","title":"Usage","text":""},{"location":"ide-helpers/#chatgpt-claudeai","title":"ChatGPT / Claude.ai","text":"<ol> <li>Upload the file as an attachment</li> <li>Ask questions or request code generation</li> </ol>"},{"location":"ide-helpers/#cursor-ide","title":"Cursor IDE","text":"<ol> <li>Add to your project root or <code>.cursor/</code> folder</li> <li>Reference in prompts: \"Using the Fluvie reference...\"</li> </ol>"},{"location":"ide-helpers/#continuedev","title":"Continue.dev","text":"<ol> <li>Add to <code>.continue/docs/</code> folder</li> <li>Automatically included in context</li> </ol>"},{"location":"ide-helpers/#any-ai-chat","title":"Any AI Chat","text":"<p>Simply paste relevant sections or upload the file.</p>"},{"location":"ide-helpers/#whats-included","title":"What's Included","text":"<p>The reference file contains:</p> <ul> <li>Quick Reference - Import, key concepts, common patterns</li> <li>Core Widgets - Video, Scene, TimeConsumer</li> <li>Layout Widgets - VStack, VRow, VCenter, etc.</li> <li>Animation System - AnimatedProp, PropAnimation, Easing</li> <li>Text Widgets - AnimatedText, FadeText, TypewriterText</li> <li>Media Widgets - EmbeddedVideo, KenBurnsImage, Collage</li> <li>Effects - Particles, overlays, backgrounds</li> <li>Templates - All 30 templates with examples</li> <li>Audio - AudioTrack, AudioSource, BPM sync</li> <li>Complete Examples - Full video compositions</li> </ul>"},{"location":"ide-helpers/#cursor-rules","title":"Cursor Rules","text":"<p>For Cursor IDE users, create a <code>.cursorrules</code> file for Fluvie-aware code generation.</p>"},{"location":"ide-helpers/#setup","title":"Setup","text":"<p>Create <code>.cursorrules</code> in your project root:</p> <pre><code>You are an expert Flutter developer specializing in the Fluvie video composition library.\n\n## Key Fluvie Concepts\n\n- Fluvie uses FRAMES, not seconds. At 30fps: 1 second = 30 frames\n- Import: `import 'package:fluvie/declarative.dart';`\n- Root widget is `Video`, containing `Scene` widgets\n- Animations use `AnimatedProp` with `PropAnimation`\n\n## Widget Prefixes\n\nLayout widgets use V prefix: VStack, VRow, VColumn, VCenter, VPadding, etc.\n\n## Animation Patterns\n\nAlways calculate frames from seconds:\n- 2 seconds at 30fps = 60 frames\n- Use `AnimatedProp` for animated properties\n- PropAnimation types: translate, scale, rotate, fade, combine\n\n## Templates\n\nAvailable templates by category:\n- intro: TheNeonGate, DigitalMirror, TheMixtape, VortexTitle, NoiseID\n- ranking: StackClimb, SlotMachine, TheSpotlight, PerspectiveLadder, FloatingPolaroids\n- data_viz: OrbitalMetrics, TheGrowthTree, LiquidMinutes, FrequencyGlow, BinaryRain\n- collage: TheGridShuffle, SplitPersonality, MosaicReveal, BentoRecap, TriptychScroll\n- thematic: LofiWindow, GlitchReality, RetroPostcard, Kaleidoscope, MinimalistBeat\n- conclusion: ParticleFarewell, TheSignature, TheSummaryPoster, TheInfinityLoop, WrappedReceipt\n\n## Code Style\n\n- Use const where possible\n- Prefer named parameters\n- Calculate durations in frames based on fps\n- Use LayerStack for overlapping elements\n- Use Scene with transitionIn/Out for scene transitions\n\n## Example Scene\n\n```dart\nScene(\n  durationInFrames: 90, // 3 seconds at 30fps\n  children: [\n    VCenter(\n      child: AnimatedProp(\n        animation: PropAnimation.fade(from: 0, to: 1),\n        startFrame: 0,\n        endFrame: 30,\n        child: Text('Hello', style: TextStyle(fontSize: 48)),\n      ),\n    ),\n  ],\n)\n</code></pre> <p>When generating Fluvie code: 1. Always include the import statement 2. Calculate frame values from desired seconds 3. Use appropriate V-prefixed layout widgets 4. Wrap animated elements in AnimatedProp 5. Consider using templates for common patterns <pre><code>See [cursor-rules.md](cursor-rules.md) for the complete rules file.\n\n---\n\n## Claude Code\n\nFor Claude Code CLI users, you can reference the AI documentation directly.\n\n### Quick Setup\n\nAdd to your project's Claude Code context:\n\n```bash\n# In your project directory\nclaude --context fluvie/doc/FLUVIE_AI_REFERENCE.md\n</code></pre></p>"},{"location":"ide-helpers/#using-claudemd","title":"Using CLAUDE.md","text":"<p>Create a <code>CLAUDE.md</code> file in your project:</p> <pre><code># Project Context\n\nThis is a Fluvie video composition project.\n\n## Documentation\n\nReference: doc/FLUVIE_AI_REFERENCE.md\n\n## Key Points\n\n- Uses Fluvie declarative API\n- Frame-based timing (30fps default)\n- Template-based video generation\n\n## Common Tasks\n\n- Generate video scenes with animations\n- Use templates from the catalog\n- Combine scenes with transitions\n</code></pre> <p>See claude-code.md for detailed Claude Code integration.</p>"},{"location":"ide-helpers/#example-prompts","title":"Example Prompts","text":""},{"location":"ide-helpers/#for-code-generation","title":"For Code Generation","text":"<p>\"Create a Fluvie scene that shows a title 'Welcome' fading in over 1 second, stays for 2 seconds, then fades out over 1 second. Use 30fps.\"</p>"},{"location":"ide-helpers/#for-template-selection","title":"For Template Selection","text":"<p>\"I want to create a video showing my top 5 favorite songs with album art. What Fluvie template should I use and show me an example?\"</p>"},{"location":"ide-helpers/#for-learning","title":"For Learning","text":"<p>\"Explain how AnimatedProp works in Fluvie and show me examples of combining multiple animations\"</p>"},{"location":"ide-helpers/#for-debugging","title":"For Debugging","text":"<p>\"Why isn't my Fluvie animation playing? Here's my code: [paste code]\"</p>"},{"location":"ide-helpers/#tips-for-better-results","title":"Tips for Better Results","text":""},{"location":"ide-helpers/#1-specify-frame-rate","title":"1. Specify Frame Rate","text":"<p>Always mention fps when discussing timing:</p> <p>\"Create a 2 second fade (60 frames at 30fps)\"</p>"},{"location":"ide-helpers/#2-reference-templates","title":"2. Reference Templates","text":"<p>Templates provide proven patterns:</p> <p>\"Use the StackClimb template pattern for my ranking\"</p>"},{"location":"ide-helpers/#3-describe-visual-goals","title":"3. Describe Visual Goals","text":"<p>Be specific about visual outcomes:</p> <p>\"I want text to slide in from the left while scaling up from 50% to 100%\"</p>"},{"location":"ide-helpers/#4-provide-context","title":"4. Provide Context","text":"<p>Mention what you're building:</p> <p>\"I'm creating a year-end review video. Generate a scene for showing listening stats.\"</p>"},{"location":"ide-helpers/#5-ask-for-explanations","title":"5. Ask for Explanations","text":"<p>Understanding helps you customize:</p> <p>\"Generate the code AND explain why you chose these animation timings\"</p>"},{"location":"ide-helpers/#related","title":"Related","text":"<ul> <li>MCP Agent - Interactive MCP server</li> <li>Cursor Rules - Complete .cursorrules file</li> <li>Claude Code - CLI integration guide</li> </ul>"},{"location":"ide-helpers/claude-code/","title":"Claude Code Integration","text":"<p>Guide for using Claude Code CLI with Fluvie projects.</p>"},{"location":"ide-helpers/claude-code/#quick-start","title":"Quick Start","text":""},{"location":"ide-helpers/claude-code/#option-1-reference-documentation-directly","title":"Option 1: Reference Documentation Directly","text":"<pre><code># Navigate to your Fluvie project\ncd my-fluvie-project\n\n# Start Claude Code with Fluvie docs\nclaude --context ../fluvie/doc/FLUVIE_AI_REFERENCE.md\n</code></pre>"},{"location":"ide-helpers/claude-code/#option-2-add-to-project-context","title":"Option 2: Add to Project Context","text":"<p>Create a symlink or copy the reference file:</p> <pre><code># Symlink (keeps updated)\nln -s /path/to/fluvie/doc/FLUVIE_AI_REFERENCE.md ./docs/\n\n# Or copy\ncp /path/to/fluvie/doc/FLUVIE_AI_REFERENCE.md ./docs/\n</code></pre> <p>Then reference in prompts:</p> <p>\"Using docs/FLUVIE_AI_REFERENCE.md, create a scene with...\"</p>"},{"location":"ide-helpers/claude-code/#claudemd-setup","title":"CLAUDE.md Setup","text":"<p>Create a <code>CLAUDE.md</code> file in your project root to give Claude Code persistent context:</p> <p><pre><code># Fluvie Video Project\n\n## Overview\nThis project uses the Fluvie declarative video composition library for Flutter.\n\n## Documentation\nThe complete Fluvie reference is at: doc/FLUVIE_AI_REFERENCE.md\n\nAlways read this file when:\n- Generating Fluvie code\n- Answering questions about widgets\n- Suggesting templates or patterns\n\n## Key Concepts\n\n### Frame-Based Timing\nFluvie uses frames, not seconds:\n- 30fps: 1 second = 30 frames\n- 60fps: 1 second = 60 frames\n\n### Import\nAlways include: `import 'package:fluvie/declarative.dart';`\n\n### Widget Hierarchy\nVideo \u2192 Scene \u2192 Content (VStack, AnimatedProp, etc.)\n\n## Project Structure\n</code></pre> lib/   videos/           # Video compositions   templates/        # Custom templates   widgets/          # Reusable components assets/   images/           # Static images   videos/           # Video clips <pre><code>## Common Tasks\n\n### Generate a New Scene\n1. Read FLUVIE_AI_REFERENCE.md for widget options\n2. Calculate frame durations based on fps\n3. Use appropriate layout widgets (VCenter, VRow, etc.)\n4. Add animations with AnimatedProp\n\n### Use a Template\n1. Check template catalog in reference\n2. Match data type requirements\n3. Customize properties as needed\n\n### Add Effects\n1. ParticleEffect for particles (sparkles, confetti)\n2. EffectOverlay for post-processing (grain, vignette)\n3. Background for scene backgrounds\n\n## Style Guidelines\n- Use const constructors\n- Calculate frames from seconds explicitly\n- Add comments for animation sequences\n- Use descriptive names for scenes/widgets\n</code></pre></p>"},{"location":"ide-helpers/claude-code/#example-prompts","title":"Example Prompts","text":""},{"location":"ide-helpers/claude-code/#creating-scenes","title":"Creating Scenes","text":"<p>\"Create a Fluvie scene that displays 'Your Year in Music' with a fade-in over 1 second, then shows 3 stat cards staggering in from below\"</p> <p>Claude Code will: 1. Read the reference file 2. Calculate frames (30 frames for 1 second at 30fps) 3. Generate appropriate code with AnimatedProp and StaggerConfig</p>"},{"location":"ide-helpers/claude-code/#using-templates","title":"Using Templates","text":"<p>\"I want to create a top 5 songs video. Which Fluvie template should I use and generate an example?\"</p> <p>Claude Code will: 1. Recommend StackClimb or TheSpotlight template 2. Show the template usage with RankingData 3. Provide customization options</p>"},{"location":"ide-helpers/claude-code/#debugging","title":"Debugging","text":"<p>\"My AnimatedProp animation isn't working. Here's my code: [paste]. What's wrong?\"</p> <p>Claude Code will: 1. Check animation frame ranges 2. Verify PropAnimation usage 3. Ensure proper widget hierarchy</p>"},{"location":"ide-helpers/claude-code/#workflow-examples","title":"Workflow Examples","text":""},{"location":"ide-helpers/claude-code/#1-starting-a-new-video-project","title":"1. Starting a New Video Project","text":"<pre><code># Initialize project\nflutter create my_video_app\ncd my_video_app\n\n# Add Fluvie dependency\nflutter pub add fluvie\n\n# Create CLAUDE.md with project context\nclaude\n\n# In Claude Code:\n&gt; \"Read the Fluvie docs and create a basic video structure with an intro scene and a content scene\"\n</code></pre>"},{"location":"ide-helpers/claude-code/#2-adding-animation","title":"2. Adding Animation","text":"<pre><code>claude\n\n# In Claude Code:\n&gt; \"Add an animation to my title that slides in from the left while fading in over 1.5 seconds at 30fps\"\n</code></pre>"},{"location":"ide-helpers/claude-code/#3-using-templates","title":"3. Using Templates","text":"<pre><code>claude\n\n# In Claude Code:\n&gt; \"Generate a complete year-review video using these templates:\n&gt; - TheNeonGate for intro\n&gt; - StackClimb for top songs\n&gt; - TheSummaryPoster for conclusion\"\n</code></pre>"},{"location":"ide-helpers/claude-code/#tips-for-better-results","title":"Tips for Better Results","text":""},{"location":"ide-helpers/claude-code/#1-be-specific-about-timing","title":"1. Be Specific About Timing","text":"<pre><code>\u274c \"Add a fade animation\"\n\u2705 \"Add a 1-second fade animation at 30fps (30 frames)\"\n</code></pre>"},{"location":"ide-helpers/claude-code/#2-reference-the-documentation","title":"2. Reference the Documentation","text":"<pre><code>\u274c \"Create a stats display\"\n\u2705 \"Using the StatCard helper from the reference, create a stats display\"\n</code></pre>"},{"location":"ide-helpers/claude-code/#3-describe-visual-goals","title":"3. Describe Visual Goals","text":"<pre><code>\u274c \"Animate the text\"\n\u2705 \"Animate the text to slide up from below while scaling from 80% to 100%\"\n</code></pre>"},{"location":"ide-helpers/claude-code/#4-specify-output-format","title":"4. Specify Output Format","text":"<pre><code>\u274c \"Generate code\"\n\u2705 \"Generate a complete Scene widget that I can add to my Video\"\n</code></pre>"},{"location":"ide-helpers/claude-code/#combining-with-mcp","title":"Combining with MCP","text":"<p>For the best experience, use both approaches:</p> <ol> <li>MCP Server - For interactive documentation queries</li> <li>AI Reference File - For code generation context</li> </ol> <p>Setup: <pre><code># Configure MCP in Claude Desktop\n# Then use Claude Code with reference file\n\nclaude --context doc/FLUVIE_AI_REFERENCE.md\n</code></pre></p> <p>Now you have: - MCP tools for searching and suggestions - Full documentation context for code generation</p>"},{"location":"ide-helpers/claude-code/#troubleshooting","title":"Troubleshooting","text":""},{"location":"ide-helpers/claude-code/#context-too-long","title":"\"Context too long\"","text":"<p>The reference file is optimized for size, but if needed: - Reference specific sections instead of the whole file - Use MCP server for queries, file for generation</p>"},{"location":"ide-helpers/claude-code/#wrong-widget-used","title":"\"Wrong widget used\"","text":"<ul> <li>Ensure the reference file is in context</li> <li>Be explicit: \"Use VCenter, not Center\"</li> <li>Reference the V-prefix convention</li> </ul>"},{"location":"ide-helpers/claude-code/#animation-not-working","title":"\"Animation not working\"","text":"<p>Ask Claude to: - Check frame calculations - Verify startFrame &lt; endFrame - Ensure AnimatedProp wraps the content</p>"},{"location":"ide-helpers/claude-code/#related","title":"Related","text":"<ul> <li>IDE Helpers Overview</li> <li>Cursor Rules</li> <li>MCP Server</li> </ul>"},{"location":"ide-helpers/cursor-rules/","title":"Cursor Rules for Fluvie","text":"<p>A complete <code>.cursorrules</code> file for Fluvie projects in Cursor IDE.</p>"},{"location":"ide-helpers/cursor-rules/#setup","title":"Setup","text":"<ol> <li>Create <code>.cursorrules</code> in your project root</li> <li>Paste the content below</li> <li>Cursor will automatically use these rules for code generation</li> </ol>"},{"location":"ide-helpers/cursor-rules/#complete-rules-file","title":"Complete Rules File","text":"<pre><code>You are an expert Flutter developer specializing in the Fluvie video composition library. You generate high-quality, production-ready Fluvie code.\n\n## Core Principles\n\n1. Fluvie uses FRAMES, not seconds. Always calculate:\n   - 30fps: 1 second = 30 frames\n   - 60fps: 1 second = 60 frames\n\n2. Always include the import:\n   ```dart\n   import 'package:fluvie/declarative.dart';\n   ```\n\n3. The widget hierarchy is: Video \u2192 Scene \u2192 Content Widgets\n\n## Widget Reference\n\n### Root Widgets\n- `Video` - Root composition widget with fps, size\n- `Scene` - Time-bounded section with length, background, transitions\n- `VideoComposition` - Low-level composition (prefer Video/Scene)\n\n### Layout Widgets (V-prefixed)\n- `VStack` - Positioned layered content (like Stack)\n- `VRow` - Horizontal layout with spacing/stagger\n- `VColumn` - Vertical layout with spacing/stagger\n- `VCenter` - Center content with optional fade\n- `VPadding` - Padding wrapper\n- `VPositioned` - Absolute positioning\n- `VSizedBox` - Fixed size constraint\n- `LayerStack` - Multiple layers with z-ordering\n\n### Animation Widgets\n- `AnimatedProp` - Property animation driver\n- `EntryAnimation` - Dramatic entry effects\n- `TimeConsumer` - Access current frame for custom animations\n\n### Text Widgets\n- `AnimatedText` - Text with entry/exit animations\n- `FadeText` - Simple fade in/out text\n- `TypewriterText` - Character-by-character reveal\n- `CounterText` - Animated number counting\n\n### Media Widgets\n- `EmbeddedVideo` - Video-in-video playback\n- `KenBurnsImage` - Pan and zoom images\n- `Collage` - Multi-element photo layouts\n\n### Effects\n- `ParticleEffect` - Sparkles, confetti, snow, bubbles\n- `EffectOverlay` - Scanlines, grain, vignette, CRT\n- `Background` - Solid, gradient, animated backgrounds\n\n## Animation Patterns\n\n### Basic Fade\n```dart\nAnimatedProp(\n  animation: PropAnimation.fade(from: 0, to: 1),\n  startFrame: 0,\n  endFrame: 30, // 1 second at 30fps\n  child: content,\n)\n</code></pre>"},{"location":"ide-helpers/cursor-rules/#slide-fade","title":"Slide + Fade","text":"<pre><code>AnimatedProp(\n  animation: PropAnimation.combine([\n    PropAnimation.translateX(from: -100, to: 0),\n    PropAnimation.fade(from: 0, to: 1),\n  ]),\n  startFrame: 0,\n  endFrame: 30,\n  child: content,\n)\n</code></pre>"},{"location":"ide-helpers/cursor-rules/#scale-animation","title":"Scale Animation","text":"<pre><code>AnimatedProp(\n  animation: PropAnimation.scale(from: 0.5, to: 1.0),\n  startFrame: 0,\n  endFrame: 20,\n  easing: Easing.easeOutBack,\n  child: content,\n)\n</code></pre>"},{"location":"ide-helpers/cursor-rules/#staggered-children","title":"Staggered Children","text":"<pre><code>VRow(\n  spacing: 20,\n  stagger: StaggerConfig.slideUp(delay: 10),\n  children: items.map((item) =&gt; ItemWidget(item)).toList(),\n)\n</code></pre>"},{"location":"ide-helpers/cursor-rules/#easing-curves","title":"Easing Curves","text":"<p>Use <code>Easing</code> class for animation curves: - <code>Easing.linear</code> - Constant speed - <code>Easing.easeIn</code> - Start slow, end fast - <code>Easing.easeOut</code> - Start fast, end slow - <code>Easing.easeInOut</code> - Smooth both ends - <code>Easing.easeOutBack</code> - Overshoot then settle - <code>Easing.easeOutElastic</code> - Bouncy effect</p>"},{"location":"ide-helpers/cursor-rules/#templates","title":"Templates","text":""},{"location":"ide-helpers/cursor-rules/#intro-templates","title":"Intro Templates","text":"<ul> <li>TheNeonGate - Neon portal with glowing rings</li> <li>DigitalMirror - Reflective glass effect</li> <li>TheMixtape - Cassette tape retro style</li> <li>VortexTitle - Typography vortex effect</li> <li>NoiseID - Grunge stamp aesthetic</li> </ul>"},{"location":"ide-helpers/cursor-rules/#ranking-templates","title":"Ranking Templates","text":"<ul> <li>StackClimb - Cards stack upward (top 5 lists)</li> <li>SlotMachine - Slot machine reveal</li> <li>TheSpotlight - Spotlight on items</li> <li>PerspectiveLadder - 3D ladder effect</li> <li>FloatingPolaroids - Floating photos</li> </ul>"},{"location":"ide-helpers/cursor-rules/#data-viz-templates","title":"Data Viz Templates","text":"<ul> <li>OrbitalMetrics - Orbiting data points</li> <li>TheGrowthTree - Tree data structure</li> <li>LiquidMinutes - Liquid fill progress</li> <li>FrequencyGlow - Audio frequency bars</li> <li>BinaryRain - Matrix-style rain</li> </ul>"},{"location":"ide-helpers/cursor-rules/#collage-templates","title":"Collage Templates","text":"<ul> <li>TheGridShuffle - Dynamic grid reveal</li> <li>SplitPersonality - Split screen</li> <li>MosaicReveal - Mosaic tiles</li> <li>BentoRecap - Bento box layout</li> <li>TriptychScroll - Three-panel scroll</li> </ul>"},{"location":"ide-helpers/cursor-rules/#thematic-templates","title":"Thematic Templates","text":"<ul> <li>LofiWindow - Cozy lofi aesthetic</li> <li>GlitchReality - Glitch effects</li> <li>RetroPostcard - Vintage style</li> <li>Kaleidoscope - Symmetric patterns</li> <li>MinimalistBeat - Minimal beat-sync</li> </ul>"},{"location":"ide-helpers/cursor-rules/#conclusion-templates","title":"Conclusion Templates","text":"<ul> <li>ParticleFarewell - Confetti celebration</li> <li>TheSignature - Handwritten signature</li> <li>TheSummaryPoster - Stats summary</li> <li>TheInfinityLoop - Infinity animation</li> <li>WrappedReceipt - Receipt format</li> </ul>"},{"location":"ide-helpers/cursor-rules/#code-style","title":"Code Style","text":"<ol> <li>Use <code>const</code> constructors where possible</li> <li>Prefer named parameters for clarity</li> <li>Calculate all durations in frames</li> <li>Comment complex animation sequences</li> <li>Group related animations together</li> <li>Use descriptive variable names</li> </ol>"},{"location":"ide-helpers/cursor-rules/#complete-example","title":"Complete Example","text":"<pre><code>import 'package:fluvie/declarative.dart';\nimport 'package:flutter/material.dart';\n\nfinal video = Video(\n  fps: 30,\n  size: Size(1920, 1080),\n  children: [\n    // Intro Scene\n    Scene(\n      durationInFrames: 90, // 3 seconds\n      background: Background.gradient(\n        colors: {\n          0: Color(0xFF1a1a2e),\n          90: Color(0xFF16213e),\n        },\n      ),\n      children: [\n        VCenter(\n          child: AnimatedProp(\n            animation: PropAnimation.combine([\n              PropAnimation.scale(from: 0.8, to: 1.0),\n              PropAnimation.fade(from: 0, to: 1),\n            ]),\n            startFrame: 0,\n            endFrame: 30,\n            easing: Easing.easeOutBack,\n            child: Text(\n              'Welcome',\n              style: TextStyle(\n                fontSize: 72,\n                fontWeight: FontWeight.bold,\n                color: Colors.white,\n              ),\n            ),\n          ),\n        ),\n        ParticleEffect.sparkles(count: 20),\n      ],\n      transitionOut: SceneTransition.crossFade(durationInFrames: 15),\n    ),\n\n    // Content Scene\n    Scene(\n      durationInFrames: 150, // 5 seconds\n      children: [\n        VColumn(\n          spacing: 30,\n          stagger: StaggerConfig.slideUp(delay: 15),\n          children: [\n            StatCard(value: 365, label: 'Days'),\n            StatCard(value: 1234, label: 'Photos'),\n            StatCard(value: 56, label: 'Adventures'),\n          ],\n        ),\n      ],\n    ),\n  ],\n);\n</code></pre>"},{"location":"ide-helpers/cursor-rules/#common-mistakes-to-avoid","title":"Common Mistakes to Avoid","text":"<ol> <li>\u274c Using seconds instead of frames</li> <li>\u274c Forgetting the import statement</li> <li>\u274c Using regular Stack instead of VStack/LayerStack</li> <li>\u274c Not specifying fps in Video widget</li> <li>\u274c Overlapping animation frames causing glitches</li> <li>\u274c Missing easing on animations (looks robotic)</li> </ol>"},{"location":"ide-helpers/cursor-rules/#when-asked-to-generate-code","title":"When Asked to Generate Code","text":"<ol> <li>Calculate all timing in frames based on fps</li> <li>Include proper imports</li> <li>Use V-prefixed layout widgets</li> <li>Wrap animated content in AnimatedProp</li> <li>Consider using templates for common patterns</li> <li>Add scene transitions for multi-scene videos</li> <li>Include background and effects where appropriate ```</li> </ol>"},{"location":"ide-helpers/cursor-rules/#usage-tips","title":"Usage Tips","text":"<p>After adding the rules file:</p> <ol> <li>Ask for specific durations: \"Create a 2-second fade in at 30fps\"</li> <li>Reference templates: \"Use the StackClimb pattern\"</li> <li>Describe visuals: \"Slide in from left while scaling up\"</li> <li>Specify output: \"Generate a complete Scene widget\"</li> </ol>"},{"location":"ide-helpers/cursor-rules/#related","title":"Related","text":"<ul> <li>IDE Helpers Overview</li> <li>Claude Code Integration</li> <li>MCP Server</li> </ul>"},{"location":"mcp-agent/","title":"Fluvie MCP Agent","text":"<p>The Fluvie MCP (Model Context Protocol) server provides AI assistants with direct access to Fluvie documentation, code generation, and template suggestions.</p>"},{"location":"mcp-agent/#overview","title":"Overview","text":"<p>The MCP server enables AI tools like Claude Desktop, VS Code extensions, and other MCP-compatible clients to:</p> <ul> <li>Search Documentation - Find relevant widgets, patterns, and examples</li> <li>Generate Code - Create Fluvie compositions from natural language</li> <li>Suggest Templates - Get template recommendations for your use case</li> <li>Access References - Get detailed widget and template documentation</li> </ul> <p>Public Server: <code>https://mcp.fluvie.at</code></p>"},{"location":"mcp-agent/#quick-setup","title":"Quick Setup","text":""},{"location":"mcp-agent/#claude-desktop","title":"Claude Desktop","text":"<ol> <li>Open Claude Desktop settings</li> <li>Navigate to MCP Servers configuration</li> <li>Add the Fluvie server:</li> </ol> <pre><code>{\n  \"mcpServers\": {\n    \"fluvie\": {\n      \"url\": \"https://mcp.fluvie.at/mcp\",\n      \"transport\": \"http\"\n    }\n  }\n}\n</code></pre> <ol> <li>Restart Claude Desktop</li> <li>Ask Claude to help create Fluvie videos!</li> </ol>"},{"location":"mcp-agent/#vs-code-with-continuedev","title":"VS Code with Continue.dev","text":"<ol> <li>Install the Continue extension</li> <li>Open Continue settings (<code>~/.continue/config.json</code>)</li> <li>Add the MCP server:</li> </ol> <pre><code>{\n  \"mcpServers\": {\n    \"fluvie\": {\n      \"url\": \"https://mcp.fluvie.at/mcp\"\n    }\n  }\n}\n</code></pre> <ol> <li>Reload VS Code</li> </ol>"},{"location":"mcp-agent/#available-tools","title":"Available Tools","text":""},{"location":"mcp-agent/#1-searchdocs","title":"1. searchDocs","text":"<p>Search Fluvie documentation with intelligent ranking.</p> <p>Parameters: | Parameter | Type | Required | Description | |-----------|------|----------|-------------| | <code>query</code> | string | Yes | Search query | | <code>category</code> | string | No | Filter by category (widgets, templates, effects, etc.) | | <code>limit</code> | number | No | Max results (default: 10) |</p> <p>Example prompt:</p> <p>\"Search the Fluvie docs for how to animate text opacity\"</p> <p>Returns: - Relevant documentation sections - Code snippets - Related widget references</p>"},{"location":"mcp-agent/#2-gettemplate","title":"2. getTemplate","text":"<p>Get detailed template information and usage examples.</p> <p>Parameters: | Parameter | Type | Required | Description | |-----------|------|----------|-------------| | <code>category</code> | string | Yes | Template category | | <code>name</code> | string | Yes | Template name |</p> <p>Categories: intro, ranking, data_viz, collage, thematic, conclusion</p> <p>Example prompt:</p> <p>\"Get the details for TheNeonGate intro template\"</p> <p>Returns: - Template description - Required data fields - Optional properties - Complete code example</p>"},{"location":"mcp-agent/#3-suggesttemplates","title":"3. suggestTemplates","text":"<p>Get template recommendations based on your use case.</p> <p>Parameters: | Parameter | Type | Required | Description | |-----------|------|----------|-------------| | <code>useCase</code> | string | Yes | What you want to create | | <code>contentType</code> | string | No | Type of content (photos, stats, text, mixed) | | <code>mood</code> | string | No | Desired mood (dramatic, calm, energetic, nostalgic, modern) |</p> <p>Example prompt:</p> <p>\"Suggest Fluvie templates for a year-end music review with dramatic feel\"</p> <p>Returns: - Ranked template suggestions - Match scores - Brief descriptions</p>"},{"location":"mcp-agent/#4-getwidgetreference","title":"4. getWidgetReference","text":"<p>Get complete widget documentation.</p> <p>Parameters: | Parameter | Type | Required | Description | |-----------|------|----------|-------------| | <code>widgetName</code> | string | Yes | Name of the widget |</p> <p>Example prompt:</p> <p>\"Get the reference for the AnimatedProp widget\"</p> <p>Returns: - Widget description - All properties with types - Code examples - Related widgets</p>"},{"location":"mcp-agent/#5-generatecode","title":"5. generateCode","text":"<p>Generate Fluvie code from natural language descriptions.</p> <p>Parameters: | Parameter | Type | Required | Description | |-----------|------|----------|-------------| | <code>description</code> | string | Yes | What you want to create | | <code>type</code> | string | No | Output type: scene, video, widget (default: scene) | | <code>fps</code> | number | No | Frames per second (default: 30) | | <code>aspectRatio</code> | string | No | Aspect ratio: 16:9, 9:16, 1:1 (default: 16:9) |</p> <p>Example prompt:</p> <p>\"Generate code for an animated title with sparkles that fades in over 2 seconds\"</p> <p>Returns: - Complete, runnable Dart code - Comments explaining the structure - Import statements</p>"},{"location":"mcp-agent/#resources","title":"Resources","text":"<p>The MCP server also provides these resources:</p>"},{"location":"mcp-agent/#fluviedocsai-reference","title":"fluvie://docs/ai-reference","text":"<p>Complete AI-readable documentation in a single markdown file. Contains all widgets, templates, effects, and examples.</p>"},{"location":"mcp-agent/#fluvietemplates","title":"fluvie://templates","text":"<p>JSON catalog of all 30 templates with metadata.</p>"},{"location":"mcp-agent/#example-conversations","title":"Example Conversations","text":""},{"location":"mcp-agent/#creating-a-simple-scene","title":"Creating a Simple Scene","text":"<p>You: \"Create a Fluvie scene with animated text that says 'Welcome' with a fade in effect\"</p> <p>Claude with MCP: Uses <code>generateCode</code> to create:</p> <pre><code>import 'package:fluvie/declarative.dart';\n\nfinal scene = Scene(\n  durationInFrames: 90, // 3 seconds at 30fps\n  children: [\n    VCenter(\n      child: FadeText(\n        text: 'Welcome',\n        style: TextStyle(\n          fontSize: 72,\n          fontWeight: FontWeight.bold,\n          color: Colors.white,\n        ),\n        fadeInFrames: 30,\n      ),\n    ),\n  ],\n);\n</code></pre>"},{"location":"mcp-agent/#finding-the-right-template","title":"Finding the Right Template","text":"<p>You: \"I want to create a Spotify Wrapped style video showing my top 5 songs\"</p> <p>Claude with MCP: Uses <code>suggestTemplates</code> with useCase=\"ranking\" and finds:</p> <p>\"For a top 5 ranking video, I recommend StackClimb - it reveals items from bottom to top with stacking cards, perfect for countdowns. Here's how to use it...\"</p>"},{"location":"mcp-agent/#learning-widget-usage","title":"Learning Widget Usage","text":"<p>You: \"How do I use AnimatedProp to animate multiple properties?\"</p> <p>Claude with MCP: Uses <code>getWidgetReference</code> and <code>searchDocs</code> to explain:</p> <p>\"AnimatedProp drives animations using PropAnimation. For multiple properties, use <code>PropAnimation.combine()</code>. Here's an example...\"</p>"},{"location":"mcp-agent/#self-hosting","title":"Self-Hosting","text":"<p>If you prefer to run your own MCP server:</p>"},{"location":"mcp-agent/#docker-recommended","title":"Docker (Recommended)","text":"<pre><code># Clone the repository\ngit clone https://github.com/simonerich/fluvie.git\ncd fluvie/mcp-server\n\n# Configure\ncp .env.example .env\n# Edit .env as needed\n\n# Run\ndocker-compose up -d\n</code></pre>"},{"location":"mcp-agent/#manual","title":"Manual","text":"<pre><code>cd fluvie/mcp-server\n\n# Install dependencies\ndart pub get\n\n# Run\ndart run bin/server.dart\n</code></pre> <p>Configure your MCP client to use <code>http://localhost:8080/mcp</code></p> <p>See setup.md for detailed self-hosting instructions.</p>"},{"location":"mcp-agent/#related","title":"Related","text":"<ul> <li>IDE Integration Guide - Detailed setup for various IDEs</li> <li>Setup Guide - Self-hosting and configuration</li> <li>IDE Helpers - Using AI reference file directly</li> </ul>"},{"location":"mcp-agent/ide-integration/","title":"IDE Integration Guide","text":"<p>Configure various IDEs and AI tools to use the Fluvie MCP server.</p>"},{"location":"mcp-agent/ide-integration/#claude-desktop","title":"Claude Desktop","text":""},{"location":"mcp-agent/ide-integration/#configuration","title":"Configuration","text":"<ol> <li>Open Claude Desktop</li> <li>Go to Settings \u2192 Developer \u2192 MCP Servers</li> <li>Click Add Server</li> <li>Enter configuration:</li> </ol> <pre><code>{\n  \"mcpServers\": {\n    \"fluvie\": {\n      \"url\": \"https://mcp.fluvie.at/mcp\",\n      \"transport\": \"http\"\n    }\n  }\n}\n</code></pre> <p>On macOS, the config file is at: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></p> <p>On Windows: <code>%APPDATA%\\Claude\\claude_desktop_config.json</code></p>"},{"location":"mcp-agent/ide-integration/#usage","title":"Usage","text":"<p>After configuration, Claude can:</p> <ul> <li>Generate Fluvie code from descriptions</li> <li>Search documentation</li> <li>Suggest templates</li> <li>Explain widget usage</li> </ul> <p>Example prompts:</p> <p>\"Create a Fluvie scene with an animated title and sparkle effects\"</p> <p>\"What's the best template for showing a top 10 ranking?\"</p> <p>\"How do I use AnimatedProp to fade in text over 2 seconds?\"</p>"},{"location":"mcp-agent/ide-integration/#vs-code-with-continue","title":"VS Code with Continue","text":""},{"location":"mcp-agent/ide-integration/#installation","title":"Installation","text":"<ol> <li>Install Continue extension</li> <li>Open command palette: <code>Cmd/Ctrl + Shift + P</code></li> <li>Run: <code>Continue: Open Config File</code></li> </ol>"},{"location":"mcp-agent/ide-integration/#configuration_1","title":"Configuration","text":"<p>Add to <code>~/.continue/config.json</code>:</p> <pre><code>{\n  \"models\": [...],\n  \"mcpServers\": {\n    \"fluvie\": {\n      \"url\": \"https://mcp.fluvie.at/mcp\"\n    }\n  }\n}\n</code></pre>"},{"location":"mcp-agent/ide-integration/#usage_1","title":"Usage","text":"<ol> <li>Open Continue sidebar (<code>Cmd/Ctrl + L</code>)</li> <li>Ask questions about Fluvie</li> <li>Generate code directly in your project</li> </ol>"},{"location":"mcp-agent/ide-integration/#cursor-ide","title":"Cursor IDE","text":""},{"location":"mcp-agent/ide-integration/#configuration_2","title":"Configuration","text":"<ol> <li>Open Settings (<code>Cmd/Ctrl + ,</code>)</li> <li>Search for \"MCP\" or \"Model Context Protocol\"</li> <li>Add server configuration:</li> </ol> <pre><code>{\n  \"mcpServers\": {\n    \"fluvie\": {\n      \"url\": \"https://mcp.fluvie.at/mcp\",\n      \"transport\": \"http\"\n    }\n  }\n}\n</code></pre>"},{"location":"mcp-agent/ide-integration/#using-with-cursor","title":"Using with Cursor","text":"<p>In Cursor's AI chat or Composer:</p> <p>\"@fluvie generate a scene with animated stats\"</p>"},{"location":"mcp-agent/ide-integration/#zed-editor","title":"Zed Editor","text":""},{"location":"mcp-agent/ide-integration/#configuration_3","title":"Configuration","text":"<p>Add to your Zed settings (<code>~/.config/zed/settings.json</code>):</p> <pre><code>{\n  \"assistant\": {\n    \"mcp_servers\": {\n      \"fluvie\": {\n        \"url\": \"https://mcp.fluvie.at/mcp\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"mcp-agent/ide-integration/#generic-mcp-client","title":"Generic MCP Client","text":"<p>For any MCP-compatible client, use these settings:</p> Setting Value Server URL <code>https://mcp.fluvie.at/mcp</code> Transport HTTP SSE Endpoint <code>https://mcp.fluvie.at/mcp/sse</code>"},{"location":"mcp-agent/ide-integration/#json-rpc-example","title":"JSON-RPC Example","text":"<pre><code>curl -X POST https://mcp.fluvie.at/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"jsonrpc\": \"2.0\",\n    \"id\": 1,\n    \"method\": \"tools/list\"\n  }'\n</code></pre> <p>Response: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"result\": {\n    \"tools\": [\n      {\n        \"name\": \"searchDocs\",\n        \"description\": \"Search Fluvie documentation\",\n        \"inputSchema\": {...}\n      },\n      ...\n    ]\n  }\n}\n</code></pre></p>"},{"location":"mcp-agent/ide-integration/#local-development-setup","title":"Local Development Setup","text":"<p>For developing Fluvie projects with a local MCP server:</p>"},{"location":"mcp-agent/ide-integration/#1-start-local-server","title":"1. Start Local Server","text":"<pre><code>cd fluvie/mcp-server\ndocker-compose up -d\n</code></pre>"},{"location":"mcp-agent/ide-integration/#2-configure-ide","title":"2. Configure IDE","text":"<p>Replace the URL with your local server:</p> <pre><code>{\n  \"mcpServers\": {\n    \"fluvie\": {\n      \"url\": \"http://localhost:8080/mcp\",\n      \"transport\": \"http\"\n    }\n  }\n}\n</code></pre>"},{"location":"mcp-agent/ide-integration/#3-advantages","title":"3. Advantages","text":"<ul> <li>Faster responses (no network latency)</li> <li>Works offline</li> <li>Can customize documentation</li> <li>Test documentation changes before publishing</li> </ul>"},{"location":"mcp-agent/ide-integration/#combining-with-ide-helpers","title":"Combining with IDE Helpers","text":"<p>For the best experience, combine MCP with the AI reference file:</p> <ol> <li>Configure MCP server (for interactive queries)</li> <li>Add <code>FLUVIE_AI_REFERENCE.md</code> to project context (for code generation)</li> </ol> <p>See IDE Helpers for using the reference file.</p>"},{"location":"mcp-agent/ide-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"mcp-agent/ide-integration/#server-not-found-error","title":"\"Server not found\" error","text":"<ol> <li>Check server is running: <code>curl https://mcp.fluvie.at/health</code></li> <li>Verify URL in configuration</li> <li>Restart IDE after changing config</li> </ol>"},{"location":"mcp-agent/ide-integration/#tools-not-appearing","title":"Tools not appearing","text":"<ol> <li>Ensure MCP server is enabled in IDE settings</li> <li>Check for errors in IDE console/logs</li> <li>Try reconnecting: disable and re-enable server</li> </ol>"},{"location":"mcp-agent/ide-integration/#slow-responses","title":"Slow responses","text":"<ol> <li>Check internet connection</li> <li>Consider self-hosting for lower latency</li> <li>Use local server for development</li> </ol>"},{"location":"mcp-agent/ide-integration/#invalid-response-errors","title":"\"Invalid response\" errors","text":"<ol> <li>Check MCP server logs</li> <li>Verify you're using the correct endpoint (<code>/mcp</code>)</li> <li>Update IDE/extension to latest version</li> </ol>"},{"location":"mcp-agent/ide-integration/#next-steps","title":"Next Steps","text":"<ul> <li>MCP Agent Overview - Learn about available tools</li> <li>Setup Guide - Self-host the server</li> <li>IDE Helpers - Use AI reference file</li> </ul>"},{"location":"mcp-agent/setup/","title":"MCP Server Setup Guide","text":"<p>Complete guide for self-hosting the Fluvie MCP server.</p>"},{"location":"mcp-agent/setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose (recommended), OR</li> <li>Dart SDK 3.0+ for manual installation</li> <li>Port 8080 available (or configure alternate)</li> </ul>"},{"location":"mcp-agent/setup/#docker-installation-recommended","title":"Docker Installation (Recommended)","text":""},{"location":"mcp-agent/setup/#step-1-clone-repository","title":"Step 1: Clone Repository","text":"<pre><code>git clone https://github.com/simonerich/fluvie.git\ncd fluvie/mcp-server\n</code></pre>"},{"location":"mcp-agent/setup/#step-2-configure-environment","title":"Step 2: Configure Environment","text":"<pre><code>cp .env.example .env\n</code></pre> <p>Edit <code>.env</code> with your settings:</p> <pre><code># Server Configuration\nPORT=8080\nHOST=0.0.0.0\n\n# Documentation path (relative to mcp-server directory)\nDOCS_PATH=../doc\n\n# Logging: debug, info, warning, error\nLOG_LEVEL=info\n</code></pre>"},{"location":"mcp-agent/setup/#step-3-build-and-run","title":"Step 3: Build and Run","text":"<pre><code># Development mode (rebuilds on changes)\ndocker-compose up\n\n# Production mode (background)\ndocker-compose up -d\n\n# View logs\ndocker-compose logs -f fluvie-mcp\n</code></pre>"},{"location":"mcp-agent/setup/#step-4-verify","title":"Step 4: Verify","text":"<pre><code>curl http://localhost:8080/health\n</code></pre> <p>Expected response: <pre><code>{\n  \"status\": \"healthy\",\n  \"version\": \"1.0.0\",\n  \"indexes\": {\n    \"docs\": { \"status\": \"ready\", \"count\": 87 },\n    \"templates\": { \"status\": \"ready\", \"count\": 30 }\n  }\n}\n</code></pre></p>"},{"location":"mcp-agent/setup/#production-deployment-with-https","title":"Production Deployment with HTTPS","text":"<p>For production with automatic HTTPS certificates:</p>"},{"location":"mcp-agent/setup/#step-1-configure-domain","title":"Step 1: Configure Domain","text":"<p>Point your domain (e.g., <code>mcp.fluvie.at</code>) to your server's IP.</p>"},{"location":"mcp-agent/setup/#step-2-set-environment","title":"Step 2: Set Environment","text":"<pre><code># .env\nACME_EMAIL=your-email@example.com\n</code></pre>"},{"location":"mcp-agent/setup/#step-3-start-with-traefik","title":"Step 3: Start with Traefik","text":"<pre><code>docker-compose --profile with-proxy up -d\n</code></pre> <p>This starts: - Fluvie MCP server - Traefik reverse proxy with Let's Encrypt</p> <p>Your server is now available at <code>https://your-domain.com/mcp</code></p>"},{"location":"mcp-agent/setup/#manual-installation-without-docker","title":"Manual Installation (Without Docker)","text":""},{"location":"mcp-agent/setup/#step-1-install-dart","title":"Step 1: Install Dart","text":"<pre><code># macOS\nbrew install dart\n\n# Linux (Ubuntu/Debian)\nsudo apt-get update\nsudo apt-get install dart\n\n# Or use the official installer\n# https://dart.dev/get-dart\n</code></pre>"},{"location":"mcp-agent/setup/#step-2-clone-and-setup","title":"Step 2: Clone and Setup","text":"<pre><code>git clone https://github.com/simonerich/fluvie.git\ncd fluvie/mcp-server\ndart pub get\n</code></pre>"},{"location":"mcp-agent/setup/#step-3-configure","title":"Step 3: Configure","text":"<p>Create <code>.env</code> or set environment variables:</p> <pre><code>export PORT=8080\nexport HOST=0.0.0.0\nexport DOCS_PATH=../doc\nexport LOG_LEVEL=info\n</code></pre>"},{"location":"mcp-agent/setup/#step-4-run","title":"Step 4: Run","text":"<pre><code># Development\ndart run bin/server.dart\n\n# Production (compiled)\ndart compile exe bin/server.dart -o bin/server\n./bin/server\n</code></pre>"},{"location":"mcp-agent/setup/#configuration-reference","title":"Configuration Reference","text":"Variable Default Description <code>PORT</code> 8080 Server port <code>HOST</code> 0.0.0.0 Bind address <code>DOCS_PATH</code> ./data/docs Path to documentation <code>LOG_LEVEL</code> info Logging level <code>ACME_EMAIL</code> - Email for Let's Encrypt"},{"location":"mcp-agent/setup/#updating-documentation","title":"Updating Documentation","text":"<p>The server indexes documentation at startup. To update:</p>"},{"location":"mcp-agent/setup/#docker","title":"Docker","text":"<pre><code># Restart to re-index\ndocker-compose restart fluvie-mcp\n</code></pre>"},{"location":"mcp-agent/setup/#manual","title":"Manual","text":"<pre><code># Just restart the server\n./bin/server\n</code></pre>"},{"location":"mcp-agent/setup/#monitoring","title":"Monitoring","text":""},{"location":"mcp-agent/setup/#health-check","title":"Health Check","text":"<pre><code>curl http://localhost:8080/health\n</code></pre>"},{"location":"mcp-agent/setup/#docker-logs","title":"Docker Logs","text":"<pre><code>docker-compose logs -f fluvie-mcp\n</code></pre>"},{"location":"mcp-agent/setup/#container-status","title":"Container Status","text":"<pre><code>docker-compose ps\n</code></pre>"},{"location":"mcp-agent/setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"mcp-agent/setup/#server-wont-start","title":"Server Won't Start","text":"<ol> <li> <p>Check port availability:    <pre><code>lsof -i :8080\n</code></pre></p> </li> <li> <p>Check Docker logs:    <pre><code>docker-compose logs fluvie-mcp\n</code></pre></p> </li> <li> <p>Verify documentation path exists and is readable</p> </li> </ol>"},{"location":"mcp-agent/setup/#search-returns-no-results","title":"Search Returns No Results","text":"<ol> <li>Check document count in <code>/health</code> response</li> <li>Verify <code>DOCS_PATH</code> points to correct location</li> <li>Check logs for indexing errors</li> </ol>"},{"location":"mcp-agent/setup/#https-not-working","title":"HTTPS Not Working","text":"<ol> <li>Verify domain DNS is configured</li> <li>Check Traefik logs:    <pre><code>docker-compose logs traefik\n</code></pre></li> <li>Ensure ports 80 and 443 are open</li> </ol>"},{"location":"mcp-agent/setup/#connection-refused","title":"Connection Refused","text":"<ol> <li>Check <code>HOST</code> is set to <code>0.0.0.0</code> (not <code>localhost</code>)</li> <li>Verify firewall allows port 8080</li> <li>Check container is running:    <pre><code>docker ps\n</code></pre></li> </ol>"},{"location":"mcp-agent/setup/#performance-tuning","title":"Performance Tuning","text":""},{"location":"mcp-agent/setup/#for-high-traffic","title":"For High Traffic","text":"<pre><code># docker-compose.yml\nservices:\n  fluvie-mcp:\n    deploy:\n      resources:\n        limits:\n          cpus: '2'\n          memory: 1G\n</code></pre>"},{"location":"mcp-agent/setup/#multiple-instances","title":"Multiple Instances","text":"<p>Use a load balancer with multiple server instances:</p> <pre><code>services:\n  fluvie-mcp:\n    deploy:\n      replicas: 3\n</code></pre>"},{"location":"mcp-agent/setup/#security-considerations","title":"Security Considerations","text":"<ol> <li>Run as non-root: The Dockerfile creates a <code>fluvie</code> user</li> <li>Read-only docs: Mount documentation as read-only (<code>:ro</code>)</li> <li>HTTPS: Use Traefik or your own reverse proxy for TLS</li> <li>Rate limiting: Configure at reverse proxy level</li> </ol>"},{"location":"mcp-agent/setup/#next-steps","title":"Next Steps","text":"<ul> <li>IDE Integration - Configure your IDE</li> <li>MCP Agent Overview - Using the MCP tools</li> </ul>"},{"location":"platform_setup/linux/","title":"Linux Setup","text":"<p>Install and configure FFmpeg on Linux</p>"},{"location":"platform_setup/linux/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Installation</li> <li>Bundling FFmpeg</li> <li>Snap/Flatpak</li> <li>Troubleshooting</li> </ul>"},{"location":"platform_setup/linux/#installation","title":"Installation","text":""},{"location":"platform_setup/linux/#ubuntudebian","title":"Ubuntu/Debian","text":"<pre><code>sudo apt update\nsudo apt install ffmpeg\n</code></pre>"},{"location":"platform_setup/linux/#fedora","title":"Fedora","text":"<pre><code>sudo dnf install ffmpeg\n</code></pre>"},{"location":"platform_setup/linux/#arch-linux","title":"Arch Linux","text":"<pre><code>sudo pacman -S ffmpeg\n</code></pre>"},{"location":"platform_setup/linux/#verify-installation","title":"Verify Installation","text":"<pre><code>ffmpeg -version\n</code></pre>"},{"location":"platform_setup/linux/#bundling-ffmpeg-with-your-app","title":"Bundling FFmpeg with Your App","text":"<p>For distribution, you can bundle FFmpeg with your application:</p>"},{"location":"platform_setup/linux/#using-cmakeliststxt","title":"Using CMakeLists.txt","text":"<p>Add to <code>linux/CMakeLists.txt</code>:</p> <pre><code># Copy FFmpeg binary to bundle\ninstall(FILES \"${CMAKE_CURRENT_SOURCE_DIR}/ffmpeg\"\n        DESTINATION \"${INSTALL_BUNDLE_LIB_DIR}\"\n        PERMISSIONS OWNER_EXECUTE OWNER_WRITE OWNER_READ\n                    GROUP_EXECUTE GROUP_READ)\n</code></pre>"},{"location":"platform_setup/linux/#configure-fluvie-to-use-bundled-ffmpeg","title":"Configure Fluvie to Use Bundled FFmpeg","text":"<pre><code>import 'dart:io';\nimport 'package:path/path.dart' as path;\nimport 'package:fluvie/fluvie.dart';\n\nvoid main() {\n  // Get the directory where the executable is located\n  final execDir = path.dirname(Platform.resolvedExecutable);\n  final ffmpegPath = path.join(execDir, 'lib', 'ffmpeg');\n\n  if (File(ffmpegPath).existsSync()) {\n    FluvieConfig.configure(ffmpegPath: ffmpegPath);\n  }\n\n  runApp(MyApp());\n}\n</code></pre>"},{"location":"platform_setup/linux/#snapflatpak-considerations","title":"Snap/Flatpak Considerations","text":"<p>If distributing via Snap or Flatpak, FFmpeg may need to be included in your package or accessed via a plug/portal.</p>"},{"location":"platform_setup/linux/#snap","title":"Snap","text":"<p>Add to <code>snap/snapcraft.yaml</code>:</p> <pre><code>parts:\n  my-app:\n    stage-packages:\n      - ffmpeg\n</code></pre>"},{"location":"platform_setup/linux/#flatpak","title":"Flatpak","text":"<p>Add to your manifest:</p> <pre><code>{\n  \"modules\": [\n    {\n      \"name\": \"ffmpeg\",\n      \"buildsystem\": \"autotools\",\n      \"sources\": [\n        {\n          \"type\": \"archive\",\n          \"url\": \"https://ffmpeg.org/releases/ffmpeg-6.0.tar.xz\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"platform_setup/linux/#troubleshooting","title":"Troubleshooting","text":""},{"location":"platform_setup/linux/#ffmpeg-not-found","title":"FFmpeg Not Found","text":"<ol> <li> <p>Check if FFmpeg is in PATH:    <pre><code>which ffmpeg\n</code></pre></p> </li> <li> <p>If installed but not in PATH, configure the path:    <pre><code>FluvieConfig.configure(ffmpegPath: '/usr/local/bin/ffmpeg');\n</code></pre></p> </li> </ol>"},{"location":"platform_setup/linux/#permission-denied","title":"Permission Denied","text":"<p>Ensure the FFmpeg binary has execute permissions:</p> <pre><code>chmod +x /path/to/ffmpeg\n</code></pre>"},{"location":"platform_setup/linux/#missing-codecs","title":"Missing Codecs","text":"<p>Some distributions ship FFmpeg without proprietary codecs. Install the full version:</p> <pre><code># Ubuntu with restricted codecs\nsudo apt install ffmpeg ubuntu-restricted-extras\n</code></pre>"},{"location":"platform_setup/linux/#related","title":"Related","text":"<ul> <li>Platform Overview - All platforms</li> <li>FFmpeg Setup - General FFmpeg guide</li> <li>Custom FFmpeg Provider - Custom integrations</li> </ul>"},{"location":"platform_setup/macos/","title":"macOS Setup","text":"<p>Install and configure FFmpeg on macOS</p>"},{"location":"platform_setup/macos/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Installation</li> <li>Bundling FFmpeg</li> <li>Code Signing</li> <li>Notarization</li> <li>Troubleshooting</li> </ul>"},{"location":"platform_setup/macos/#installation","title":"Installation","text":""},{"location":"platform_setup/macos/#using-homebrew-recommended","title":"Using Homebrew (Recommended)","text":"<pre><code>brew install ffmpeg\n</code></pre>"},{"location":"platform_setup/macos/#using-macports","title":"Using MacPorts","text":"<pre><code>sudo port install ffmpeg\n</code></pre>"},{"location":"platform_setup/macos/#verify-installation","title":"Verify Installation","text":"<pre><code>ffmpeg -version\n</code></pre>"},{"location":"platform_setup/macos/#bundling-ffmpeg-with-your-app","title":"Bundling FFmpeg with Your App","text":"<p>For distribution via the Mac App Store or notarized apps, you'll want to bundle FFmpeg.</p>"},{"location":"platform_setup/macos/#download-static-build","title":"Download Static Build","text":"<ol> <li>Download a static FFmpeg build from evermeet.cx</li> <li>Place the binary in your project</li> </ol>"},{"location":"platform_setup/macos/#add-to-xcode-project","title":"Add to Xcode Project","text":"<ol> <li>In Xcode, right-click on Runner \u2192 Add Files to \"Runner\"</li> <li>Select the FFmpeg binary</li> <li>Ensure \"Copy items if needed\" is checked</li> <li>Add to the Runner target</li> </ol>"},{"location":"platform_setup/macos/#configure-build-phase","title":"Configure Build Phase","text":"<p>Add a \"Copy Files\" build phase:</p> <ol> <li>Select your target \u2192 Build Phases</li> <li>Add a \"Copy Files\" phase</li> <li>Destination: Executables</li> <li>Add the FFmpeg binary</li> </ol>"},{"location":"platform_setup/macos/#configure-fluvie","title":"Configure Fluvie","text":"<pre><code>import 'dart:io';\nimport 'package:path/path.dart' as path;\nimport 'package:fluvie/fluvie.dart';\n\nvoid main() {\n  final execDir = path.dirname(Platform.resolvedExecutable);\n  final ffmpegPath = path.join(execDir, 'ffmpeg');\n\n  if (File(ffmpegPath).existsSync()) {\n    FluvieConfig.configure(ffmpegPath: ffmpegPath);\n  }\n\n  runApp(MyApp());\n}\n</code></pre>"},{"location":"platform_setup/macos/#code-signing","title":"Code Signing","text":"<p>When distributing your app, the bundled FFmpeg binary must be signed.</p>"},{"location":"platform_setup/macos/#sign-the-binary","title":"Sign the Binary","text":"<pre><code>codesign --force --sign \"Developer ID Application: Your Name\" \\\n  --options runtime \\\n  path/to/ffmpeg\n</code></pre>"},{"location":"platform_setup/macos/#entitlements","title":"Entitlements","text":"<p>Create <code>ffmpeg.entitlements</code>:</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    &lt;key&gt;com.apple.security.cs.allow-unsigned-executable-memory&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre> <p>Sign with entitlements:</p> <pre><code>codesign --force --sign \"Developer ID Application: Your Name\" \\\n  --options runtime \\\n  --entitlements ffmpeg.entitlements \\\n  path/to/ffmpeg\n</code></pre>"},{"location":"platform_setup/macos/#notarization","title":"Notarization","text":"<p>For distribution outside the App Store:</p> <pre><code># Create a zip for notarization\nditto -c -k --keepParent YourApp.app YourApp.zip\n\n# Submit for notarization\nxcrun notarytool submit YourApp.zip \\\n  --apple-id your@email.com \\\n  --team-id YOURTEAMID \\\n  --password app-specific-password \\\n  --wait\n\n# Staple the ticket\nxcrun stapler staple YourApp.app\n</code></pre>"},{"location":"platform_setup/macos/#troubleshooting","title":"Troubleshooting","text":""},{"location":"platform_setup/macos/#ffmpeg-cannot-be-opened-because-the-developer-cannot-be-verified","title":"\"ffmpeg\" cannot be opened because the developer cannot be verified","text":"<p>This happens when FFmpeg isn't properly signed. Either:</p> <ol> <li>Sign the binary as shown above</li> <li>Or for development, allow it in System Preferences \u2192 Security &amp; Privacy</li> </ol>"},{"location":"platform_setup/macos/#library-not-loaded","title":"Library Not Loaded","text":"<p>If FFmpeg reports missing libraries:</p> <pre><code># Check dependencies\notool -L /path/to/ffmpeg\n</code></pre> <p>Use a statically linked FFmpeg build to avoid dependency issues.</p>"},{"location":"platform_setup/macos/#sandboxed-app-restrictions","title":"Sandboxed App Restrictions","text":"<p>If your app is sandboxed, FFmpeg may have limited file access. Ensure you:</p> <ol> <li>Request necessary entitlements</li> <li>Use app-accessible directories (Documents, temp)</li> <li>Or disable sandbox for development</li> </ol>"},{"location":"platform_setup/macos/#related","title":"Related","text":"<ul> <li>Platform Overview - All platforms</li> <li>FFmpeg Setup - General FFmpeg guide</li> <li>Custom FFmpeg Provider - Custom integrations</li> </ul>"},{"location":"platform_setup/mobile/","title":"Mobile Setup (Android &amp; iOS)","text":"<p>Configure FFmpegKit for mobile video encoding</p> <p>Mobile platforms don't have system FFmpeg available, so you need to use a custom provider. We recommend FFmpegKit.</p>"},{"location":"platform_setup/mobile/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Using FFmpegKit</li> <li>Android Configuration</li> <li>iOS Configuration</li> <li>FFmpegKit Variants</li> <li>Troubleshooting</li> </ul>"},{"location":"platform_setup/mobile/#using-ffmpegkit","title":"Using FFmpegKit","text":""},{"location":"platform_setup/mobile/#add-dependency","title":"Add Dependency","text":"<pre><code>dependencies:\n  ffmpeg_kit_flutter: ^6.0.3\n</code></pre>"},{"location":"platform_setup/mobile/#create-a-custom-provider","title":"Create a Custom Provider","text":"<p>Create a file <code>lib/ffmpeg_kit_provider.dart</code>:</p> <pre><code>import 'dart:async';\nimport 'dart:io';\nimport 'dart:typed_data';\nimport 'package:ffmpeg_kit_flutter/ffmpeg_kit.dart';\nimport 'package:ffmpeg_kit_flutter/return_code.dart';\nimport 'package:fluvie/fluvie.dart';\nimport 'package:path_provider/path_provider.dart';\n\nclass FFmpegKitProvider implements FFmpegProvider {\n  @override\n  String get name =&gt; 'FFmpegKit';\n\n  @override\n  Future&lt;bool&gt; isAvailable() async {\n    // FFmpegKit is always available when the package is included\n    return true;\n  }\n\n  @override\n  Future&lt;FFmpegSession&gt; startSession(FFmpegSessionConfig config) async {\n    return _FFmpegKitSession(config);\n  }\n\n  @override\n  Future&lt;void&gt; dispose() async {}\n}\n\nclass _FFmpegKitSession implements FFmpegSession {\n  final FFmpegSessionConfig config;\n  final _progressController = StreamController&lt;double&gt;.broadcast();\n  final _completedCompleter = Completer&lt;String&gt;();\n\n  late final String _inputPath;\n  late final String _outputPath;\n  late final IOSink _inputSink;\n  int _framesWritten = 0;\n  bool _finalized = false;\n\n  _FFmpegKitSession(this.config) {\n    _initialize();\n  }\n\n  Future&lt;void&gt; _initialize() async {\n    final tempDir = await getTemporaryDirectory();\n    _inputPath = '${tempDir.path}/fluvie_input_${DateTime.now().millisecondsSinceEpoch}.raw';\n    _outputPath = '${tempDir.path}/${config.outputFileName}';\n\n    // Create input file for raw frames\n    final inputFile = File(_inputPath);\n    _inputSink = inputFile.openWrite();\n  }\n\n  @override\n  Stream&lt;double&gt; get progress =&gt; _progressController.stream;\n\n  @override\n  Future&lt;String&gt; get completed =&gt; _completedCompleter.future;\n\n  @override\n  Future&lt;void&gt; addFrame(Uint8List rgbaBytes) async {\n    if (_finalized) {\n      throw StateError('Cannot add frames after finalize() was called');\n    }\n\n    _inputSink.add(rgbaBytes);\n    _framesWritten++;\n\n    if (config.totalFrames &gt; 0) {\n      final progress = (_framesWritten / config.totalFrames).clamp(0.0, 0.99);\n      _progressController.add(progress);\n    }\n  }\n\n  @override\n  Future&lt;void&gt; finalize() async {\n    if (_finalized) return;\n    _finalized = true;\n\n    await _inputSink.close();\n\n    // Build FFmpeg command\n    final command = _buildCommand();\n\n    // Execute FFmpeg\n    final session = await FFmpegKit.execute(command);\n    final returnCode = await session.getReturnCode();\n\n    if (ReturnCode.isSuccess(returnCode)) {\n      _progressController.add(1.0);\n      _completedCompleter.complete(_outputPath);\n    } else {\n      final logs = await session.getAllLogsAsString();\n      _completedCompleter.completeError(\n        FFmpegEncodingException(\n          'FFmpegKit encoding failed',\n          exitCode: returnCode?.getValue() ?? -1,\n          stderrOutput: logs,\n        ),\n      );\n    }\n\n    _progressController.close();\n\n    // Clean up input file\n    try {\n      await File(_inputPath).delete();\n    } catch (_) {}\n  }\n\n  String _buildCommand() {\n    final args = &lt;String&gt;[\n      '-y',\n      '-f', 'rawvideo',\n      '-pixel_format', 'rgba',\n      '-video_size', '${config.width}x${config.height}',\n      '-framerate', '${config.fps}',\n      '-i', _inputPath,\n    ];\n\n    // Add audio inputs\n    for (final audio in config.audioInputs) {\n      args.addAll(['-i', audio.uri]);\n    }\n\n    // Add filter graph\n    if (config.filterGraph != null &amp;&amp; config.filterGraph!.isNotEmpty) {\n      args.addAll(['-filter_complex', config.filterGraph!]);\n      if (config.videoOutputLabel != null) {\n        args.addAll(['-map', config.videoOutputLabel!]);\n      }\n      if (config.audioOutputLabel != null) {\n        args.addAll(['-map', config.audioOutputLabel!]);\n      }\n    } else {\n      args.addAll(['-vf', 'fps=${config.fps},format=${config.pixelFormat}']);\n    }\n\n    // Video codec\n    args.addAll([\n      '-c:v', config.videoCodec,\n      '-preset', config.preset,\n      '-crf', '${config.crf}',\n      '-pix_fmt', config.pixelFormat,\n    ]);\n\n    // Audio codec\n    if (config.audioInputs.isNotEmpty) {\n      args.addAll(['-c:a', 'aac', '-b:a', '192k']);\n    }\n\n    args.add(_outputPath);\n\n    return args.join(' ');\n  }\n\n  @override\n  Future&lt;void&gt; cancel() async {\n    _finalized = true;\n    FFmpegKit.cancel();\n\n    if (!_completedCompleter.isCompleted) {\n      _completedCompleter.completeError(\n        FFmpegEncodingException('Encoding cancelled by user'),\n      );\n    }\n    _progressController.close();\n\n    // Clean up files\n    try {\n      await File(_inputPath).delete();\n      await File(_outputPath).delete();\n    } catch (_) {}\n  }\n}\n</code></pre>"},{"location":"platform_setup/mobile/#register-the-provider","title":"Register the Provider","text":"<p>In your app's <code>main.dart</code>:</p> <pre><code>import 'package:flutter/material.dart';\nimport 'package:fluvie/fluvie.dart';\nimport 'ffmpeg_kit_provider.dart';\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n\n  // Register FFmpegKit provider for mobile\n  FFmpegProviderRegistry.setProvider(FFmpegKitProvider());\n\n  runApp(MyApp());\n}\n</code></pre>"},{"location":"platform_setup/mobile/#android-configuration","title":"Android Configuration","text":""},{"location":"platform_setup/mobile/#min-sdk-version","title":"Min SDK Version","text":"<p>FFmpegKit requires Android API 24+. In <code>android/app/build.gradle</code>:</p> <pre><code>android {\n    defaultConfig {\n        minSdkVersion 24\n    }\n}\n</code></pre>"},{"location":"platform_setup/mobile/#proguard-rules","title":"ProGuard Rules","text":"<p>If using ProGuard/R8, add to <code>android/app/proguard-rules.pro</code>:</p> <pre><code>-keep class com.arthenica.ffmpegkit.** { *; }\n</code></pre>"},{"location":"platform_setup/mobile/#ios-configuration","title":"iOS Configuration","text":""},{"location":"platform_setup/mobile/#minimum-ios-version","title":"Minimum iOS Version","text":"<p>FFmpegKit requires iOS 12.1+. In <code>ios/Podfile</code>:</p> <pre><code>platform :ios, '12.1'\n</code></pre>"},{"location":"platform_setup/mobile/#podfile-configuration","title":"Podfile Configuration","text":"<pre><code>post_install do |installer|\n  installer.pods_project.targets.each do |target|\n    target.build_configurations.each do |config|\n      config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '12.1'\n    end\n  end\nend\n</code></pre>"},{"location":"platform_setup/mobile/#ffmpegkit-variants","title":"FFmpegKit Variants","text":"<p>FFmpegKit comes in different variants with different codec support:</p> Variant Size Codecs min ~8MB Basic codecs min-gpl ~10MB + x264 full ~30MB All codecs full-gpl ~35MB All + GPL codecs <p>To use a specific variant:</p> <pre><code>dependencies:\n  ffmpeg_kit_flutter_full: ^6.0.3  # Full variant\n</code></pre>"},{"location":"platform_setup/mobile/#troubleshooting","title":"Troubleshooting","text":""},{"location":"platform_setup/mobile/#build-fails-on-android","title":"Build Fails on Android","text":"<ol> <li>Check min SDK version is 24+</li> <li>Clean and rebuild: <code>flutter clean &amp;&amp; flutter pub get</code></li> <li>Check for conflicting native libraries</li> </ol>"},{"location":"platform_setup/mobile/#build-fails-on-ios","title":"Build Fails on iOS","text":"<ol> <li>Check iOS deployment target is 12.1+</li> <li>Run <code>cd ios &amp;&amp; pod install --repo-update</code></li> <li>Check for bitcode issues (disable if needed)</li> </ol>"},{"location":"platform_setup/mobile/#large-app-size","title":"Large App Size","text":"<p>FFmpegKit adds significant size. Options:</p> <ol> <li>Use <code>min</code> variant for smaller size</li> <li>Use app bundles (Android) or app thinning (iOS)</li> <li>Consider on-demand download of FFmpeg</li> </ol>"},{"location":"platform_setup/mobile/#performance-on-older-devices","title":"Performance on Older Devices","text":"<p>Mobile encoding is CPU-intensive. Tips:</p> <ol> <li>Use lower resolution (720p)</li> <li>Use fewer frames (24fps)</li> <li>Show progress to users</li> <li>Consider background processing</li> </ol>"},{"location":"platform_setup/mobile/#related","title":"Related","text":"<ul> <li>Platform Overview - All platforms</li> <li>Custom FFmpeg Provider - Provider implementation details</li> <li>Performance Tips - Optimization strategies</li> <li>Encoding Settings - Quality vs. speed tradeoffs</li> </ul>"},{"location":"platform_setup/overview/","title":"Platform Setup Overview","text":"<p>Configure FFmpeg for your target platform</p> <p>Fluvie requires FFmpeg to encode video output. This guide covers how to set up FFmpeg for each supported platform.</p>"},{"location":"platform_setup/overview/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Supported Platforms</li> <li>Quick Start</li> <li>Checking FFmpeg Availability</li> <li>Custom FFmpeg Path</li> <li>Platform-Specific Guides</li> </ul>"},{"location":"platform_setup/overview/#supported-platforms","title":"Supported Platforms","text":"Platform Provider Setup Required Notes Linux ProcessFFmpegProvider Install FFmpeg via package manager Best performance macOS ProcessFFmpegProvider Install FFmpeg via Homebrew Best performance Windows ProcessFFmpegProvider Download FFmpeg and add to PATH Best performance Web WasmFFmpegProvider Add CORS headers to server ~50% slower than native Android Custom (FFmpegKit) Add ffmpeg_kit_flutter dependency +8-35MB app size iOS Custom (FFmpegKit) Add ffmpeg_kit_flutter dependency +8-35MB app size"},{"location":"platform_setup/overview/#quick-start","title":"Quick Start","text":""},{"location":"platform_setup/overview/#desktop-linux-macos-windows","title":"Desktop (Linux, macOS, Windows)","text":"<p>FFmpeg must be installed and available in your system PATH:</p> <pre><code># Linux\nsudo apt install ffmpeg\n\n# macOS\nbrew install ffmpeg\n\n# Windows - Download from ffmpeg.org and add to PATH\n</code></pre>"},{"location":"platform_setup/overview/#web","title":"Web","text":"<p>No installation needed - Fluvie uses ffmpeg.wasm automatically. However, your server must send these headers:</p> <pre><code>Cross-Origin-Opener-Policy: same-origin\nCross-Origin-Embedder-Policy: require-corp\n</code></pre>"},{"location":"platform_setup/overview/#mobile-androidios","title":"Mobile (Android/iOS)","text":"<p>Mobile platforms require a custom FFmpeg provider. We recommend using FFmpegKit:</p> <pre><code>// In your app's main.dart\nimport 'package:fluvie/fluvie.dart';\nimport 'your_ffmpeg_kit_provider.dart';\n\nvoid main() {\n  FFmpegProviderRegistry.setProvider(FFmpegKitProvider());\n  runApp(MyApp());\n}\n</code></pre>"},{"location":"platform_setup/overview/#checking-ffmpeg-availability","title":"Checking FFmpeg Availability","text":"<p>Use <code>FFmpegChecker</code> to verify setup:</p> <pre><code>import 'package:fluvie/fluvie.dart';\n\nvoid checkSetup() async {\n  final diagnostics = await FFmpegChecker.check();\n\n  if (diagnostics.isAvailable) {\n    print('FFmpeg ready: ${diagnostics.providerName}');\n  } else {\n    print('FFmpeg not found: ${diagnostics.errorMessage}');\n    print(diagnostics.installationInstructions);\n  }\n}\n</code></pre>"},{"location":"platform_setup/overview/#custom-ffmpeg-path","title":"Custom FFmpeg Path","text":"<p>If FFmpeg is installed in a non-standard location:</p> <pre><code>void main() {\n  FluvieConfig.configure(\n    ffmpegPath: '/opt/ffmpeg/bin/ffmpeg',\n    ffprobePath: '/opt/ffmpeg/bin/ffprobe',\n  );\n  runApp(MyApp());\n}\n</code></pre>"},{"location":"platform_setup/overview/#platform-specific-guides","title":"Platform-Specific Guides","text":"Guide Platform Description Linux Setup Ubuntu, Fedora, Arch Package manager installation macOS Setup macOS 10.15+ Homebrew installation, code signing Windows Setup Windows 10/11 Manual or Chocolatey installation Web Setup Browsers CORS configuration for ffmpeg.wasm Mobile Setup Android/iOS FFmpegKit integration"},{"location":"platform_setup/overview/#related","title":"Related","text":"<ul> <li>Getting Started - First steps with Fluvie</li> <li>FFmpeg Setup - Detailed FFmpeg guide</li> <li>Custom FFmpeg Provider - Custom integrations</li> <li>Server Mode - Server-only rendering</li> </ul>"},{"location":"platform_setup/web/","title":"Web Setup","text":"<p>Configure FFmpeg.wasm for browser-based video encoding</p> <p>Fluvie uses ffmpeg.wasm for web platform support. This runs FFmpeg entirely in the browser using WebAssembly.</p>"},{"location":"platform_setup/web/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Requirements</li> <li>Server Configuration</li> <li>Local Development</li> <li>FFmpeg.wasm Versions</li> <li>Limitations</li> <li>Troubleshooting</li> </ul>"},{"location":"platform_setup/web/#requirements","title":"Requirements","text":""},{"location":"platform_setup/web/#cors-headers","title":"CORS Headers","text":"<p>FFmpeg.wasm requires SharedArrayBuffer, which needs specific security headers:</p> <pre><code>Cross-Origin-Opener-Policy: same-origin\nCross-Origin-Embedder-Policy: require-corp\n</code></pre>"},{"location":"platform_setup/web/#server-configuration","title":"Server Configuration","text":""},{"location":"platform_setup/web/#nginx","title":"Nginx","text":"<pre><code>location / {\n    add_header Cross-Origin-Opener-Policy same-origin;\n    add_header Cross-Origin-Embedder-Policy require-corp;\n}\n</code></pre>"},{"location":"platform_setup/web/#apache","title":"Apache","text":"<pre><code>&lt;IfModule mod_headers.c&gt;\n    Header set Cross-Origin-Opener-Policy \"same-origin\"\n    Header set Cross-Origin-Embedder-Policy \"require-corp\"\n&lt;/IfModule&gt;\n</code></pre>"},{"location":"platform_setup/web/#expressjs","title":"Express.js","text":"<pre><code>app.use((req, res, next) =&gt; {\n  res.setHeader('Cross-Origin-Opener-Policy', 'same-origin');\n  res.setHeader('Cross-Origin-Embedder-Policy', 'require-corp');\n  next();\n});\n</code></pre>"},{"location":"platform_setup/web/#firebase-hosting","title":"Firebase Hosting","text":"<p>Add to <code>firebase.json</code>:</p> <pre><code>{\n  \"hosting\": {\n    \"headers\": [\n      {\n        \"source\": \"**/*\",\n        \"headers\": [\n          {\n            \"key\": \"Cross-Origin-Opener-Policy\",\n            \"value\": \"same-origin\"\n          },\n          {\n            \"key\": \"Cross-Origin-Embedder-Policy\",\n            \"value\": \"require-corp\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"platform_setup/web/#vercel","title":"Vercel","text":"<p>Add to <code>vercel.json</code>:</p> <pre><code>{\n  \"headers\": [\n    {\n      \"source\": \"/(.*)\",\n      \"headers\": [\n        {\n          \"key\": \"Cross-Origin-Opener-Policy\",\n          \"value\": \"same-origin\"\n        },\n        {\n          \"key\": \"Cross-Origin-Embedder-Policy\",\n          \"value\": \"require-corp\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"platform_setup/web/#netlify","title":"Netlify","text":"<p>Add to <code>netlify.toml</code>:</p> <pre><code>[[headers]]\n  for = \"/*\"\n  [headers.values]\n    Cross-Origin-Opener-Policy = \"same-origin\"\n    Cross-Origin-Embedder-Policy = \"require-corp\"\n</code></pre>"},{"location":"platform_setup/web/#local-development","title":"Local Development","text":""},{"location":"platform_setup/web/#flutters-built-in-server","title":"Flutter's Built-in Server","text":"<p>Flutter's <code>flutter run -d chrome</code> doesn't support custom headers. Options:</p> <ol> <li> <p>Use a local server - Run a simple server with headers:    <pre><code>npx http-server build/web --cors -c-1 \\\n  --header \"Cross-Origin-Opener-Policy: same-origin\" \\\n  --header \"Cross-Origin-Embedder-Policy: require-corp\"\n</code></pre></p> </li> <li> <p>Use the Fluvie dev server (if available in example):    <pre><code>cd example\nflutter build web\n# Run with headers enabled\n</code></pre></p> </li> </ol>"},{"location":"platform_setup/web/#ffmpegwasm-versions","title":"FFmpeg.wasm Versions","text":"<p>Fluvie uses ffmpeg.wasm loaded from CDN. The library handles loading automatically.</p>"},{"location":"platform_setup/web/#custom-cdn-path","title":"Custom CDN Path","text":"<p>If you need to host ffmpeg.wasm yourself:</p> <pre><code>// This would require modifying WasmFFmpegProvider\n// to accept a custom base URL (future feature)\n</code></pre>"},{"location":"platform_setup/web/#limitations","title":"Limitations","text":""},{"location":"platform_setup/web/#browser-compatibility","title":"Browser Compatibility","text":"<p>FFmpeg.wasm requires: - Chrome 89+ - Firefox 79+ - Safari 15.2+ - Edge 89+</p>"},{"location":"platform_setup/web/#performance","title":"Performance","text":"<ul> <li>WebAssembly is slower than native FFmpeg</li> <li>Large videos may cause memory issues</li> <li>Consider limiting resolution/duration for web</li> </ul>"},{"location":"platform_setup/web/#file-size","title":"File Size","text":"<p>FFmpeg.wasm adds ~25MB to your app (loaded on demand).</p>"},{"location":"platform_setup/web/#troubleshooting","title":"Troubleshooting","text":""},{"location":"platform_setup/web/#sharedarraybuffer-not-available","title":"SharedArrayBuffer Not Available","text":"<p>Error: <code>SharedArrayBuffer is not defined</code></p> <p>This means CORS headers are not set. Check your server configuration.</p>"},{"location":"platform_setup/web/#out-of-memory","title":"Out of Memory","text":"<p>WebAssembly has memory limits. For large videos:</p> <ol> <li>Reduce resolution</li> <li>Process in smaller chunks</li> <li>Increase memory limit (if possible)</li> </ol>"},{"location":"platform_setup/web/#slow-performance","title":"Slow Performance","text":"<p>Tips for better web performance:</p> <ol> <li>Use lower resolution (720p instead of 1080p)</li> <li>Use shorter durations</li> <li>Reduce frame rate (24fps instead of 60fps)</li> <li>Consider preprocessing complex compositions</li> </ol>"},{"location":"platform_setup/web/#cors-errors-with-external-resources","title":"CORS Errors with External Resources","text":"<p>If loading external images/videos, ensure they have proper CORS headers:</p> <pre><code>&lt;img crossorigin=\"anonymous\" src=\"...\" /&gt;\n</code></pre> <p>Or proxy them through your server.</p>"},{"location":"platform_setup/web/#related","title":"Related","text":"<ul> <li>Platform Overview - All platforms</li> <li>FFmpeg Setup - General FFmpeg guide</li> <li>Custom FFmpeg Provider - Custom integrations</li> <li>Performance Tips - Optimization for web</li> </ul>"},{"location":"platform_setup/windows/","title":"Windows Setup","text":"<p>Install and configure FFmpeg on Windows</p>"},{"location":"platform_setup/windows/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Installation</li> <li>Package Managers</li> <li>Bundling FFmpeg</li> <li>MSIX Packaging</li> <li>Troubleshooting</li> </ul>"},{"location":"platform_setup/windows/#installation","title":"Installation","text":""},{"location":"platform_setup/windows/#download-ffmpeg","title":"Download FFmpeg","text":"<ol> <li>Go to ffmpeg.org/download.html</li> <li>Under \"Windows\", click on \"Windows builds from gyan.dev\"</li> <li>Download the \"ffmpeg-release-essentials.zip\" (or full build for more codecs)</li> <li>Extract to a folder (e.g., <code>C:\\ffmpeg</code>)</li> </ol>"},{"location":"platform_setup/windows/#add-to-path","title":"Add to PATH","text":"<ol> <li>Open System Properties (Win+Pause or search \"Environment Variables\")</li> <li>Click \"Environment Variables\"</li> <li>Under \"System variables\", find \"Path\" and click \"Edit\"</li> <li>Click \"New\" and add <code>C:\\ffmpeg\\bin</code></li> <li>Click OK to save</li> </ol>"},{"location":"platform_setup/windows/#verify-installation","title":"Verify Installation","text":"<p>Open a new Command Prompt and run:</p> <pre><code>ffmpeg -version\n</code></pre>"},{"location":"platform_setup/windows/#using-chocolatey","title":"Using Chocolatey","text":"<pre><code>choco install ffmpeg\n</code></pre>"},{"location":"platform_setup/windows/#using-scoop","title":"Using Scoop","text":"<pre><code>scoop install ffmpeg\n</code></pre>"},{"location":"platform_setup/windows/#using-winget","title":"Using winget","text":"<pre><code>winget install FFmpeg\n</code></pre>"},{"location":"platform_setup/windows/#bundling-ffmpeg-with-your-app","title":"Bundling FFmpeg with Your App","text":""},{"location":"platform_setup/windows/#download-and-extract","title":"Download and Extract","text":"<ol> <li>Download the static FFmpeg build</li> <li>Extract <code>ffmpeg.exe</code> and <code>ffprobe.exe</code></li> <li>Place them in your project's <code>windows/</code> directory</li> </ol>"},{"location":"platform_setup/windows/#modify-cmakeliststxt","title":"Modify CMakeLists.txt","text":"<p>Add to <code>windows/CMakeLists.txt</code>:</p> <pre><code># Install FFmpeg binaries\ninstall(FILES \"${CMAKE_CURRENT_SOURCE_DIR}/ffmpeg.exe\"\n        DESTINATION \"${INSTALL_BUNDLE_DATA_DIR}\")\ninstall(FILES \"${CMAKE_CURRENT_SOURCE_DIR}/ffprobe.exe\"\n        DESTINATION \"${INSTALL_BUNDLE_DATA_DIR}\")\n</code></pre>"},{"location":"platform_setup/windows/#configure-fluvie","title":"Configure Fluvie","text":"<pre><code>import 'dart:io';\nimport 'package:path/path.dart' as path;\nimport 'package:fluvie/fluvie.dart';\n\nvoid main() {\n  final execDir = path.dirname(Platform.resolvedExecutable);\n  final ffmpegPath = path.join(execDir, 'data', 'ffmpeg.exe');\n\n  if (File(ffmpegPath).existsSync()) {\n    FluvieConfig.configure(ffmpegPath: ffmpegPath);\n  }\n\n  runApp(MyApp());\n}\n</code></pre>"},{"location":"platform_setup/windows/#msix-packaging","title":"MSIX Packaging","text":"<p>When creating an MSIX package:</p>"},{"location":"platform_setup/windows/#include-ffmpeg-in-package","title":"Include FFmpeg in Package","text":"<p>Add to your <code>pubspec.yaml</code>:</p> <pre><code>msix_config:\n  assets_directory_path: windows/assets\n</code></pre> <p>Place FFmpeg in <code>windows/assets/</code>.</p>"},{"location":"platform_setup/windows/#configure-at-runtime","title":"Configure at Runtime","text":"<pre><code>import 'package:path_provider/path_provider.dart';\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n\n  // For MSIX, assets are in a specific location\n  final appDir = await getApplicationSupportDirectory();\n  final ffmpegPath = path.join(appDir.path, 'ffmpeg.exe');\n\n  if (File(ffmpegPath).existsSync()) {\n    FluvieConfig.configure(ffmpegPath: ffmpegPath);\n  }\n\n  runApp(MyApp());\n}\n</code></pre>"},{"location":"platform_setup/windows/#troubleshooting","title":"Troubleshooting","text":""},{"location":"platform_setup/windows/#ffmpeg-is-not-recognized","title":"'ffmpeg' is not recognized","text":"<p>FFmpeg is not in PATH. Either:</p> <ol> <li>Add FFmpeg to PATH (see installation steps)</li> <li>Or configure the full path:    <pre><code>FluvieConfig.configure(ffmpegPath: r'C:\\ffmpeg\\bin\\ffmpeg.exe');\n</code></pre></li> </ol>"},{"location":"platform_setup/windows/#windows-defender-smartscreen","title":"Windows Defender SmartScreen","text":"<p>When running an unsigned app with bundled FFmpeg:</p> <ol> <li>Click \"More info\"</li> <li>Click \"Run anyway\"</li> </ol> <p>For distribution, consider code signing your application.</p>"},{"location":"platform_setup/windows/#antivirus-false-positives","title":"Antivirus False Positives","text":"<p>Some antivirus software flags FFmpeg. You may need to:</p> <ol> <li>Add an exception for your app's directory</li> <li>Use a well-known FFmpeg distribution (gyan.dev, BtbN)</li> </ol>"},{"location":"platform_setup/windows/#long-path-issues","title":"Long Path Issues","text":"<p>If you encounter path length issues:</p> <ol> <li>Enable long paths in Windows:    <pre><code>reg add \"HKLM\\SYSTEM\\CurrentControlSet\\Control\\FileSystem\" /v LongPathsEnabled /t REG_DWORD /d 1 /f\n</code></pre></li> <li>Restart your computer</li> </ol>"},{"location":"platform_setup/windows/#related","title":"Related","text":"<ul> <li>Platform Overview - All platforms</li> <li>FFmpeg Setup - General FFmpeg guide</li> <li>Custom FFmpeg Provider - Custom integrations</li> </ul>"},{"location":"security/best-practices/","title":"Security Best Practices","text":"<p>Guidelines for using Fluvie securely in production applications.</p>"},{"location":"security/best-practices/#overview","title":"Overview","text":"<p>Fluvie processes user-provided content and executes FFmpeg commands. Follow these best practices to prevent security vulnerabilities.</p>"},{"location":"security/best-practices/#input-validation","title":"Input Validation","text":""},{"location":"security/best-practices/#do-validate-file-paths","title":"\u2705 DO: Validate File Paths","text":"<p>Always validate file paths before using them:</p> <pre><code>import 'dart:io';\nimport 'package:path/path.dart' as path;\n\nString sanitizeFilePath(String userInput) {\n  // Remove path traversal attempts\n  final normalized = path.normalize(userInput);\n\n  // Ensure path doesn't escape allowed directory\n  if (normalized.contains('..')) {\n    throw ArgumentError('Invalid file path: path traversal detected');\n  }\n\n  // Check file exists\n  if (!File(normalized).existsSync()) {\n    throw FileNotFoundException(normalized);\n  }\n\n  return normalized;\n}\n\n// Usage:\ntry {\n  final safePath = sanitizeFilePath(userProvidedPath);\n  final video = VideoSource.file(safePath);\n} catch (e) {\n  // Handle invalid path\n}\n</code></pre>"},{"location":"security/best-practices/#dont-use-raw-user-input","title":"\u274c DON'T: Use Raw User Input","text":"<pre><code>// DANGEROUS: Direct user input to video source\nfinal videoPath = request.params['video'];  // Unsafe!\nfinal video = VideoSource.file(videoPath);  // Could access any file!\n</code></pre>"},{"location":"security/best-practices/#do-restrict-to-allowed-directories","title":"\u2705 DO: Restrict to Allowed Directories","text":"<pre><code>Future&lt;String&gt; validateVideoPath(String userPath) async {\n  final allowedDir = await getApplicationDocumentsDirectory();\n  final fullPath = path.join(allowedDir.path, 'videos', userPath);\n  final normalized = path.normalize(fullPath);\n\n  // Ensure path is within allowed directory\n  if (!normalized.startsWith(allowedDir.path)) {\n    throw SecurityException('Path outside allowed directory');\n  }\n\n  return normalized;\n}\n</code></pre>"},{"location":"security/best-practices/#ffmpeg-command-injection","title":"FFmpeg Command Injection","text":"<p>Fluvie sanitizes FFmpeg arguments, but additional precautions are recommended.</p>"},{"location":"security/best-practices/#do-use-fluvies-type-safe-apis","title":"\u2705 DO: Use Fluvie's Type-Safe APIs","text":"<pre><code>// Safe: Type-safe API\nVideoSequence(\n  source: VideoSource.asset('video.mp4'),\n  startTime: Duration(seconds: 5),\n  duration: Duration(seconds: 10),\n)\n\nAudioTrack(\n  source: AudioSource.file('/path/to/audio.mp3'),\n  volume: 0.8,\n)\n</code></pre>"},{"location":"security/best-practices/#dont-build-raw-ffmpeg-commands","title":"\u274c DON'T: Build Raw FFmpeg Commands","text":"<pre><code>// DANGEROUS: Manual FFmpeg command building\nfinal userFile = getUserInput();  // Unsafe!\nfinal cmd = 'ffmpeg -i $userFile output.mp4';  // Command injection risk!\nProcess.run('ffmpeg', ['-i', userFile, 'output.mp4']);  // Still risky!\n</code></pre>"},{"location":"security/best-practices/#do-validate-media-file-types","title":"\u2705 DO: Validate Media File Types","text":"<pre><code>bool isAllowedMediaType(String filePath) {\n  final allowedExtensions = {'.mp4', '.mov', '.avi', '.mp3', '.wav', '.m4a'};\n  final extension = path.extension(filePath).toLowerCase();\n  return allowedExtensions.contains(extension);\n}\n\n// Usage:\nif (!isAllowedMediaType(userPath)) {\n  throw ArgumentError('Unsupported file type');\n}\n</code></pre>"},{"location":"security/best-practices/#file-system-access","title":"File System Access","text":""},{"location":"security/best-practices/#do-restrict-output-directories","title":"\u2705 DO: Restrict Output Directories","text":"<pre><code>import 'package:path_provider/path_provider.dart';\n\nFuture&lt;void&gt; configureSecureOutput() async {\n  // Use app-specific directory\n  final outputDir = await getTemporaryDirectory();\n\n  FluvieConfig.configure(\n    outputDirectory: outputDir.path,\n  );\n}\n</code></pre>"},{"location":"security/best-practices/#dont-allow-arbitrary-paths","title":"\u274c DON'T: Allow Arbitrary Paths","text":"<pre><code>// DANGEROUS: User controls output path\nfinal userOutputPath = request.params['output'];  // Unsafe!\nFluvieConfig.configure(\n  outputDirectory: userOutputPath,  // Path traversal risk!\n);\n</code></pre>"},{"location":"security/best-practices/#do-generate-safe-file-names","title":"\u2705 DO: Generate Safe File Names","text":"<pre><code>import 'package:uuid/uuid.dart';\n\nString generateSafeFileName() {\n  final uuid = Uuid().v4();\n  return 'video_$uuid.mp4';  // Safe, unique filename\n}\n\n// Usage:\nfinal outputPath = path.join(\n  secureOutputDirectory,\n  generateSafeFileName(),\n);\n</code></pre>"},{"location":"security/best-practices/#web-security","title":"Web Security","text":"<p>When running Fluvie on web platforms:</p>"},{"location":"security/best-practices/#required-server-headers","title":"Required Server Headers","text":"<p>Configure your web server to send:</p> <pre><code># nginx configuration\nadd_header Cross-Origin-Embedder-Policy \"require-corp\";\nadd_header Cross-Origin-Opener-Policy \"same-origin\";\n</code></pre> <pre><code># Apache configuration\nHeader set Cross-Origin-Embedder-Policy \"require-corp\"\nHeader set Cross-Origin-Opener-Policy \"same-origin\"\n</code></pre>"},{"location":"security/best-practices/#content-security-policy","title":"Content Security Policy","text":"<p>Add CSP headers to prevent XSS:</p> <pre><code>&lt;meta http-equiv=\"Content-Security-Policy\"\n      content=\"default-src 'self';\n               script-src 'self' 'unsafe-inline' 'unsafe-eval' https://unpkg.com;\n               worker-src 'self' blob:;\"&gt;\n</code></pre>"},{"location":"security/best-practices/#validate-sharedarraybuffer","title":"Validate SharedArrayBuffer","text":"<pre><code>import 'dart:html' as html;\n\nbool isSharedArrayBufferAvailable() {\n  try {\n    // Check if SharedArrayBuffer is available\n    return html.window.navigator.userAgent.isNotEmpty &amp;&amp;\n           js.context.hasProperty('SharedArrayBuffer');\n  } catch (e) {\n    return false;\n  }\n}\n\n// Usage:\nif (!isSharedArrayBufferAvailable()) {\n  throw UnsupportedError(\n    'SharedArrayBuffer not available. Check server headers.',\n  );\n}\n</code></pre>"},{"location":"security/best-practices/#resource-limits","title":"Resource Limits","text":""},{"location":"security/best-practices/#do-set-composition-size-limits","title":"\u2705 DO: Set Composition Size Limits","text":"<pre><code>const maxWidth = 3840;   // 4K max\nconst maxHeight = 2160;\nconst maxDuration = 600; // 10 minutes max\n\nvoid validateComposition(VideoComposition composition) {\n  if (composition.width &gt; maxWidth || composition.height &gt; maxHeight) {\n    throw ArgumentError('Composition size exceeds limits');\n  }\n\n  final durationInSeconds = composition.durationInFrames / composition.fps;\n  if (durationInSeconds &gt; maxDuration) {\n    throw ArgumentError('Composition duration exceeds limit');\n  }\n}\n</code></pre>"},{"location":"security/best-practices/#do-limit-file-sizes","title":"\u2705 DO: Limit File Sizes","text":"<pre><code>const maxFileSize = 100 * 1024 * 1024; // 100 MB\n\nFuture&lt;void&gt; validateFileSize(String filePath) async {\n  final file = File(filePath);\n  final size = await file.length();\n\n  if (size &gt; maxFileSize) {\n    throw ArgumentError('File size exceeds ${maxFileSize ~/ 1024 ~/ 1024} MB limit');\n  }\n}\n</code></pre>"},{"location":"security/best-practices/#do-implement-timeouts","title":"\u2705 DO: Implement Timeouts","text":"<pre><code>Future&lt;String&gt; renderWithTimeout(RenderConfig config) async {\n  return await Future.any([\n    renderService.execute(config: config, ...),\n    Future.delayed(\n      Duration(minutes: 30),\n      () =&gt; throw TimeoutException('Render exceeded 30 minute timeout'),\n    ),\n  ]);\n}\n</code></pre>"},{"location":"security/best-practices/#temporary-file-management","title":"Temporary File Management","text":""},{"location":"security/best-practices/#do-clean-up-temporary-files","title":"\u2705 DO: Clean Up Temporary Files","text":"<pre><code>Future&lt;void&gt; renderAndCleanup(RenderConfig config) async {\n  final tempDir = await Directory.systemTemp.createTemp('fluvie_');\n\n  try {\n    FluvieConfig.configure(\n      outputDirectory: tempDir.path,\n      cleanupTempFiles: true,  // Auto cleanup\n    );\n\n    await renderService.execute(config: config, ...);\n  } finally {\n    // Ensure cleanup even if render fails\n    if (tempDir.existsSync()) {\n      await tempDir.delete(recursive: true);\n    }\n  }\n}\n</code></pre>"},{"location":"security/best-practices/#dont-leave-sensitive-data","title":"\u274c DON'T: Leave Sensitive Data","text":"<pre><code>// Bad: Sensitive content left in temp directory\nawait renderService.execute(...);\n// Temp files with user content remain!\n</code></pre>"},{"location":"security/best-practices/#api-rate-limiting","title":"API Rate Limiting","text":"<p>For server-side video generation:</p>"},{"location":"security/best-practices/#do-implement-rate-limits","title":"\u2705 DO: Implement Rate Limits","text":"<pre><code>import 'package:shelf_rate_limiter/shelf_rate_limiter.dart';\n\nfinal handler = Pipeline()\n    .addMiddleware(\n      rateLimiter(\n        requestsPerMinute: 10,  // Max 10 renders per minute\n      ),\n    )\n    .addHandler(renderVideoHandler);\n</code></pre>"},{"location":"security/best-practices/#do-queue-long-running-tasks","title":"\u2705 DO: Queue Long-Running Tasks","text":"<pre><code>import 'package:queue/queue.dart';\n\nfinal renderQueue = Queue(\n  parallel: 2,  // Max 2 concurrent renders\n  timeout: Duration(minutes: 30),\n);\n\nFuture&lt;String&gt; queuedRender(RenderConfig config) {\n  return renderQueue.add(() =&gt; renderService.execute(config: config, ...));\n}\n</code></pre>"},{"location":"security/best-practices/#error-handling","title":"Error Handling","text":""},{"location":"security/best-practices/#do-sanitize-error-messages","title":"\u2705 DO: Sanitize Error Messages","text":"<pre><code>// Don't expose internal paths in errors\ntry {\n  await renderService.execute(...);\n} catch (e) {\n  // Bad: Exposes internal path\n  // throw Exception('Failed to render: $e');\n\n  // Good: Generic error message\n  FluvieLogger.error('Render failed', module: 'security');\n  throw RenderException('Video generation failed. Please try again.');\n}\n</code></pre>"},{"location":"security/best-practices/#do-log-security-events","title":"\u2705 DO: Log Security Events","text":"<pre><code>void logSecurityEvent(String event, {Map&lt;String, dynamic&gt;? details}) {\n  FluvieLogger.warning(\n    'Security event: $event',\n    module: 'security',\n  );\n\n  // Send to security monitoring system\n  securityMonitor.log(event, details);\n}\n\n// Usage:\nif (!isValidPath(userPath)) {\n  logSecurityEvent('Invalid path attempt', {\n    'path': userPath,\n    'user': currentUser.id,\n  });\n  throw SecurityException('Invalid path');\n}\n</code></pre>"},{"location":"security/best-practices/#mobile-considerations","title":"Mobile Considerations","text":""},{"location":"security/best-practices/#android","title":"Android","text":"<pre><code>// Request only necessary permissions\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"\n                 android:maxSdkVersion=\"28\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n\n// Use scoped storage (Android 10+)\nfinal outputDir = await getExternalStorageDirectory();\n</code></pre>"},{"location":"security/best-practices/#ios","title":"iOS","text":"<pre><code>// Declare usage in Info.plist\n&lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;\n&lt;string&gt;Save rendered videos to your photo library&lt;/string&gt;\n\n// Use app sandbox\nfinal outputDir = await getApplicationDocumentsDirectory();\n</code></pre>"},{"location":"security/best-practices/#checklist","title":"Checklist","text":"<p>Before deploying Fluvie in production:</p> <ul> <li>[ ] Validate all file paths</li> <li>[ ] Restrict output directories</li> <li>[ ] Set resource limits (size, duration, memory)</li> <li>[ ] Implement timeouts</li> <li>[ ] Configure web security headers (if web)</li> <li>[ ] Clean up temporary files</li> <li>[ ] Sanitize error messages</li> <li>[ ] Log security events</li> <li>[ ] Implement rate limiting (if server-side)</li> <li>[ ] Test with malicious inputs</li> <li>[ ] Review FFmpeg command generation</li> <li>[ ] Set up monitoring and alerts</li> </ul>"},{"location":"security/best-practices/#related-documentation","title":"Related Documentation","text":"<ul> <li>Web Setup - Web-specific security</li> <li>Mobile Setup - Mobile permissions</li> <li>Custom Render Pipeline - Advanced security</li> </ul>"},{"location":"security/best-practices/#reporting-security-issues","title":"Reporting Security Issues","text":"<p>Found a security vulnerability? Please report it responsibly:</p> <ul> <li>Email: security contact - see SECURITY.md</li> <li>Do not open public GitHub issues for security vulnerabilities</li> <li>We aim to respond within 48 hours</li> </ul> <p>Last Updated: 2025-12-29</p> <p>Keep your users safe by following these practices!</p>"},{"location":"templates/","title":"Templates","text":"<p>Fluvie provides pre-built \"Wrapped-style\" templates for common video composition patterns. Templates are customizable scene compositions with standardized data contracts for consistent usage.</p>"},{"location":"templates/#overview","title":"Overview","text":"Category Description Use Case Intro Opening/identity scenes Year intro, brand reveals Ranking List/top-N displays Top songs, favorites DataViz Data visualization Statistics, metrics Collage Photo arrangements Photo grids, galleries Thematic Mood/vibe scenes Lo-fi, retro, glitch Conclusion Ending/summary scenes Wrap-up, share CTA"},{"location":"templates/#quick-start","title":"Quick Start","text":""},{"location":"templates/#using-a-template","title":"Using a Template","text":"<pre><code>Video(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  scenes: [\n    // Create template and convert to Scene\n    TheNeonGate(\n      data: IntroData(\n        title: 'Your 2024',\n        subtitle: 'Wrapped',\n        year: 2024,\n      ),\n    ).toScene(),\n\n    // Add more scenes\n    StackClimb(\n      data: RankingData(\n        title: 'Top Songs',\n        items: [\n          RankingItem(rank: 1, label: 'Song One'),\n          RankingItem(rank: 2, label: 'Song Two'),\n          RankingItem(rank: 3, label: 'Song Three'),\n        ],\n      ),\n    ).toScene(),\n  ],\n)\n</code></pre>"},{"location":"templates/#with-transitions","title":"With Transitions","text":"<pre><code>TheNeonGate(data: introData)\n  .toSceneWithCrossFade(fadeDuration: 20)\n\nStackClimb(data: rankingData)\n  .toSceneWithSlide(direction: TransitionSlideDirection.left)\n</code></pre>"},{"location":"templates/#template-architecture","title":"Template Architecture","text":""},{"location":"templates/#wrappedtemplate-base-class","title":"WrappedTemplate Base Class","text":"<p>All templates extend <code>WrappedTemplate</code>:</p> <pre><code>abstract class WrappedTemplate extends StatelessWidget {\n  final TemplateData data;       // Content data\n  final TemplateTheme? theme;    // Visual styling\n  final TemplateTiming? timing;  // Animation timing\n\n  int get recommendedLength;     // Suggested scene length\n  TemplateCategory get category; // Template category\n  String get description;        // Template description\n\n  Scene toScene();               // Convert to Scene\n  List&lt;Scene&gt; toScenes();        // Convert to multiple Scenes\n}\n</code></pre>"},{"location":"templates/#data-types","title":"Data Types","text":"<p>Each template category uses specific data types:</p> Category Data Type Key Fields Intro <code>IntroData</code> <code>title</code>, <code>subtitle</code>, <code>year</code>, <code>logoPath</code> Ranking <code>RankingData</code> <code>items</code>, <code>title</code> DataViz <code>DataVizData</code> <code>metrics</code>, <code>title</code> Collage <code>CollageData</code> <code>images</code>, <code>captions</code> Thematic <code>ThematicData</code> <code>text</code>, <code>images</code>, <code>theme</code> Conclusion <code>SummaryData</code> <code>stats</code>, <code>message</code>, <code>highlights</code>"},{"location":"templates/#data-types-reference","title":"Data Types Reference","text":""},{"location":"templates/#introdata","title":"IntroData","text":"<pre><code>IntroData(\n  title: 'Your 2024',           // Required\n  subtitle: 'Wrapped',          // Optional\n  year: 2024,                   // Optional\n  logoPath: 'assets/logo.png',  // Optional\n  userName: 'John',             // Optional\n  profileImagePath: 'assets/profile.jpg',  // Optional\n)\n</code></pre>"},{"location":"templates/#rankingdata","title":"RankingData","text":"<pre><code>RankingData(\n  title: 'Top Artists',\n  subtitle: 'This Year',\n  items: [\n    RankingItem(\n      rank: 1,\n      label: 'Artist Name',\n      subtitle: '234 hours',\n      imagePath: 'assets/artist1.jpg',\n      value: 234,\n      metadata: {'streams': 5000},\n    ),\n    RankingItem(rank: 2, label: 'Another Artist'),\n    RankingItem(rank: 3, label: 'Third Artist'),\n  ],\n  isTopList: true,\n)\n</code></pre>"},{"location":"templates/#datavizdata","title":"DataVizData","text":"<pre><code>DataVizData(\n  title: 'Your Stats',\n  subtitle: 'In Numbers',\n  metrics: [\n    MetricData(label: 'Hours', value: 1234, unit: 'hrs'),\n    MetricData.percentage(label: 'Growth', value: 45),\n    MetricData.minutes(label: 'Daily Average', minutes: 120),\n    MetricData.count(label: 'Songs', count: 5678),\n  ],\n  maxValue: 2000,\n)\n</code></pre>"},{"location":"templates/#collagedata","title":"CollageData","text":"<pre><code>CollageData(\n  title: 'Your Moments',\n  subtitle: '2024 Gallery',\n  images: [\n    'assets/photo1.jpg',\n    'assets/photo2.jpg',\n    'assets/photo3.jpg',\n  ],\n  captions: ['Beach Day', 'Mountains', 'City'],\n  featuredIndex: 0,\n  layout: TemplateCollageLayout.grid,\n)\n</code></pre>"},{"location":"templates/#thematicdata","title":"ThematicData","text":"<pre><code>ThematicData(\n  text: 'Your Music Journey',\n  title: 'The Vibe',\n  subtitle: '2024 Edition',\n  images: ['assets/mood1.jpg', 'assets/mood2.jpg'],\n  statValue: '1,234',\n  statLabel: 'hours',\n  theme: 'lofi',\n  accentColor: Colors.purple,\n)\n</code></pre>"},{"location":"templates/#summarydata","title":"SummaryData","text":"<pre><code>SummaryData(\n  title: 'That\\'s a Wrap!',\n  subtitle: 'See You Next Year',\n  name: 'John',\n  year: 2024,\n  stats: {\n    'Hours': '1,234',\n    'Songs': '5,678',\n    'Artists': '234',\n  },\n  highlights: [\n    HighlightItem(title: 'Top Fan', description: 'Top 1% of listeners'),\n    HighlightItem(title: 'Genre Explorer', description: '12 genres'),\n  ],\n  message: 'Thanks for an amazing year!',\n  ctaText: 'Share Your Wrapped',\n  shareUrl: 'https://example.com/share',\n)\n</code></pre>"},{"location":"templates/#theming","title":"Theming","text":""},{"location":"templates/#templatetheme","title":"TemplateTheme","text":"<p>Customize visual appearance:</p> <pre><code>TheNeonGate(\n  data: introData,\n  theme: TemplateTheme(\n    primaryColor: Colors.cyan,\n    secondaryColor: Colors.pink,\n    backgroundColor: Colors.black,\n    textColor: Colors.white,\n    accentColor: Colors.purple,\n  ),\n)\n</code></pre>"},{"location":"templates/#built-in-themes","title":"Built-in Themes","text":"<pre><code>// Neon/cyberpunk style\ntheme: TemplateTheme.neon\n\n// Spotify-inspired\ntheme: TemplateTheme.spotify\n\n// Clean minimal\ntheme: TemplateTheme.minimal\n\n// Warm sunset colors\ntheme: TemplateTheme.sunset\n\n// Cool ocean blues\ntheme: TemplateTheme.ocean\n</code></pre>"},{"location":"templates/#timing","title":"Timing","text":""},{"location":"templates/#templatetiming","title":"TemplateTiming","text":"<p>Customize animation timing:</p> <pre><code>TheNeonGate(\n  data: introData,\n  timing: TemplateTiming(\n    entryDelay: 0,        // Frames before first element\n    entryDuration: 30,    // Entry animation duration\n    staggerDelay: 10,     // Delay between elements\n    holdDuration: 60,     // How long to hold at full\n    exitDuration: 20,     // Exit animation duration\n  ),\n)\n</code></pre>"},{"location":"templates/#built-in-timings","title":"Built-in Timings","text":"<pre><code>// Standard pacing\ntiming: TemplateTiming.standard\n\n// Slower, more dramatic\ntiming: TemplateTiming.dramatic\n\n// Faster, snappier\ntiming: TemplateTiming.snappy\n\n// Very quick\ntiming: TemplateTiming.quick\n</code></pre>"},{"location":"templates/#converting-to-scenes","title":"Converting to Scenes","text":""},{"location":"templates/#basic-conversion","title":"Basic Conversion","text":"<pre><code>// Default scene length\ntemplate.toScene()\n\n// Custom length\ntemplate.toScene(durationInFrames: 200)\n\n// With transitions\ntemplate.toScene(\n  durationInFrames: 180,\n  transitionIn: SceneTransition.crossFade(durationInFrames: 20),\n  transitionOut: SceneTransition.slideLeft(durationInFrames: 15),\n)\n</code></pre>"},{"location":"templates/#convenience-methods","title":"Convenience Methods","text":"<pre><code>// Cross-fade both directions\ntemplate.toSceneWithCrossFade(fadeDuration: 20)\n\n// Slide transition\ntemplate.toSceneWithSlide(\n  direction: TransitionSlideDirection.left,\n  slideDuration: 25,\n)\n</code></pre>"},{"location":"templates/#multiple-scenes","title":"Multiple Scenes","text":"<p>Some templates generate multiple scenes:</p> <pre><code>// Get all scenes from a template\nfinal scenes = complexTemplate.toScenes();\n\nVideo(\n  scenes: [\n    ...introTemplate.toScenes(),\n    ...rankingTemplate.toScenes(),\n    ...conclusionTemplate.toScenes(),\n  ],\n)\n</code></pre>"},{"location":"templates/#complete-example","title":"Complete Example","text":"<pre><code>final introData = IntroData(\n  title: 'Your 2024',\n  subtitle: 'Wrapped',\n  year: 2024,\n);\n\nfinal rankingData = RankingData(\n  title: 'Top 5 Songs',\n  items: [\n    RankingItem(rank: 1, label: 'Song One', imagePath: 'assets/song1.jpg'),\n    RankingItem(rank: 2, label: 'Song Two', imagePath: 'assets/song2.jpg'),\n    RankingItem(rank: 3, label: 'Song Three', imagePath: 'assets/song3.jpg'),\n    RankingItem(rank: 4, label: 'Song Four', imagePath: 'assets/song4.jpg'),\n    RankingItem(rank: 5, label: 'Song Five', imagePath: 'assets/song5.jpg'),\n  ],\n);\n\nfinal summaryData = SummaryData(\n  title: 'That\\'s a Wrap!',\n  stats: {\n    'Hours': '1,234',\n    'Songs': '5,678',\n  },\n  message: 'See you in 2025!',\n);\n\nVideo(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  backgroundMusicAsset: 'assets/music.mp3',\n  scenes: [\n    TheNeonGate(\n      data: introData,\n      theme: TemplateTheme.neon,\n    ).toSceneWithCrossFade(),\n\n    StackClimb(\n      data: rankingData,\n      theme: TemplateTheme.spotify,\n    ).toSceneWithSlide(direction: TransitionSlideDirection.left),\n\n    TheSummaryPoster(\n      data: summaryData,\n    ).toSceneWithCrossFade(),\n  ],\n)\n</code></pre>"},{"location":"templates/#related","title":"Related","text":"<ul> <li>Using Templates - Detailed usage guide</li> <li>Scene - Scene widget</li> <li>Video - Video composition</li> <li>SceneTransition - Scene transitions</li> </ul>"},{"location":"templates/collage-templates/","title":"Collage Templates","text":"<p>Photo grids and image arrangements</p> <p>Collage templates display multiple images in creative arrangements, perfect for showcasing album art, photos, or memories.</p>"},{"location":"templates/collage-templates/#table-of-contents","title":"Table of Contents","text":"<ul> <li>TheGridShuffle</li> <li>MosaicReveal</li> <li>BentoRecap</li> <li>TriptychScroll</li> <li>SplitPersonality</li> </ul>"},{"location":"templates/collage-templates/#thegridshuffle","title":"TheGridShuffle","text":"<p>3x3 grid with shuffling images that settle</p> <p>Creates an exciting reveal where images swap positions rapidly like a shuffle animation before settling into their final grid arrangement.</p>"},{"location":"templates/collage-templates/#visual-style","title":"Visual Style","text":"<ul> <li>3x3 (or custom) grid layout</li> <li>Rapid position swapping</li> <li>Cards fly in from bottom</li> <li>Smooth settle animation</li> </ul>"},{"location":"templates/collage-templates/#best-for","title":"Best For","text":"<ul> <li>Top 9 grid</li> <li>Album art displays</li> <li>Photo collages</li> </ul>"},{"location":"templates/collage-templates/#properties","title":"Properties","text":"Property Type Default Description <code>data</code> <code>CollageData</code> required Collage content data <code>theme</code> <code>TemplateTheme?</code> <code>spotify</code> Visual theme <code>gridSize</code> <code>int</code> <code>3</code> Grid dimensions (NxN) <code>shuffleDuration</code> <code>int</code> <code>60</code> Shuffle phase frames <code>cellGap</code> <code>double</code> <code>8</code> Gap between cells <code>seed</code> <code>int</code> <code>42</code> Random seed for shuffle"},{"location":"templates/collage-templates/#usage","title":"Usage","text":"<pre><code>TheGridShuffle(\n  data: CollageData(\n    title: 'Your Top Albums',\n    subtitle: '2024 Collection',\n    images: [\n      'album1.jpg', 'album2.jpg', 'album3.jpg',\n      'album4.jpg', 'album5.jpg', 'album6.jpg',\n      'album7.jpg', 'album8.jpg', 'album9.jpg',\n    ],\n  ),\n  gridSize: 3,\n  shuffleDuration: 60,\n  cellGap: 8,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/collage-templates/#recommended-length","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/collage-templates/#mosaicreveal","title":"MosaicReveal","text":"<p>Mosaic tiles flip to reveal images</p> <p>Creates a puzzle-like effect where blank tiles flip over one by one to reveal the underlying image collage.</p>"},{"location":"templates/collage-templates/#visual-style_1","title":"Visual Style","text":"<ul> <li>Grid of square tiles</li> <li>Flip reveal animation</li> <li>Staggered tile reveals</li> <li>Glowing highlight effect</li> </ul>"},{"location":"templates/collage-templates/#best-for_1","title":"Best For","text":"<ul> <li>Reveal sequences</li> <li>Photo memories</li> <li>Grid galleries</li> </ul>"},{"location":"templates/collage-templates/#properties_1","title":"Properties","text":"Property Type Default Description <code>data</code> <code>CollageData</code> required Collage content data <code>theme</code> <code>TemplateTheme?</code> <code>midnight</code> Visual theme <code>tileCount</code> <code>int</code> <code>4</code> Tiles per side (NxN) <code>revealPattern</code> <code>RevealPattern</code> <code>spiral</code> Order of reveal <code>flipDuration</code> <code>int</code> <code>15</code> Frames per flip"},{"location":"templates/collage-templates/#reveal-patterns","title":"Reveal Patterns","text":"<pre><code>RevealPattern.spiral    // Spiral from center\nRevealPattern.random    // Random order\nRevealPattern.rows      // Row by row\nRevealPattern.diagonal  // Diagonal sweep\n</code></pre>"},{"location":"templates/collage-templates/#usage_1","title":"Usage","text":"<pre><code>MosaicReveal(\n  data: CollageData(\n    title: 'Memories',\n    images: [\n      'photo1.jpg', 'photo2.jpg', 'photo3.jpg', 'photo4.jpg',\n      'photo5.jpg', 'photo6.jpg', 'photo7.jpg', 'photo8.jpg',\n      'photo9.jpg', 'photo10.jpg', 'photo11.jpg', 'photo12.jpg',\n      'photo13.jpg', 'photo14.jpg', 'photo15.jpg', 'photo16.jpg',\n    ],\n  ),\n  tileCount: 4,\n  revealPattern: RevealPattern.spiral,\n).toScene()\n</code></pre>"},{"location":"templates/collage-templates/#recommended-length_1","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/collage-templates/#bentorecap","title":"BentoRecap","text":"<p>Japanese bento box-style layout with varied sizes</p> <p>Creates an asymmetric grid layout inspired by bento boxes, with one featured large image and several smaller ones.</p>"},{"location":"templates/collage-templates/#visual-style_2","title":"Visual Style","text":"<ul> <li>Asymmetric grid layout</li> <li>One featured large cell</li> <li>Mixed sizes create visual interest</li> <li>Smooth entry animations</li> </ul>"},{"location":"templates/collage-templates/#best-for_2","title":"Best For","text":"<ul> <li>Featured + supporting images</li> <li>Album highlights</li> <li>Mixed content displays</li> </ul>"},{"location":"templates/collage-templates/#properties_2","title":"Properties","text":"Property Type Default Description <code>data</code> <code>CollageData</code> required Collage content data <code>theme</code> <code>TemplateTheme?</code> <code>minimal</code> Visual theme <code>layout</code> <code>BentoLayout</code> <code>standard</code> Layout arrangement <code>gap</code> <code>double</code> <code>12</code> Gap between cells <code>borderRadius</code> <code>double</code> <code>16</code> Cell corner radius"},{"location":"templates/collage-templates/#bento-layouts","title":"Bento Layouts","text":"<pre><code>BentoLayout.standard    // Large left, small right\nBentoLayout.inverted    // Large right, small left\nBentoLayout.topHeavy    // Large top, small bottom\nBentoLayout.bottomHeavy // Large bottom, small top\n</code></pre>"},{"location":"templates/collage-templates/#usage_2","title":"Usage","text":"<pre><code>BentoRecap(\n  data: CollageData(\n    title: 'Your Highlights',\n    images: [\n      'featured.jpg',   // Large image\n      'small1.jpg', 'small2.jpg', 'small3.jpg',\n      'small4.jpg', 'small5.jpg',\n    ],\n    featuredIndex: 0,\n  ),\n  layout: BentoLayout.standard,\n  gap: 12,\n  borderRadius: 16,\n).toSceneWithSlide(direction: TransitionSlideDirection.up)\n</code></pre>"},{"location":"templates/collage-templates/#recommended-length_2","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/collage-templates/#triptychscroll","title":"TriptychScroll","text":"<p>Three-panel horizontal scroll reveal</p> <p>Creates a cinematic triptych effect with three vertical panels that scroll in from different directions.</p>"},{"location":"templates/collage-templates/#visual-style_3","title":"Visual Style","text":"<ul> <li>Three vertical panels</li> <li>Parallax scroll effect</li> <li>Images slide into place</li> <li>Elegant transitions</li> </ul>"},{"location":"templates/collage-templates/#best-for_3","title":"Best For","text":"<ul> <li>Three featured images</li> <li>Before/during/after sequences</li> <li>Cinematic reveals</li> </ul>"},{"location":"templates/collage-templates/#properties_3","title":"Properties","text":"Property Type Default Description <code>data</code> <code>CollageData</code> required Collage content data <code>theme</code> <code>TemplateTheme?</code> <code>minimal</code> Visual theme <code>panelGap</code> <code>double</code> <code>20</code> Gap between panels <code>parallaxIntensity</code> <code>double</code> <code>0.3</code> Parallax effect amount <code>showCaptions</code> <code>bool</code> <code>true</code> Show image captions"},{"location":"templates/collage-templates/#usage_3","title":"Usage","text":"<pre><code>TriptychScroll(\n  data: CollageData(\n    title: 'Your Journey',\n    images: ['past.jpg', 'present.jpg', 'future.jpg'],\n    captions: ['Then', 'Now', 'Next'],\n  ),\n  panelGap: 20,\n  parallaxIntensity: 0.3,\n  showCaptions: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/collage-templates/#recommended-length_3","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/collage-templates/#splitpersonality","title":"SplitPersonality","text":"<p>Split-screen comparison layout</p> <p>Creates a dynamic split-screen effect showing contrasting or related images side by side with animated divider.</p>"},{"location":"templates/collage-templates/#visual-style_4","title":"Visual Style","text":"<ul> <li>Two-panel split layout</li> <li>Animated center divider</li> <li>Zoom/pan on each half</li> <li>Comparison labels</li> </ul>"},{"location":"templates/collage-templates/#best-for_4","title":"Best For","text":"<ul> <li>Before/after comparisons</li> <li>Genre contrasts</li> <li>Day vs night themes</li> </ul>"},{"location":"templates/collage-templates/#properties_4","title":"Properties","text":"Property Type Default Description <code>data</code> <code>CollageData</code> required Collage content data <code>theme</code> <code>TemplateTheme?</code> <code>neon</code> Visual theme <code>splitDirection</code> <code>SplitDirection</code> <code>vertical</code> Split orientation <code>animateDivider</code> <code>bool</code> <code>true</code> Animate the divider <code>showLabels</code> <code>bool</code> <code>true</code> Show side labels"},{"location":"templates/collage-templates/#split-directions","title":"Split Directions","text":"<pre><code>SplitDirection.vertical    // Left/right split\nSplitDirection.horizontal  // Top/bottom split\nSplitDirection.diagonal    // Diagonal split\n</code></pre>"},{"location":"templates/collage-templates/#usage_4","title":"Usage","text":"<pre><code>SplitPersonality(\n  data: CollageData(\n    title: 'Your Moods',\n    images: ['happy.jpg', 'chill.jpg'],\n    captions: ['Upbeat', 'Relaxed'],\n  ),\n  splitDirection: SplitDirection.vertical,\n  animateDivider: true,\n  showLabels: true,\n).toScene()\n</code></pre>"},{"location":"templates/collage-templates/#recommended-length_4","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/collage-templates/#collagedata-reference","title":"CollageData Reference","text":"<p>All collage templates use <code>CollageData</code>:</p> <pre><code>CollageData(\n  title: 'Your Moments',          // Optional: section title\n  subtitle: '2024 Gallery',       // Optional: subtitle\n  description: 'A year in...',    // Optional: description\n  images: [                       // Required: image paths\n    'assets/photo1.jpg',\n    'assets/photo2.jpg',\n    'assets/photo3.jpg',\n  ],\n  captions: ['One', 'Two', 'Three'], // Optional: per-image captions\n  featuredIndex: 0,               // Optional: featured image index\n  layout: TemplateCollageLayout.grid, // Optional: layout hint\n  stats: {'Photos': 100},         // Optional: statistics\n)\n</code></pre>"},{"location":"templates/collage-templates/#layout-hints","title":"Layout Hints","text":"<pre><code>TemplateCollageLayout.grid      // Standard grid\nTemplateCollageLayout.masonry   // Pinterest-style\nTemplateCollageLayout.featured  // One large + thumbnails\nTemplateCollageLayout.strip     // Horizontal scroll\nTemplateCollageLayout.diagonal  // Diagonal arrangement\n</code></pre>"},{"location":"templates/collage-templates/#image-recommendations","title":"Image Recommendations","text":"Grid Size Images Needed Aspect Ratio 3x3 9 images Square (1:1) 4x4 16 images Square (1:1) Bento 5-6 images Mixed Triptych 3 images Portrait (3:4) Split 2 images Depends on split"},{"location":"templates/collage-templates/#theme-recommendations","title":"Theme Recommendations","text":"Template Recommended Theme Alternative TheGridShuffle <code>TemplateTheme.spotify</code> <code>neon</code> MosaicReveal <code>TemplateTheme.midnight</code> <code>minimal</code> BentoRecap <code>TemplateTheme.minimal</code> <code>pastel</code> TriptychScroll <code>TemplateTheme.minimal</code> <code>ocean</code> SplitPersonality <code>TemplateTheme.neon</code> <code>spotify</code>"},{"location":"templates/collage-templates/#related","title":"Related","text":"<ul> <li>Templates Overview</li> <li>Using Templates</li> <li>DataViz Templates</li> <li>Thematic Templates</li> </ul>"},{"location":"templates/conclusion-templates/","title":"Conclusion Templates","text":"<p>Ending scenes that wrap up your video beautifully</p> <p>Conclusion templates provide satisfying endings for your video, summarizing key stats, displaying shareable content, or creating memorable farewells.</p>"},{"location":"templates/conclusion-templates/#table-of-contents","title":"Table of Contents","text":"<ul> <li>TheSummaryPoster</li> <li>ParticleFarewell</li> <li>WrappedReceipt</li> <li>TheInfinityLoop</li> <li>TheSignature</li> </ul>"},{"location":"templates/conclusion-templates/#thesummaryposter","title":"TheSummaryPoster","text":"<p>High-design poster with summary stats</p> <p>Creates a shareable poster-style summary of the year with key stats, a QR code for sharing, and beautiful typography. Designed to look great as a screenshot.</p>"},{"location":"templates/conclusion-templates/#visual-style","title":"Visual Style","text":"<ul> <li>Clean poster layout</li> <li>Stats in card grid</li> <li>Optional QR code</li> <li>Sparkle decorations</li> </ul>"},{"location":"templates/conclusion-templates/#best-for","title":"Best For","text":"<ul> <li>Final summaries</li> <li>Shareable content</li> <li>Year recaps</li> </ul>"},{"location":"templates/conclusion-templates/#properties","title":"Properties","text":"Property Type Default Description <code>data</code> <code>SummaryData</code> required Summary content data <code>theme</code> <code>TemplateTheme?</code> <code>spotify</code> Visual theme <code>showQR</code> <code>bool</code> <code>true</code> Show QR code <code>showDecorations</code> <code>bool</code> <code>true</code> Show sparkle effects <code>layout</code> <code>PosterLayout</code> <code>centered</code> Layout arrangement"},{"location":"templates/conclusion-templates/#poster-layouts","title":"Poster Layouts","text":"<pre><code>PosterLayout.centered     // Stats centered in grid\nPosterLayout.leftAligned  // Text left, QR right\nPosterLayout.grid         // 2x2 stats grid\n</code></pre>"},{"location":"templates/conclusion-templates/#usage","title":"Usage","text":"<pre><code>TheSummaryPoster(\n  data: SummaryData(\n    title: 'Your 2024 Wrapped',\n    name: 'John Doe',\n    year: 2024,\n    stats: {\n      'Hours': '1,234',\n      'Songs': '5,678',\n      'Artists': '234',\n      'Genres': '12',\n    },\n    subtitle: 'See you next year!',\n    qrData: 'https://wrapped.example.com/share/123',\n  ),\n  theme: TemplateTheme.spotify,\n  showQR: true,\n  layout: PosterLayout.centered,\n).toSceneWithCrossFade(fadeDuration: 30)\n</code></pre>"},{"location":"templates/conclusion-templates/#recommended-length","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/conclusion-templates/#particlefarewell","title":"ParticleFarewell","text":"<p>Explosion of particles forming farewell message</p> <p>Creates a dramatic ending where particles explode outward, then converge to form a farewell message before dispersing.</p>"},{"location":"templates/conclusion-templates/#visual-style_1","title":"Visual Style","text":"<ul> <li>Particle burst animation</li> <li>Text formation from particles</li> <li>Color-shifting particles</li> <li>Ethereal fadeout</li> </ul>"},{"location":"templates/conclusion-templates/#best-for_1","title":"Best For","text":"<ul> <li>Dramatic endings</li> <li>Celebratory finales</li> <li>Emotional goodbyes</li> </ul>"},{"location":"templates/conclusion-templates/#properties_1","title":"Properties","text":"Property Type Default Description <code>data</code> <code>SummaryData</code> required Summary content data <code>theme</code> <code>TemplateTheme?</code> <code>neon</code> Visual theme <code>particleCount</code> <code>int</code> <code>500</code> Number of particles <code>formationSpeed</code> <code>double</code> <code>1.0</code> Text formation speed <code>disperseAtEnd</code> <code>bool</code> <code>true</code> Particles disperse at end <code>particleColors</code> <code>List&lt;Color&gt;?</code> <code>null</code> Custom particle colors"},{"location":"templates/conclusion-templates/#usage_1","title":"Usage","text":"<pre><code>ParticleFarewell(\n  data: SummaryData(\n    title: 'Until Next Time',\n    message: 'Thanks for an amazing year!',\n    year: 2024,\n  ),\n  theme: TemplateTheme.neon,\n  particleCount: 500,\n  formationSpeed: 1.0,\n  disperseAtEnd: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/conclusion-templates/#recommended-length_1","title":"Recommended Length","text":"<p>210 frames (7 seconds at 30fps)</p>"},{"location":"templates/conclusion-templates/#wrappedreceipt","title":"WrappedReceipt","text":"<p>Receipt-style summary that prints out</p> <p>Creates a playful receipt-style summary that \"prints\" line by line, mimicking a store receipt with all your stats.</p>"},{"location":"templates/conclusion-templates/#visual-style_2","title":"Visual Style","text":"<ul> <li>Receipt paper texture</li> <li>Typewriter-style printing</li> <li>Dotted line separators</li> <li>Total at bottom</li> </ul>"},{"location":"templates/conclusion-templates/#best-for_2","title":"Best For","text":"<ul> <li>Playful summaries</li> <li>Detailed stat breakdowns</li> <li>Quirky endings</li> </ul>"},{"location":"templates/conclusion-templates/#properties_2","title":"Properties","text":"Property Type Default Description <code>data</code> <code>SummaryData</code> required Summary content data <code>theme</code> <code>TemplateTheme?</code> <code>minimal</code> Visual theme <code>printSpeed</code> <code>double</code> <code>1.0</code> Print animation speed <code>showBarcode</code> <code>bool</code> <code>true</code> Show barcode at bottom <code>paperColor</code> <code>Color?</code> <code>null</code> Receipt paper color <code>inkColor</code> <code>Color?</code> <code>null</code> Text/ink color"},{"location":"templates/conclusion-templates/#usage_2","title":"Usage","text":"<pre><code>WrappedReceipt(\n  data: SummaryData(\n    title: 'YOUR RECEIPT',\n    name: 'VALUED LISTENER',\n    year: 2024,\n    stats: {\n      'HOURS LISTENED': '1,234',\n      'SONGS PLAYED': '5,678',\n      'NEW ARTISTS': '89',\n      'PLAYLISTS MADE': '12',\n    },\n    message: 'THANK YOU FOR LISTENING!',\n  ),\n  theme: TemplateTheme.minimal,\n  printSpeed: 1.0,\n  showBarcode: true,\n).toScene()\n</code></pre>"},{"location":"templates/conclusion-templates/#recommended-length_2","title":"Recommended Length","text":"<p>200 frames (6.7 seconds at 30fps)</p>"},{"location":"templates/conclusion-templates/#theinfinityloop","title":"TheInfinityLoop","text":"<p>Looping animation suggesting continuation</p> <p>Creates a mesmerizing infinite loop animation symbolizing the never-ending journey, with stats displayed in the loop path.</p>"},{"location":"templates/conclusion-templates/#visual-style_3","title":"Visual Style","text":"<ul> <li>Infinity symbol animation</li> <li>Stats along the path</li> <li>Continuous flow motion</li> <li>Glowing trail effect</li> </ul>"},{"location":"templates/conclusion-templates/#best-for_3","title":"Best For","text":"<ul> <li>\"See you next year\" themes</li> <li>Continuity messaging</li> <li>Eternal/timeless vibes</li> </ul>"},{"location":"templates/conclusion-templates/#properties_3","title":"Properties","text":"Property Type Default Description <code>data</code> <code>SummaryData</code> required Summary content data <code>theme</code> <code>TemplateTheme?</code> <code>ocean</code> Visual theme <code>loopSpeed</code> <code>double</code> <code>0.5</code> Animation speed <code>glowIntensity</code> <code>double</code> <code>0.7</code> Trail glow amount <code>showParticles</code> <code>bool</code> <code>true</code> Trailing particles"},{"location":"templates/conclusion-templates/#usage_3","title":"Usage","text":"<pre><code>TheInfinityLoop(\n  data: SummaryData(\n    title: 'The Journey Continues',\n    message: 'See You in 2025',\n    year: 2024,\n    stats: {\n      'This Year': '1,234 hrs',\n      'All Time': '5,678 hrs',\n    },\n  ),\n  theme: TemplateTheme.ocean,\n  loopSpeed: 0.5,\n  glowIntensity: 0.7,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/conclusion-templates/#recommended-length_3","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/conclusion-templates/#thesignature","title":"TheSignature","text":"<p>Handwritten signature animation farewell</p> <p>Creates an elegant ending with a handwritten signature animation, as if personally signed by the creator or brand.</p>"},{"location":"templates/conclusion-templates/#visual-style_4","title":"Visual Style","text":"<ul> <li>Animated signature drawing</li> <li>Elegant cursive style</li> <li>Paper texture background</li> <li>Ink pen effect</li> </ul>"},{"location":"templates/conclusion-templates/#best-for_4","title":"Best For","text":"<ul> <li>Personal touch endings</li> <li>Brand signatures</li> <li>Artistic farewells</li> </ul>"},{"location":"templates/conclusion-templates/#properties_4","title":"Properties","text":"Property Type Default Description <code>data</code> <code>SummaryData</code> required Summary content data <code>theme</code> <code>TemplateTheme?</code> <code>minimal</code> Visual theme <code>drawSpeed</code> <code>double</code> <code>1.0</code> Signature draw speed <code>inkColor</code> <code>Color?</code> <code>null</code> Signature ink color <code>showUnderline</code> <code>bool</code> <code>true</code> Draw underline flourish <code>signatureText</code> <code>String?</code> <code>null</code> Custom signature text"},{"location":"templates/conclusion-templates/#usage_4","title":"Usage","text":"<pre><code>TheSignature(\n  data: SummaryData(\n    title: 'With Love',\n    name: 'Your Music App',\n    year: 2024,\n    message: 'Thanks for the memories',\n  ),\n  theme: TemplateTheme.minimal,\n  drawSpeed: 1.0,\n  showUnderline: true,\n  signatureText: 'Spotify',\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/conclusion-templates/#recommended-length_4","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/conclusion-templates/#summarydata-reference","title":"SummaryData Reference","text":"<p>All conclusion templates use <code>SummaryData</code>:</p> <pre><code>SummaryData(\n  title: 'That\\'s a Wrap!',       // Optional: title\n  subtitle: 'See You Next Year',  // Optional: subtitle\n  name: 'John',                   // Optional: user name\n  year: 2024,                     // Optional: year\n  stats: {                        // Optional: key statistics\n    'Hours': '1,234',\n    'Songs': '5,678',\n    'Artists': '234',\n  },\n  highlights: [                   // Optional: achievements\n    HighlightItem(\n      title: 'Top Fan',\n      description: 'Top 1% of listeners',\n      icon: Icons.star,\n    ),\n  ],\n  message: 'Thanks for...',       // Optional: closing message\n  ctaText: 'Share',               // Optional: button text\n  shareUrl: 'https://...',        // Optional: share link\n  qrData: 'https://...',          // Optional: QR code data\n)\n</code></pre>"},{"location":"templates/conclusion-templates/#highlightitem","title":"HighlightItem","text":"<pre><code>HighlightItem(\n  title: 'Achievement Name',\n  description: 'Achievement description',\n  icon: Icons.star,               // Optional icon\n  color: Colors.gold,             // Optional color\n)\n</code></pre>"},{"location":"templates/conclusion-templates/#theme-recommendations","title":"Theme Recommendations","text":"Template Recommended Theme Alternative TheSummaryPoster <code>TemplateTheme.spotify</code> <code>minimal</code> ParticleFarewell <code>TemplateTheme.neon</code> <code>midnight</code> WrappedReceipt <code>TemplateTheme.minimal</code> Custom paper TheInfinityLoop <code>TemplateTheme.ocean</code> <code>neon</code> TheSignature <code>TemplateTheme.minimal</code> <code>retro</code>"},{"location":"templates/conclusion-templates/#transition-recommendations","title":"Transition Recommendations","text":"<p>Conclusion templates work best with longer fade-out transitions:</p> <pre><code>template.toSceneWithCrossFade(fadeDuration: 30)  // Longer fade for endings\n\n// Or no transition out for the final scene\ntemplate.toScene(\n  transitionIn: SceneTransition.crossFade(durationInFrames: 20),\n  transitionOut: SceneTransition.none(),  // Final scene\n)\n</code></pre>"},{"location":"templates/conclusion-templates/#related","title":"Related","text":"<ul> <li>Templates Overview</li> <li>Using Templates</li> <li>Thematic Templates</li> <li>Intro Templates</li> </ul>"},{"location":"templates/data-viz-templates/","title":"DataViz Templates","text":"<p>Visualize statistics and metrics with engaging animations</p> <p>DataViz templates transform numbers into visually compelling scenes, perfect for displaying listening hours, counts, percentages, and other metrics.</p>"},{"location":"templates/data-viz-templates/#table-of-contents","title":"Table of Contents","text":"<ul> <li>LiquidMinutes</li> <li>OrbitalMetrics</li> <li>BinaryRain</li> <li>TheGrowthTree</li> <li>FrequencyGlow</li> </ul>"},{"location":"templates/data-viz-templates/#liquidminutes","title":"LiquidMinutes","text":"<p>Container fills with liquid representing time/data</p> <p>Creates a satisfying visualization where a container (glass, jar, etc.) fills up with animated liquid. The liquid level represents the main metric, with bubbles and waves for visual interest.</p>"},{"location":"templates/data-viz-templates/#visual-style","title":"Visual Style","text":"<ul> <li>Animated liquid fill animation</li> <li>Wave effect at liquid surface</li> <li>Rising bubbles</li> <li>Glass shine effect</li> </ul>"},{"location":"templates/data-viz-templates/#best-for","title":"Best For","text":"<ul> <li>Total listening time</li> <li>Hours/minutes metrics</li> <li>Progress indicators</li> </ul>"},{"location":"templates/data-viz-templates/#properties","title":"Properties","text":"Property Type Default Description <code>data</code> <code>DataVizData</code> required Data visualization data <code>theme</code> <code>TemplateTheme?</code> <code>ocean</code> Visual theme <code>containerShape</code> <code>ContainerShape</code> <code>glass</code> Shape of container <code>liquidColor</code> <code>Color?</code> <code>null</code> Custom liquid color <code>showBubbles</code> <code>bool</code> <code>true</code> Show rising bubbles <code>fillTarget</code> <code>double</code> <code>0.85</code> Target fill level (0-1)"},{"location":"templates/data-viz-templates/#container-shapes","title":"Container Shapes","text":"<pre><code>ContainerShape.glass   // Wine glass shape\nContainerShape.jar     // Mason jar shape\nContainerShape.bottle  // Bottle shape\nContainerShape.beaker  // Lab beaker shape\n</code></pre>"},{"location":"templates/data-viz-templates/#usage","title":"Usage","text":"<pre><code>LiquidMinutes(\n  data: DataVizData(\n    title: 'Minutes Listened',\n    subtitle: 'This Year',\n    metrics: [\n      MetricData(label: 'Total Time', value: 45000),\n    ],\n    total: 45000,\n  ),\n  containerShape: ContainerShape.glass,\n  showBubbles: true,\n  fillTarget: 0.85,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/data-viz-templates/#recommended-length","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/data-viz-templates/#orbitalmetrics","title":"OrbitalMetrics","text":"<p>Metrics orbit around a central point</p> <p>Creates a space-themed visualization where metrics circle around a central element, with each data point represented as an orbiting body.</p>"},{"location":"templates/data-viz-templates/#visual-style_1","title":"Visual Style","text":"<ul> <li>Central focus element</li> <li>Orbiting metric indicators</li> <li>Orbital path rings</li> <li>Glowing trail effects</li> </ul>"},{"location":"templates/data-viz-templates/#best-for_1","title":"Best For","text":"<ul> <li>Multiple related metrics</li> <li>Category breakdowns</li> <li>Interconnected data</li> </ul>"},{"location":"templates/data-viz-templates/#properties_1","title":"Properties","text":"Property Type Default Description <code>data</code> <code>DataVizData</code> required Data visualization data <code>theme</code> <code>TemplateTheme?</code> <code>midnight</code> Visual theme <code>orbitSpeed</code> <code>double</code> <code>0.5</code> Rotation speed <code>showOrbits</code> <code>bool</code> <code>true</code> Show orbital paths <code>showTrails</code> <code>bool</code> <code>true</code> Show trailing effects"},{"location":"templates/data-viz-templates/#usage_1","title":"Usage","text":"<pre><code>OrbitalMetrics(\n  data: DataVizData(\n    title: 'Your Music Universe',\n    metrics: [\n      MetricData(label: 'Pop', value: 45, color: Colors.pink),\n      MetricData(label: 'Rock', value: 30, color: Colors.red),\n      MetricData(label: 'Hip-Hop', value: 15, color: Colors.purple),\n      MetricData(label: 'Electronic', value: 10, color: Colors.blue),\n    ],\n  ),\n  orbitSpeed: 0.5,\n  showOrbits: true,\n).toScene()\n</code></pre>"},{"location":"templates/data-viz-templates/#recommended-length_1","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/data-viz-templates/#binaryrain","title":"BinaryRain","text":"<p>Matrix-style binary rain revealing data</p> <p>Creates a cyberpunk-inspired visualization where numbers rain down the screen, eventually coalescing to reveal the main statistic.</p>"},{"location":"templates/data-viz-templates/#visual-style_2","title":"Visual Style","text":"<ul> <li>Falling binary/number streams</li> <li>Matrix-like rain effect</li> <li>Numbers coalesce into statistic</li> <li>Glow effects</li> </ul>"},{"location":"templates/data-viz-templates/#best-for_2","title":"Best For","text":"<ul> <li>Tech-themed stats</li> <li>Digital metrics</li> <li>Count reveals</li> </ul>"},{"location":"templates/data-viz-templates/#properties_2","title":"Properties","text":"Property Type Default Description <code>data</code> <code>DataVizData</code> required Data visualization data <code>theme</code> <code>TemplateTheme?</code> <code>neon</code> Visual theme <code>rainDensity</code> <code>double</code> <code>0.7</code> Density of falling characters <code>useBinary</code> <code>bool</code> <code>true</code> Use 0s and 1s vs random digits <code>revealSpeed</code> <code>double</code> <code>1.0</code> Speed of reveal animation"},{"location":"templates/data-viz-templates/#usage_2","title":"Usage","text":"<pre><code>BinaryRain(\n  data: DataVizData(\n    title: 'Total Streams',\n    metrics: [\n      MetricData.count(label: 'Streams', count: 1234567),\n    ],\n    total: 1234567,\n  ),\n  theme: TemplateTheme.neon,\n  rainDensity: 0.7,\n  useBinary: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/data-viz-templates/#recommended-length_2","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/data-viz-templates/#thegrowthtree","title":"TheGrowthTree","text":"<p>Tree grows with branches representing data categories</p> <p>Creates an organic visualization where a tree grows from the bottom, with branches representing different data categories and their proportions.</p>"},{"location":"templates/data-viz-templates/#visual-style_3","title":"Visual Style","text":"<ul> <li>Animated tree growth</li> <li>Branches proportional to data</li> <li>Leaves/blossoms for detail</li> <li>Organic growth animation</li> </ul>"},{"location":"templates/data-viz-templates/#best-for_3","title":"Best For","text":"<ul> <li>Growth metrics</li> <li>Category breakdowns</li> <li>Year-over-year comparisons</li> </ul>"},{"location":"templates/data-viz-templates/#properties_3","title":"Properties","text":"Property Type Default Description <code>data</code> <code>DataVizData</code> required Data visualization data <code>theme</code> <code>TemplateTheme?</code> <code>sunset</code> Visual theme <code>growthSpeed</code> <code>double</code> <code>1.0</code> Tree growth speed <code>showLeaves</code> <code>bool</code> <code>true</code> Show decorative leaves <code>showLabels</code> <code>bool</code> <code>true</code> Show category labels"},{"location":"templates/data-viz-templates/#usage_3","title":"Usage","text":"<pre><code>TheGrowthTree(\n  data: DataVizData(\n    title: 'Your Growth',\n    subtitle: 'This Year',\n    metrics: [\n      MetricData(label: 'Songs', value: 500, color: Colors.green),\n      MetricData(label: 'Artists', value: 120, color: Colors.orange),\n      MetricData(label: 'Albums', value: 80, color: Colors.red),\n    ],\n  ),\n  theme: TemplateTheme.sunset,\n  showLeaves: true,\n).toScene()\n</code></pre>"},{"location":"templates/data-viz-templates/#recommended-length_3","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/data-viz-templates/#frequencyglow","title":"FrequencyGlow","text":"<p>Audio frequency bars visualization</p> <p>Creates a music-inspired visualization with animated frequency bars that pulse and glow to represent metrics.</p>"},{"location":"templates/data-viz-templates/#visual-style_4","title":"Visual Style","text":"<ul> <li>Audio equalizer style bars</li> <li>Pulsing/breathing animation</li> <li>Glow effects</li> <li>Reactive movement</li> </ul>"},{"location":"templates/data-viz-templates/#best-for_4","title":"Best For","text":"<ul> <li>Music-related metrics</li> <li>Audio statistics</li> <li>Volume/intensity data</li> </ul>"},{"location":"templates/data-viz-templates/#properties_4","title":"Properties","text":"Property Type Default Description <code>data</code> <code>DataVizData</code> required Data visualization data <code>theme</code> <code>TemplateTheme?</code> <code>neon</code> Visual theme <code>barCount</code> <code>int</code> <code>12</code> Number of frequency bars <code>pulseSpeed</code> <code>double</code> <code>1.0</code> Bar animation speed <code>showMirror</code> <code>bool</code> <code>true</code> Mirror bars (top and bottom)"},{"location":"templates/data-viz-templates/#usage_4","title":"Usage","text":"<pre><code>FrequencyGlow(\n  data: DataVizData(\n    title: 'Your Sound',\n    metrics: [\n      MetricData(label: 'Hours', value: 1234),\n      MetricData(label: 'Songs', value: 5678),\n    ],\n    total: 1234,\n  ),\n  theme: TemplateTheme.neon,\n  barCount: 12,\n  showMirror: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/data-viz-templates/#recommended-length_4","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/data-viz-templates/#datavizdata-reference","title":"DataVizData Reference","text":"<p>All data visualization templates use <code>DataVizData</code>:</p> <pre><code>DataVizData(\n  title: 'Your Stats',            // Optional: section title\n  subtitle: 'In Numbers',         // Optional: subtitle\n  metrics: [\n    MetricData(\n      label: 'Hours Listened',    // Required: metric name\n      value: 1234,                // Required: numeric value\n      unit: 'hrs',                // Optional: unit suffix\n      icon: Icons.timer,          // Optional: icon\n      color: Colors.blue,         // Optional: color\n      percentage: 0.75,           // Optional: percentage (0-1)\n      trend: 1.0,                 // Optional: trend (-1 to 1)\n    ),\n  ],\n  total: 1234,                    // Optional: total value\n  maxValue: 2000,                 // Optional: scale max\n  categories: {'Pop': 45.0},      // Optional: category breakdown\n  timeSeries: {0: 100, 60: 200},  // Optional: time data\n)\n</code></pre>"},{"location":"templates/data-viz-templates/#metricdata-factories","title":"MetricData Factories","text":"<pre><code>// Percentage with % suffix\nMetricData.percentage(label: 'Growth', value: 45)\n\n// Duration in minutes (auto-formats to hours)\nMetricData.minutes(label: 'Daily Average', minutes: 120)\n\n// Simple count\nMetricData.count(label: 'Songs', count: 5000)\n</code></pre>"},{"location":"templates/data-viz-templates/#theme-recommendations","title":"Theme Recommendations","text":"Template Recommended Theme Alternative LiquidMinutes <code>TemplateTheme.ocean</code> <code>spotify</code> OrbitalMetrics <code>TemplateTheme.midnight</code> <code>neon</code> BinaryRain <code>TemplateTheme.neon</code> <code>midnight</code> TheGrowthTree <code>TemplateTheme.sunset</code> <code>pastel</code> FrequencyGlow <code>TemplateTheme.neon</code> <code>spotify</code>"},{"location":"templates/data-viz-templates/#related","title":"Related","text":"<ul> <li>Templates Overview</li> <li>Using Templates</li> <li>Ranking Templates</li> <li>Collage Templates</li> </ul>"},{"location":"templates/intro-templates/","title":"Intro Templates","text":"<p>Opening and identity scenes for your video</p> <p>Intro templates create dramatic opening sequences that establish the theme and identity of your video. They typically feature the year, brand, or user profile with eye-catching animations.</p>"},{"location":"templates/intro-templates/#table-of-contents","title":"Table of Contents","text":"<ul> <li>TheNeonGate</li> <li>DigitalMirror</li> <li>TheMixtape</li> <li>NoiseID</li> <li>VortexTitle</li> </ul>"},{"location":"templates/intro-templates/#theneongate","title":"TheNeonGate","text":"<p>A central portal of glowing rings with text sliding through the center</p> <p>Creates a dramatic intro effect with concentric animated rings that pulse and glow, while the title text appears to slide through the portal toward the viewer.</p>"},{"location":"templates/intro-templates/#visual-style","title":"Visual Style","text":"<ul> <li>Glowing concentric rings that expand from center</li> <li>Pulsing/breathing animation on rings</li> <li>Text slides through \"portal\" with glow effects</li> <li>Sparkle particle background</li> </ul>"},{"location":"templates/intro-templates/#best-for","title":"Best For","text":"<ul> <li>Year intro (\"Your 2024\")</li> <li>Brand reveals</li> <li>Dramatic openings</li> </ul>"},{"location":"templates/intro-templates/#properties","title":"Properties","text":"Property Type Default Description <code>data</code> <code>IntroData</code> required Intro content data <code>theme</code> <code>TemplateTheme?</code> <code>neon</code> Visual theme <code>timing</code> <code>TemplateTiming?</code> <code>dramatic</code> Animation timing <code>ringCount</code> <code>int</code> <code>5</code> Number of portal rings <code>showParticles</code> <code>bool</code> <code>true</code> Show sparkle background <code>animateRotation</code> <code>bool</code> <code>true</code> Animate ring rotation"},{"location":"templates/intro-templates/#usage","title":"Usage","text":"<pre><code>TheNeonGate(\n  data: IntroData(\n    title: 'Your 2024',\n    subtitle: 'Wrapped',\n    year: 2024,\n    logoPath: 'assets/logo.png',  // Optional\n  ),\n  theme: TemplateTheme.neon,\n  timing: TemplateTiming.dramatic,\n  ringCount: 5,\n  showParticles: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/intro-templates/#recommended-length","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/intro-templates/#digitalmirror","title":"DigitalMirror","text":"<p>A blurred background with a breathing profile cutout effect</p> <p>Creates a mirror-like effect where the user's profile image appears as a sharp cutout against a blurred, dreamlike background. The cutout subtly pulses creating a \"breathing\" effect.</p>"},{"location":"templates/intro-templates/#visual-style_1","title":"Visual Style","text":"<ul> <li>Blurred gradient background</li> <li>Sharp profile image cutout</li> <li>Subtle breathing/pulsing animation</li> <li>Sparkle overlay</li> </ul>"},{"location":"templates/intro-templates/#best-for_1","title":"Best For","text":"<ul> <li>Personalized intros</li> <li>Profile reveals</li> <li>Self-reflection moments</li> </ul>"},{"location":"templates/intro-templates/#properties_1","title":"Properties","text":"Property Type Default Description <code>data</code> <code>IntroData</code> required Intro content data <code>theme</code> <code>TemplateTheme?</code> <code>midnight</code> Visual theme <code>blurIntensity</code> <code>double</code> <code>20.0</code> Background blur amount <code>showBreathing</code> <code>bool</code> <code>true</code> Enable breathing effect <code>profileShape</code> <code>ProfileShape</code> <code>circle</code> Shape of profile cutout"},{"location":"templates/intro-templates/#profile-shapes","title":"Profile Shapes","text":"<pre><code>ProfileShape.circle       // Circular cutout\nProfileShape.roundedSquare // Rounded square\nProfileShape.hexagon      // Hexagonal shape\n</code></pre>"},{"location":"templates/intro-templates/#usage_1","title":"Usage","text":"<pre><code>DigitalMirror(\n  data: IntroData(\n    title: 'Your Story',\n    userName: 'John',\n    profileImagePath: 'assets/profile.jpg',\n    subtitle: 'A Year in Review',\n  ),\n  theme: TemplateTheme.midnight,\n  profileShape: ProfileShape.circle,\n  blurIntensity: 20.0,\n).toScene()\n</code></pre>"},{"location":"templates/intro-templates/#recommended-length_1","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/intro-templates/#themixtape","title":"TheMixtape","text":"<p>Stop-motion cassette tape animation with dynamic label</p> <p>Creates a nostalgic retro effect with a spinning cassette tape where the label text is customizable. The tape reels spin to suggest playback.</p>"},{"location":"templates/intro-templates/#visual-style_2","title":"Visual Style","text":"<ul> <li>Detailed cassette tape graphic</li> <li>Stop-motion frame skipping effect</li> <li>Spinning reels</li> <li>Retro grain background texture</li> </ul>"},{"location":"templates/intro-templates/#best-for_2","title":"Best For","text":"<ul> <li>Music-related content</li> <li>Retro/nostalgic themes</li> <li>Playlist reveals</li> </ul>"},{"location":"templates/intro-templates/#properties_2","title":"Properties","text":"Property Type Default Description <code>data</code> <code>IntroData</code> required Intro content data <code>theme</code> <code>TemplateTheme?</code> <code>retro</code> Visual theme <code>reelSpeed</code> <code>double</code> <code>1.0</code> Reel rotation speed <code>stopMotion</code> <code>bool</code> <code>true</code> Enable stop-motion effect <code>labelColor</code> <code>Color?</code> <code>null</code> Custom cassette label color"},{"location":"templates/intro-templates/#usage_2","title":"Usage","text":"<pre><code>TheMixtape(\n  data: IntroData(\n    title: 'Your Mixtape',\n    subtitle: 'Best of 2024',\n    year: 2024,\n  ),\n  theme: TemplateTheme.retro,\n  reelSpeed: 1.0,\n  stopMotion: true,\n  labelColor: Colors.orange,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/intro-templates/#recommended-length_2","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/intro-templates/#noiseid","title":"NoiseID","text":"<p>Grunge texture with ink-bleed stamp effect title</p> <p>Creates a raw, textured aesthetic where the title appears to be stamped or printed onto a distressed background with organic ink bleeding edges.</p>"},{"location":"templates/intro-templates/#visual-style_3","title":"Visual Style","text":"<ul> <li>Animated noise/grain texture</li> <li>Distressed overlay scratches</li> <li>Stamp \"impact\" animation</li> <li>Ink bleed spreading effect</li> </ul>"},{"location":"templates/intro-templates/#best-for_3","title":"Best For","text":"<ul> <li>Alternative/indie vibes</li> <li>Grunge aesthetics</li> <li>Underground/authentic feel</li> </ul>"},{"location":"templates/intro-templates/#properties_3","title":"Properties","text":"Property Type Default Description <code>data</code> <code>IntroData</code> required Intro content data <code>theme</code> <code>TemplateTheme?</code> <code>minimal</code> Visual theme <code>noiseIntensity</code> <code>double</code> <code>0.3</code> Background noise amount (0-1) <code>animateInkBleed</code> <code>bool</code> <code>true</code> Animate ink spreading <code>stampColor</code> <code>Color?</code> <code>null</code> Custom stamp color"},{"location":"templates/intro-templates/#usage_3","title":"Usage","text":"<pre><code>NoiseID(\n  data: IntroData(\n    title: 'UNDERGROUND',\n    subtitle: '2024 Sounds',\n    year: 2024,\n  ),\n  theme: TemplateTheme.minimal,\n  noiseIntensity: 0.3,\n  animateInkBleed: true,\n).toScene()\n</code></pre>"},{"location":"templates/intro-templates/#recommended-length_3","title":"Recommended Length","text":"<p>120 frames (4 seconds at 30fps)</p>"},{"location":"templates/intro-templates/#vortextitle","title":"VortexTitle","text":"<p>Typography spirals in from corners, converging at center</p> <p>Creates a dynamic vortex effect where text characters or words spin inward from different corners, creating a hypnotic convergence effect.</p>"},{"location":"templates/intro-templates/#visual-style_4","title":"Visual Style","text":"<ul> <li>Individual letters spiral inward</li> <li>Decorative vortex lines in background</li> <li>Glowing text with shadows</li> <li>Sparkle particle trails</li> </ul>"},{"location":"templates/intro-templates/#best-for_4","title":"Best For","text":"<ul> <li>Dramatic title reveals</li> <li>Word emphasis</li> <li>Energy-filled intros</li> </ul>"},{"location":"templates/intro-templates/#properties_4","title":"Properties","text":"Property Type Default Description <code>data</code> <code>IntroData</code> required Intro content data <code>theme</code> <code>TemplateTheme?</code> <code>neon</code> Visual theme <code>animateLetters</code> <code>bool</code> <code>true</code> Animate individual letters <code>spiralSpeed</code> <code>double</code> <code>1.0</code> Speed of spiral rotation <code>spiralRotations</code> <code>double</code> <code>2.0</code> Number of rotations before settling <code>showTrails</code> <code>bool</code> <code>true</code> Show particle trail effects"},{"location":"templates/intro-templates/#usage_4","title":"Usage","text":"<pre><code>VortexTitle(\n  data: IntroData(\n    title: 'WRAPPED',\n    subtitle: 'Your Year',\n    year: 2024,\n  ),\n  theme: TemplateTheme.neon,\n  animateLetters: true,\n  spiralRotations: 2.0,\n  showTrails: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/intro-templates/#recommended-length_4","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/intro-templates/#introdata-reference","title":"IntroData Reference","text":"<p>All intro templates use <code>IntroData</code>:</p> <pre><code>IntroData(\n  title: 'Your 2024',           // Required: main title\n  subtitle: 'Wrapped',          // Optional: subtitle text\n  year: 2024,                   // Optional: year number\n  logoPath: 'assets/logo.png',  // Optional: logo image\n  userName: 'John',             // Optional: user name\n  profileImagePath: 'path.jpg', // Optional: profile image\n)\n</code></pre>"},{"location":"templates/intro-templates/#theme-recommendations","title":"Theme Recommendations","text":"Template Recommended Theme Alternative TheNeonGate <code>TemplateTheme.neon</code> <code>spotify</code> DigitalMirror <code>TemplateTheme.midnight</code> <code>ocean</code> TheMixtape <code>TemplateTheme.retro</code> <code>sunset</code> NoiseID <code>TemplateTheme.minimal</code> Custom dark VortexTitle <code>TemplateTheme.neon</code> <code>spotify</code>"},{"location":"templates/intro-templates/#related","title":"Related","text":"<ul> <li>Templates Overview</li> <li>Using Templates</li> <li>Ranking Templates</li> </ul>"},{"location":"templates/ranking-templates/","title":"Ranking Templates","text":"<p>Display top lists and rankings with dramatic reveals</p> <p>Ranking templates are designed to showcase \"Top N\" lists with engaging animations that build anticipation for the #1 reveal.</p>"},{"location":"templates/ranking-templates/#table-of-contents","title":"Table of Contents","text":"<ul> <li>StackClimb</li> <li>SlotMachine</li> <li>TheSpotlight</li> <li>FloatingPolaroids</li> <li>PerspectiveLadder</li> </ul>"},{"location":"templates/ranking-templates/#stackclimb","title":"StackClimb","text":"<p>Stacked items slide away to reveal the top spot</p> <p>Creates a dramatic ranking reveal where items appear stacked on top of each other, then slide away one by one until only the winner remains, which then celebrates with a scale-up effect.</p>"},{"location":"templates/ranking-templates/#visual-style","title":"Visual Style","text":"<ul> <li>Cards stacked with slight offset</li> <li>Sequential slide-off animation</li> <li>Winner celebration with scale-up</li> <li>Confetti burst for #1</li> </ul>"},{"location":"templates/ranking-templates/#best-for","title":"Best For","text":"<ul> <li>Top 5 lists</li> <li>Winner reveals</li> <li>Countdown rankings</li> </ul>"},{"location":"templates/ranking-templates/#properties","title":"Properties","text":"Property Type Default Description <code>data</code> <code>RankingData</code> required Ranking content data <code>theme</code> <code>TemplateTheme?</code> <code>spotify</code> Visual theme <code>slideDirection</code> <code>StackSlideDirection</code> <code>left</code> Direction cards slide <code>showConfetti</code> <code>bool</code> <code>true</code> Show confetti for winner <code>slideDelay</code> <code>int</code> <code>25</code> Frames between slides"},{"location":"templates/ranking-templates/#slide-directions","title":"Slide Directions","text":"<pre><code>StackSlideDirection.left   // Slide to the left\nStackSlideDirection.right  // Slide to the right\nStackSlideDirection.up     // Slide upward\nStackSlideDirection.down   // Slide downward\n</code></pre>"},{"location":"templates/ranking-templates/#usage","title":"Usage","text":"<pre><code>StackClimb(\n  data: RankingData(\n    title: 'Your Top Artists',\n    items: [\n      RankingItem(rank: 1, label: 'Taylor Swift', imagePath: 'taylor.jpg'),\n      RankingItem(rank: 2, label: 'Drake', imagePath: 'drake.jpg'),\n      RankingItem(rank: 3, label: 'The Weeknd', imagePath: 'weeknd.jpg'),\n      RankingItem(rank: 4, label: 'Dua Lipa', imagePath: 'dua.jpg'),\n      RankingItem(rank: 5, label: 'Bad Bunny', imagePath: 'badbunny.jpg'),\n    ],\n  ),\n  theme: TemplateTheme.spotify,\n  slideDirection: StackSlideDirection.left,\n  showConfetti: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/ranking-templates/#recommended-length","title":"Recommended Length","text":"<p>200 frames (6.7 seconds at 30fps)</p>"},{"location":"templates/ranking-templates/#slotmachine","title":"SlotMachine","text":"<p>Slot machine scroll effect revealing the winner</p> <p>Creates a slot machine effect where rankings spin rapidly before gradually decelerating to land on the winning entry, complete with a satisfying \"click\" visual effect.</p>"},{"location":"templates/ranking-templates/#visual-style_1","title":"Visual Style","text":"<ul> <li>Slot machine frame with highlights</li> <li>Rapid vertical scrolling</li> <li>Gradual deceleration with bounce</li> <li>Selection highlight lines</li> </ul>"},{"location":"templates/ranking-templates/#best-for_1","title":"Best For","text":"<ul> <li>Single winner reveals</li> <li>Random selection effects</li> <li>Top artist/song reveals</li> </ul>"},{"location":"templates/ranking-templates/#properties_1","title":"Properties","text":"Property Type Default Description <code>data</code> <code>RankingData</code> required Ranking content data <code>theme</code> <code>TemplateTheme?</code> default Visual theme <code>spinCycles</code> <code>int</code> <code>5</code> Number of scroll cycles <code>showFrame</code> <code>bool</code> <code>true</code> Show slot machine frame"},{"location":"templates/ranking-templates/#usage_1","title":"Usage","text":"<pre><code>SlotMachine(\n  data: RankingData(\n    title: 'Your #1 Song',\n    items: [\n      RankingItem(rank: 1, label: 'Anti-Hero', imagePath: 'antihero.jpg'),\n      RankingItem(rank: 2, label: 'Flowers', imagePath: 'flowers.jpg'),\n      RankingItem(rank: 3, label: 'As It Was', imagePath: 'asitwas.jpg'),\n    ],\n  ),\n  spinCycles: 5,\n  showFrame: true,\n).toScene()\n</code></pre>"},{"location":"templates/ranking-templates/#recommended-length_1","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/ranking-templates/#thespotlight","title":"TheSpotlight","text":"<p>Spotlight moves across items, revealing each dramatically</p> <p>Creates a dramatic reveal effect where a spotlight illuminates items one by one against a dark background, building anticipation as it moves toward the winner.</p>"},{"location":"templates/ranking-templates/#visual-style_2","title":"Visual Style","text":"<ul> <li>Dark background with spotlight circle</li> <li>Sequential item illumination</li> <li>Scale animation on focus</li> <li>Glow effect for winner</li> </ul>"},{"location":"templates/ranking-templates/#best-for_2","title":"Best For","text":"<ul> <li>Sequential reveals</li> <li>Award presentations</li> <li>Suspenseful rankings</li> </ul>"},{"location":"templates/ranking-templates/#properties_2","title":"Properties","text":"Property Type Default Description <code>data</code> <code>RankingData</code> required Ranking content data <code>theme</code> <code>TemplateTheme?</code> default Visual theme <code>framesPerItem</code> <code>int</code> <code>25</code> Time spotlight pauses on each <code>spotlightRadius</code> <code>double</code> <code>150</code> Size of spotlight <code>showLabels</code> <code>bool</code> <code>true</code> Show item labels"},{"location":"templates/ranking-templates/#usage_2","title":"Usage","text":"<pre><code>TheSpotlight(\n  data: RankingData(\n    title: 'Your Top 5',\n    items: [\n      RankingItem(rank: 1, label: 'Best Song', imagePath: 'song.jpg'),\n      RankingItem(rank: 2, label: 'Second', imagePath: 'second.jpg'),\n      RankingItem(rank: 3, label: 'Third', imagePath: 'third.jpg'),\n      RankingItem(rank: 4, label: 'Fourth', imagePath: 'fourth.jpg'),\n      RankingItem(rank: 5, label: 'Fifth', imagePath: 'fifth.jpg'),\n    ],\n  ),\n  framesPerItem: 25,\n  spotlightRadius: 150,\n  showLabels: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/ranking-templates/#recommended-length_2","title":"Recommended Length","text":"<p>Automatically calculated: <code>30 + (itemCount * framesPerItem) + 50</code></p>"},{"location":"templates/ranking-templates/#floatingpolaroids","title":"FloatingPolaroids","text":"<p>Floating photos with #1 scaling up at the end</p> <p>Creates a nostalgic polaroid photo effect where images float and drift around the screen with gentle rotations. At the climax, all photos fade away except the winner, which scales up to fill the screen.</p>"},{"location":"templates/ranking-templates/#visual-style_3","title":"Visual Style","text":"<ul> <li>Polaroid-style photo frames</li> <li>Gentle floating animation</li> <li>Rotation drift</li> <li>Winner zoom and focus</li> </ul>"},{"location":"templates/ranking-templates/#best-for_3","title":"Best For","text":"<ul> <li>Photo memories</li> <li>Artist/album rankings</li> <li>Personal highlights</li> </ul>"},{"location":"templates/ranking-templates/#properties_3","title":"Properties","text":"Property Type Default Description <code>data</code> <code>RankingData</code> required Ranking content data <code>theme</code> <code>TemplateTheme?</code> <code>pastel</code> Visual theme <code>floatAmplitude</code> <code>double</code> <code>30</code> Amount of float movement <code>rotationSpeed</code> <code>double</code> <code>0.3</code> Rotation drift speed <code>showFlares</code> <code>bool</code> <code>true</code> Show light flare effects <code>seed</code> <code>int</code> <code>42</code> Random seed for positions"},{"location":"templates/ranking-templates/#usage_3","title":"Usage","text":"<pre><code>FloatingPolaroids(\n  data: RankingData(\n    title: 'Your Year in Photos',\n    items: [\n      RankingItem(rank: 1, label: 'Summer Trip', imagePath: 'summer.jpg'),\n      RankingItem(rank: 2, label: 'Concert Night', imagePath: 'concert.jpg'),\n      RankingItem(rank: 3, label: 'Beach Day', imagePath: 'beach.jpg'),\n      RankingItem(rank: 4, label: 'City Walk', imagePath: 'city.jpg'),\n      RankingItem(rank: 5, label: 'Mountain View', imagePath: 'mountain.jpg'),\n    ],\n  ),\n  theme: TemplateTheme.pastel,\n  floatAmplitude: 30,\n  showFlares: true,\n).toScene()\n</code></pre>"},{"location":"templates/ranking-templates/#recommended-length_3","title":"Recommended Length","text":"<p>210 frames (7 seconds at 30fps)</p>"},{"location":"templates/ranking-templates/#perspectiveladder","title":"PerspectiveLadder","text":"<p>3D perspective list extending into the distance</p> <p>Creates a dramatic ranking display where items appear as if receding into the horizon, with the #1 item closest and most prominent. Items animate in from the vanishing point and settle into their positions.</p>"},{"location":"templates/ranking-templates/#visual-style_4","title":"Visual Style","text":"<ul> <li>3D perspective effect</li> <li>Animated perspective grid background</li> <li>Items fly in from vanishing point</li> <li>Glow pulse for #1 item</li> </ul>"},{"location":"templates/ranking-templates/#best-for_4","title":"Best For","text":"<ul> <li>Top 5-10 lists</li> <li>Artist/song rankings</li> <li>Achievement progressions</li> </ul>"},{"location":"templates/ranking-templates/#properties_4","title":"Properties","text":"Property Type Default Description <code>data</code> <code>RankingData</code> required Ranking content data <code>theme</code> <code>TemplateTheme?</code> <code>midnight</code> Visual theme <code>perspectiveDepth</code> <code>double</code> <code>0.004</code> Depth of perspective effect <code>rungSpacing</code> <code>double</code> <code>100</code> Spacing between items <code>showGlowTrails</code> <code>bool</code> <code>true</code> Show glow trail effects <code>staggerDelay</code> <code>int</code> <code>12</code> Frames between item entries"},{"location":"templates/ranking-templates/#usage_4","title":"Usage","text":"<pre><code>PerspectiveLadder(\n  data: RankingData(\n    title: 'Top Genres',\n    items: [\n      RankingItem(rank: 1, label: 'Pop', value: 45, subtitle: '45%'),\n      RankingItem(rank: 2, label: 'Hip-Hop', value: 28, subtitle: '28%'),\n      RankingItem(rank: 3, label: 'Rock', value: 15, subtitle: '15%'),\n      RankingItem(rank: 4, label: 'Electronic', value: 8, subtitle: '8%'),\n      RankingItem(rank: 5, label: 'Jazz', value: 4, subtitle: '4%'),\n    ],\n  ),\n  theme: TemplateTheme.midnight,\n  showGlowTrails: true,\n  staggerDelay: 12,\n).toSceneWithSlide(direction: TransitionSlideDirection.up)\n</code></pre>"},{"location":"templates/ranking-templates/#recommended-length_4","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/ranking-templates/#rankingdata-reference","title":"RankingData Reference","text":"<p>All ranking templates use <code>RankingData</code>:</p> <pre><code>RankingData(\n  title: 'Top Artists',           // Optional: section title\n  subtitle: 'This Year',          // Optional: subtitle\n  items: [\n    RankingItem(\n      rank: 1,                    // Required: position (1 = first)\n      label: 'Artist Name',       // Required: display text\n      subtitle: '234 hours',      // Optional: secondary text\n      value: 234,                 // Optional: numeric value\n      imagePath: 'artist.jpg',    // Optional: item image\n      metadata: {'streams': 5000}, // Optional: extra data\n    ),\n  ],\n  isTopList: true,                // Optional: is \"top N\" list?\n)\n</code></pre>"},{"location":"templates/ranking-templates/#rankingdata-properties","title":"RankingData Properties","text":"Property Type Description <code>items</code> <code>List&lt;RankingItem&gt;</code> All ranking items <code>title</code> <code>String?</code> Section title <code>subtitle</code> <code>String?</code> Section subtitle <code>isTopList</code> <code>bool</code> Whether this is a \"top N\" list <code>count</code> <code>int</code> Number of items (getter) <code>sortedItems</code> <code>List&lt;RankingItem&gt;</code> Items sorted by rank (getter) <code>topItem</code> <code>RankingItem</code> The #1 item (getter)"},{"location":"templates/ranking-templates/#theme-recommendations","title":"Theme Recommendations","text":"Template Recommended Theme Alternative StackClimb <code>TemplateTheme.spotify</code> <code>neon</code> SlotMachine <code>TemplateTheme.neon</code> <code>midnight</code> TheSpotlight <code>TemplateTheme.midnight</code> <code>neon</code> FloatingPolaroids <code>TemplateTheme.pastel</code> <code>minimal</code> PerspectiveLadder <code>TemplateTheme.midnight</code> <code>ocean</code>"},{"location":"templates/ranking-templates/#related","title":"Related","text":"<ul> <li>Templates Overview</li> <li>Using Templates</li> <li>Intro Templates</li> <li>DataViz Templates</li> </ul>"},{"location":"templates/thematic-templates/","title":"Thematic Templates","text":"<p>Mood and vibe scenes with distinctive aesthetics</p> <p>Thematic templates create atmosphere and emotional impact through distinctive visual styles, perfect for genre highlights, mood representations, or stylistic moments.</p>"},{"location":"templates/thematic-templates/#table-of-contents","title":"Table of Contents","text":"<ul> <li>LofiWindow</li> <li>GlitchReality</li> <li>Kaleidoscope</li> <li>RetroPostcard</li> <li>MinimalistBeat</li> </ul>"},{"location":"templates/thematic-templates/#lofiwindow","title":"LofiWindow","text":"<p>Pixel-art rainy city with condensation text</p> <p>Creates a cozy, lo-fi aesthetic with a simulated rainy window view overlooking a city. Text appears as if written on foggy glass, with raindrops streaking down.</p>"},{"location":"templates/thematic-templates/#visual-style","title":"Visual Style","text":"<ul> <li>Rainy window effect</li> <li>City skyline silhouette</li> <li>Flickering window lights</li> <li>Fog/condensation overlay</li> </ul>"},{"location":"templates/thematic-templates/#best-for","title":"Best For","text":"<ul> <li>Mood/vibe stats</li> <li>Lo-fi genre highlights</li> <li>Relaxation metrics</li> <li>Late-night listening</li> </ul>"},{"location":"templates/thematic-templates/#properties","title":"Properties","text":"Property Type Default Description <code>data</code> <code>ThematicData</code> required Thematic content data <code>theme</code> <code>TemplateTheme?</code> <code>midnight</code> Visual theme <code>rainIntensity</code> <code>double</code> <code>0.7</code> Amount of rain (0-1) <code>fogAmount</code> <code>double</code> <code>0.4</code> Window fog intensity <code>showCityLights</code> <code>bool</code> <code>true</code> Show flickering lights <code>seed</code> <code>int</code> <code>42</code> Random seed for rain"},{"location":"templates/thematic-templates/#usage","title":"Usage","text":"<pre><code>LofiWindow(\n  data: ThematicData(\n    title: 'Late Night Vibes',\n    subtitle: '2,345 hours',\n    description: 'Your most listened genre after midnight',\n    theme: 'lofi',\n  ),\n  rainIntensity: 0.7,\n  fogAmount: 0.4,\n  showCityLights: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/thematic-templates/#recommended-length","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/thematic-templates/#glitchreality","title":"GlitchReality","text":"<p>Digital glitch effects with fragmented visuals</p> <p>Creates a cyberpunk-inspired aesthetic with digital glitches, chromatic aberration, and fragmented visuals that periodically disrupt the display.</p>"},{"location":"templates/thematic-templates/#visual-style_1","title":"Visual Style","text":"<ul> <li>RGB color separation</li> <li>Horizontal scan lines</li> <li>Random glitch bursts</li> <li>Fragmented text</li> </ul>"},{"location":"templates/thematic-templates/#best-for_1","title":"Best For","text":"<ul> <li>Electronic/experimental genres</li> <li>Tech-themed content</li> <li>Edgy/alternative vibes</li> <li>Chaotic energy</li> </ul>"},{"location":"templates/thematic-templates/#properties_1","title":"Properties","text":"Property Type Default Description <code>data</code> <code>ThematicData</code> required Thematic content data <code>theme</code> <code>TemplateTheme?</code> <code>neon</code> Visual theme <code>glitchIntensity</code> <code>double</code> <code>0.6</code> Glitch effect strength <code>glitchFrequency</code> <code>double</code> <code>0.3</code> How often glitches occur <code>showScanlines</code> <code>bool</code> <code>true</code> CRT scanline effect <code>chromaticAberration</code> <code>double</code> <code>0.02</code> Color separation amount"},{"location":"templates/thematic-templates/#usage_1","title":"Usage","text":"<pre><code>GlitchReality(\n  data: ThematicData(\n    text: 'SYSTEM OVERRIDE',\n    title: 'Electronic',\n    subtitle: '1,234 hours',\n    accentColor: Colors.cyan,\n  ),\n  theme: TemplateTheme.neon,\n  glitchIntensity: 0.6,\n  showScanlines: true,\n).toScene()\n</code></pre>"},{"location":"templates/thematic-templates/#recommended-length_1","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/thematic-templates/#kaleidoscope","title":"Kaleidoscope","text":"<p>Psychedelic kaleidoscope pattern animation</p> <p>Creates a mesmerizing kaleidoscope effect with rotating symmetrical patterns that morph and change colors.</p>"},{"location":"templates/thematic-templates/#visual-style_2","title":"Visual Style","text":"<ul> <li>Rotating symmetrical patterns</li> <li>Color-shifting gradients</li> <li>Hypnotic movement</li> <li>Central focus point</li> </ul>"},{"location":"templates/thematic-templates/#best-for_2","title":"Best For","text":"<ul> <li>Psychedelic/experimental genres</li> <li>Meditation/chill content</li> <li>Abstract mood representation</li> <li>Trippy visuals</li> </ul>"},{"location":"templates/thematic-templates/#properties_2","title":"Properties","text":"Property Type Default Description <code>data</code> <code>ThematicData</code> required Thematic content data <code>theme</code> <code>TemplateTheme?</code> <code>sunset</code> Visual theme <code>segments</code> <code>int</code> <code>8</code> Number of mirror segments <code>rotationSpeed</code> <code>double</code> <code>0.3</code> Pattern rotation speed <code>colorShiftSpeed</code> <code>double</code> <code>0.5</code> Color change speed <code>complexity</code> <code>double</code> <code>0.7</code> Pattern complexity"},{"location":"templates/thematic-templates/#usage_2","title":"Usage","text":"<pre><code>Kaleidoscope(\n  data: ThematicData(\n    text: 'Transcendent',\n    title: 'Meditation',\n    subtitle: '500 hours',\n    theme: 'psychedelic',\n  ),\n  segments: 8,\n  rotationSpeed: 0.3,\n  colorShiftSpeed: 0.5,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/thematic-templates/#recommended-length_2","title":"Recommended Length","text":"<p>180 frames (6 seconds at 30fps)</p>"},{"location":"templates/thematic-templates/#retropostcard","title":"RetroPostcard","text":"<p>Vintage postcard aesthetic with worn edges</p> <p>Creates a nostalgic vintage postcard look with aged paper texture, worn edges, and retro typography.</p>"},{"location":"templates/thematic-templates/#visual-style_3","title":"Visual Style","text":"<ul> <li>Aged paper texture</li> <li>Worn/torn edges</li> <li>Vintage color grading</li> <li>Stamp and postmark details</li> </ul>"},{"location":"templates/thematic-templates/#best-for_3","title":"Best For","text":"<ul> <li>Nostalgic content</li> <li>Travel memories</li> <li>Vintage/oldies genres</li> <li>Throwback themes</li> </ul>"},{"location":"templates/thematic-templates/#properties_3","title":"Properties","text":"Property Type Default Description <code>data</code> <code>ThematicData</code> required Thematic content data <code>theme</code> <code>TemplateTheme?</code> <code>retro</code> Visual theme <code>wearAmount</code> <code>double</code> <code>0.5</code> Edge wear intensity <code>showStamp</code> <code>bool</code> <code>true</code> Show postage stamp <code>showPostmark</code> <code>bool</code> <code>true</code> Show circular postmark <code>paperTint</code> <code>Color?</code> <code>null</code> Paper color tint"},{"location":"templates/thematic-templates/#usage_3","title":"Usage","text":"<pre><code>RetroPostcard(\n  data: ThematicData(\n    text: 'Wish You Were Here',\n    title: 'Classic Rock',\n    subtitle: '2,500 plays',\n    images: ['vintage_photo.jpg'],\n  ),\n  theme: TemplateTheme.retro,\n  wearAmount: 0.5,\n  showStamp: true,\n  showPostmark: true,\n).toScene()\n</code></pre>"},{"location":"templates/thematic-templates/#recommended-length_3","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/thematic-templates/#minimalistbeat","title":"MinimalistBeat","text":"<p>Clean minimal design with subtle pulse animation</p> <p>Creates a sophisticated minimal aesthetic with clean typography and subtle pulsing animations synced to an implied beat.</p>"},{"location":"templates/thematic-templates/#visual-style_4","title":"Visual Style","text":"<ul> <li>Clean white space</li> <li>Bold typography</li> <li>Subtle pulse/beat animation</li> <li>Minimal decoration</li> </ul>"},{"location":"templates/thematic-templates/#best-for_4","title":"Best For","text":"<ul> <li>Minimal/ambient genres</li> <li>Clean stat displays</li> <li>Sophisticated presentations</li> <li>Focus on content</li> </ul>"},{"location":"templates/thematic-templates/#properties_4","title":"Properties","text":"Property Type Default Description <code>data</code> <code>ThematicData</code> required Thematic content data <code>theme</code> <code>TemplateTheme?</code> <code>minimal</code> Visual theme <code>pulseSpeed</code> <code>double</code> <code>1.0</code> Pulse animation speed <code>pulseIntensity</code> <code>double</code> <code>0.05</code> Pulse scale amount <code>showDividers</code> <code>bool</code> <code>true</code> Show line dividers <code>alignment</code> <code>TextAlign</code> <code>center</code> Text alignment"},{"location":"templates/thematic-templates/#usage_4","title":"Usage","text":"<pre><code>MinimalistBeat(\n  data: ThematicData(\n    text: 'Silence Speaks',\n    title: 'Ambient',\n    subtitle: '800 hours',\n    statValue: '800',\n    statLabel: 'hours of calm',\n  ),\n  theme: TemplateTheme.minimal,\n  pulseSpeed: 1.0,\n  pulseIntensity: 0.05,\n  showDividers: true,\n).toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/thematic-templates/#recommended-length_4","title":"Recommended Length","text":"<p>150 frames (5 seconds at 30fps)</p>"},{"location":"templates/thematic-templates/#thematicdata-reference","title":"ThematicData Reference","text":"<p>All thematic templates use <code>ThematicData</code>:</p> <pre><code>ThematicData(\n  text: 'Your Music Journey',     // Required: main text\n  title: 'The Vibe',              // Optional: title\n  subtitle: '2024 Edition',       // Optional: subtitle\n  description: 'Longer text...',  // Optional: description\n  images: ['path1.jpg'],          // Optional: image paths\n  statValue: '1,234',             // Optional: main stat\n  statLabel: 'hours',             // Optional: stat label\n  theme: 'lofi',                  // Optional: theme hint\n  accentColor: Colors.purple,     // Optional: accent color\n  metadata: {'key': value},       // Optional: extra data\n)\n</code></pre>"},{"location":"templates/thematic-templates/#theme-recommendations","title":"Theme Recommendations","text":"Template Recommended Theme Alternative LofiWindow <code>TemplateTheme.midnight</code> Custom dark GlitchReality <code>TemplateTheme.neon</code> Custom cyberpunk Kaleidoscope <code>TemplateTheme.sunset</code> <code>pastel</code> RetroPostcard <code>TemplateTheme.retro</code> <code>sunset</code> MinimalistBeat <code>TemplateTheme.minimal</code> Custom light"},{"location":"templates/thematic-templates/#mood-matching-guide","title":"Mood Matching Guide","text":"Mood/Genre Recommended Template Relaxed/Chill LofiWindow Electronic/Experimental GlitchReality Psychedelic/Meditation Kaleidoscope Nostalgic/Vintage RetroPostcard Minimal/Ambient MinimalistBeat"},{"location":"templates/thematic-templates/#related","title":"Related","text":"<ul> <li>Templates Overview</li> <li>Using Templates</li> <li>Collage Templates</li> <li>Conclusion Templates</li> </ul>"},{"location":"templates/using-templates/","title":"Using Templates","text":"<p>Guide to using Fluvie's pre-built templates</p> <p>Templates provide ready-to-use scene compositions that you customize with your data, theme, and timing. This guide covers everything you need to know.</p>"},{"location":"templates/using-templates/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Basic Usage</li> <li>Data Contracts</li> <li>Theming</li> <li>Timing</li> <li>Transitions</li> <li>Examples</li> <li>Best Practices</li> </ul>"},{"location":"templates/using-templates/#basic-usage","title":"Basic Usage","text":""},{"location":"templates/using-templates/#1-choose-a-template","title":"1. Choose a Template","text":"<p>Templates are organized by category:</p> <ul> <li>Intro: Opening scenes (<code>TheNeonGate</code>, <code>DigitalMirror</code>, <code>TheMixtape</code>)</li> <li>Ranking: List displays (<code>StackClimb</code>, <code>SlotMachine</code>, <code>TheSpotlight</code>)</li> <li>DataViz: Statistics (<code>LiquidMinutes</code>, <code>OrbitalMetrics</code>, <code>TheGrowthTree</code>)</li> <li>Collage: Photo grids (<code>TheGridShuffle</code>, <code>MosaicReveal</code>, <code>BentoRecap</code>)</li> <li>Thematic: Mood/vibe (<code>LofiWindow</code>, <code>GlitchReality</code>, <code>Kaleidoscope</code>)</li> <li>Conclusion: Endings (<code>TheSummaryPoster</code>, <code>ParticleFarewell</code>, <code>WrappedReceipt</code>)</li> </ul>"},{"location":"templates/using-templates/#2-create-data","title":"2. Create Data","text":"<p>Each template requires specific data:</p> <pre><code>final introData = IntroData(\n  title: 'Your 2024',\n  subtitle: 'Wrapped',\n  year: 2024,\n);\n</code></pre>"},{"location":"templates/using-templates/#3-create-template","title":"3. Create Template","text":"<pre><code>final template = TheNeonGate(\n  data: introData,\n  theme: TemplateTheme.neon,\n  timing: TemplateTiming.dramatic,\n);\n</code></pre>"},{"location":"templates/using-templates/#4-convert-to-scene","title":"4. Convert to Scene","text":"<pre><code>final scene = template.toScene();\n\n// Or with transitions\nfinal scene = template.toSceneWithCrossFade();\n</code></pre>"},{"location":"templates/using-templates/#5-add-to-video","title":"5. Add to Video","text":"<pre><code>Video(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  scenes: [scene],\n)\n</code></pre>"},{"location":"templates/using-templates/#data-contracts","title":"Data Contracts","text":""},{"location":"templates/using-templates/#introdata","title":"IntroData","text":"<p>For intro/identity templates:</p> <pre><code>IntroData(\n  title: 'Your 2024',           // Required: main title\n  subtitle: 'Wrapped',          // Optional: subtitle text\n  year: 2024,                   // Optional: year number\n  logoPath: 'assets/logo.png',  // Optional: logo image\n  userName: 'John',             // Optional: user name\n  profileImagePath: 'path.jpg', // Optional: profile image\n)\n</code></pre>"},{"location":"templates/using-templates/#rankingdata","title":"RankingData","text":"<p>For ranking/list templates:</p> <pre><code>RankingData(\n  items: [                      // Required: list of items\n    RankingItem(\n      rank: 1,                  // Required: position (1 = first)\n      label: 'Item Name',       // Required: display text\n      subtitle: 'Details',      // Optional: secondary text\n      value: 1234,              // Optional: numeric value\n      imagePath: 'path.jpg',    // Optional: item image\n      metadata: {'key': value}, // Optional: extra data\n    ),\n  ],\n  title: 'Top Songs',           // Optional: section title\n  subtitle: 'This Year',        // Optional: subtitle\n  isTopList: true,              // Optional: is this a \"top N\" list?\n)\n</code></pre>"},{"location":"templates/using-templates/#datavizdata","title":"DataVizData","text":"<p>For data visualization templates:</p> <pre><code>DataVizData(\n  metrics: [                    // Required: list of metrics\n    MetricData(\n      label: 'Hours Listened',  // Required: metric name\n      value: 1234,              // Required: numeric value\n      unit: 'hrs',              // Optional: unit suffix\n      icon: Icons.timer,        // Optional: icon\n      color: Colors.blue,       // Optional: color\n      percentage: 0.75,         // Optional: percentage (0-1)\n      trend: 1.0,               // Optional: trend (-1 to 1)\n    ),\n  ],\n  title: 'Your Stats',          // Optional: title\n  subtitle: 'In Numbers',       // Optional: subtitle\n  maxValue: 2000,               // Optional: scale max\n  categories: {'Pop': 45.0},    // Optional: category breakdown\n  timeSeries: {0: 100, 60: 200}, // Optional: time data\n)\n</code></pre> <p>MetricData Factories:</p> <pre><code>// Percentage with % suffix\nMetricData.percentage(label: 'Growth', value: 45)\n\n// Duration in minutes\nMetricData.minutes(label: 'Daily', minutes: 120)\n\n// Simple count\nMetricData.count(label: 'Songs', count: 5000)\n</code></pre>"},{"location":"templates/using-templates/#collagedata","title":"CollageData","text":"<p>For collage/grid templates:</p> <pre><code>CollageData(\n  images: [                     // Required: image paths\n    'assets/photo1.jpg',\n    'assets/photo2.jpg',\n    'assets/photo3.jpg',\n  ],\n  title: 'Your Moments',        // Optional: title\n  subtitle: '2024 Gallery',     // Optional: subtitle\n  description: 'A year in...',  // Optional: description\n  captions: ['One', 'Two'],     // Optional: per-image captions\n  featuredIndex: 0,             // Optional: featured image index\n  layout: TemplateCollageLayout.grid, // Optional: layout hint\n  stats: {'Photos': 100},       // Optional: statistics\n)\n</code></pre> <p>Layout Options:</p> <pre><code>TemplateCollageLayout.grid      // Standard grid\nTemplateCollageLayout.masonry   // Pinterest-style\nTemplateCollageLayout.featured  // One large + thumbnails\nTemplateCollageLayout.strip     // Horizontal scroll\nTemplateCollageLayout.diagonal  // Diagonal arrangement\n</code></pre>"},{"location":"templates/using-templates/#thematicdata","title":"ThematicData","text":"<p>For thematic/vibe templates:</p> <pre><code>ThematicData(\n  text: 'Your Music Journey',   // Required: main text\n  title: 'The Vibe',            // Optional: title\n  subtitle: '2024 Edition',     // Optional: subtitle\n  description: 'Longer text',   // Optional: description\n  images: ['path1.jpg'],        // Optional: image paths\n  statValue: '1,234',           // Optional: main stat\n  statLabel: 'hours',           // Optional: stat label\n  theme: 'lofi',                // Optional: theme hint\n  accentColor: Colors.purple,   // Optional: accent color\n  metadata: {'key': value},     // Optional: extra data\n)\n</code></pre>"},{"location":"templates/using-templates/#summarydata","title":"SummaryData","text":"<p>For conclusion/summary templates:</p> <pre><code>SummaryData(\n  title: 'That\\'s a Wrap!',     // Optional: title\n  subtitle: 'See You Next Year', // Optional: subtitle\n  name: 'John',                 // Optional: user name\n  year: 2024,                   // Optional: year\n  stats: {                      // Optional: key statistics\n    'Hours': '1,234',\n    'Songs': '5,678',\n    'Artists': '234',\n  },\n  highlights: [                 // Optional: achievements\n    HighlightItem(\n      title: 'Top Fan',\n      description: 'Top 1% of listeners',\n      icon: Icons.star,\n    ),\n  ],\n  message: 'Thanks for...',     // Optional: closing message\n  ctaText: 'Share',             // Optional: button text\n  shareUrl: 'https://...',      // Optional: share link\n  qrData: 'https://...',        // Optional: QR code data\n)\n</code></pre>"},{"location":"templates/using-templates/#theming","title":"Theming","text":""},{"location":"templates/using-templates/#templatetheme","title":"TemplateTheme","text":"<p>Customize colors and styling:</p> <pre><code>TemplateTheme(\n  primaryColor: Colors.cyan,      // Main accent color\n  secondaryColor: Colors.pink,    // Secondary accent\n  backgroundColor: Colors.black,  // Background color\n  textColor: Colors.white,        // Primary text color\n  accentColor: Colors.purple,     // Additional accent\n  surfaceColor: Color(0xFF222222), // Surface/card color\n)\n</code></pre>"},{"location":"templates/using-templates/#built-in-themes","title":"Built-in Themes","text":"<pre><code>// Neon/cyberpunk (bright colors on dark)\ntheme: TemplateTheme.neon\n\n// Spotify-inspired (green on dark)\ntheme: TemplateTheme.spotify\n\n// Clean minimal (subtle colors)\ntheme: TemplateTheme.minimal\n\n// Warm sunset (orange/pink/purple)\ntheme: TemplateTheme.sunset\n\n// Cool ocean (blues and teals)\ntheme: TemplateTheme.ocean\n</code></pre>"},{"location":"templates/using-templates/#theme-merging","title":"Theme Merging","text":"<p>Themes merge with template defaults:</p> <pre><code>// Template has default neon theme\n// Your custom colors override specific values\nTheNeonGate(\n  data: introData,\n  theme: TemplateTheme(\n    primaryColor: Colors.green,  // Overrides neon's cyan\n    // Other colors use neon defaults\n  ),\n)\n</code></pre>"},{"location":"templates/using-templates/#timing","title":"Timing","text":""},{"location":"templates/using-templates/#templatetiming","title":"TemplateTiming","text":"<p>Control animation pacing:</p> <pre><code>TemplateTiming(\n  entryDelay: 0,        // Frames before first animation\n  entryDuration: 30,    // Entry animation length\n  staggerDelay: 10,     // Delay between elements\n  holdDuration: 60,     // Time at full visibility\n  exitDelay: 0,         // Frames before exit starts\n  exitDuration: 20,     // Exit animation length\n)\n</code></pre>"},{"location":"templates/using-templates/#built-in-timings","title":"Built-in Timings","text":"<pre><code>// Standard pacing (good default)\ntiming: TemplateTiming.standard\n\n// Slower, more dramatic (for emphasis)\ntiming: TemplateTiming.dramatic\n\n// Faster, snappier (for quick reveals)\ntiming: TemplateTiming.snappy\n\n// Very quick (for rapid sequences)\ntiming: TemplateTiming.quick\n</code></pre>"},{"location":"templates/using-templates/#transitions","title":"Transitions","text":""},{"location":"templates/using-templates/#toscene-options","title":"toScene() Options","text":"<pre><code>template.toScene(\n  durationInFrames: 180,                    // Override recommended length\n  transitionIn: SceneTransition.crossFade(durationInFrames: 20),\n  transitionOut: SceneTransition.slideLeft(durationInFrames: 15),\n  fadeInFrames: 10,               // Scene fade in\n  fadeOutFrames: 10,              // Scene fade out\n)\n</code></pre>"},{"location":"templates/using-templates/#convenience-methods","title":"Convenience Methods","text":"<pre><code>// Cross-fade both directions\ntemplate.toSceneWithCrossFade(\n  length: 180,\n  fadeDuration: 20,\n)\n\n// Slide transition\ntemplate.toSceneWithSlide(\n  length: 180,\n  direction: TransitionSlideDirection.left,\n  slideDuration: 25,\n)\n</code></pre>"},{"location":"templates/using-templates/#slide-directions","title":"Slide Directions","text":"<pre><code>TransitionSlideDirection.left   // From right\nTransitionSlideDirection.right  // From left\nTransitionSlideDirection.up     // From bottom\nTransitionSlideDirection.down   // From top\n</code></pre>"},{"location":"templates/using-templates/#examples","title":"Examples","text":""},{"location":"templates/using-templates/#full-video-with-templates","title":"Full Video with Templates","text":"<pre><code>Video(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  backgroundMusicAsset: 'assets/music.mp3',\n  musicFadeInFrames: 60,\n  musicFadeOutFrames: 90,\n  scenes: [\n    // Intro\n    TheNeonGate(\n      data: IntroData(\n        title: 'Your 2024',\n        subtitle: 'Wrapped',\n        year: 2024,\n      ),\n      theme: TemplateTheme.neon,\n    ).toSceneWithCrossFade(),\n\n    // Top Songs\n    StackClimb(\n      data: RankingData(\n        title: 'Top Songs',\n        items: topSongs,\n      ),\n    ).toSceneWithSlide(direction: TransitionSlideDirection.left),\n\n    // Stats\n    LiquidMinutes(\n      data: DataVizData(\n        title: 'Your Stats',\n        metrics: statsMetrics,\n      ),\n    ).toSceneWithCrossFade(),\n\n    // Photo Memories\n    TheGridShuffle(\n      data: CollageData(\n        title: 'Moments',\n        images: photoList,\n      ),\n    ).toSceneWithSlide(direction: TransitionSlideDirection.up),\n\n    // Conclusion\n    TheSummaryPoster(\n      data: SummaryData(\n        title: 'That\\'s a Wrap!',\n        stats: finalStats,\n        message: 'See you in 2025!',\n      ),\n    ).toSceneWithCrossFade(fadeDuration: 30),\n  ],\n)\n</code></pre>"},{"location":"templates/using-templates/#consistent-theming","title":"Consistent Theming","text":"<pre><code>final myTheme = TemplateTheme(\n  primaryColor: Color(0xFF1DB954),\n  secondaryColor: Color(0xFF191414),\n  backgroundColor: Color(0xFF121212),\n  textColor: Colors.white,\n);\n\nVideo(\n  scenes: [\n    TheNeonGate(data: introData, theme: myTheme).toScene(),\n    StackClimb(data: rankingData, theme: myTheme).toScene(),\n    TheSummaryPoster(data: summaryData, theme: myTheme).toScene(),\n  ],\n)\n</code></pre>"},{"location":"templates/using-templates/#custom-timing","title":"Custom Timing","text":"<pre><code>final slowTiming = TemplateTiming(\n  entryDelay: 15,\n  entryDuration: 45,\n  staggerDelay: 20,\n  holdDuration: 90,\n  exitDuration: 30,\n);\n\nTheNeonGate(\n  data: introData,\n  timing: slowTiming,\n).toScene(durationInFrames: 240)  // Longer scene for slow timing\n</code></pre>"},{"location":"templates/using-templates/#best-practices","title":"Best Practices","text":""},{"location":"templates/using-templates/#1-match-length-to-timing","title":"1. Match Length to Timing","text":"<p>Ensure scene length accommodates all animations:</p> <pre><code>final template = TheNeonGate(data: introData);\n\n// Use recommended length\ntemplate.toScene()  // Uses template.recommendedLength\n\n// Or calculate based on timing\ntemplate.toScene(durationInFrames: template.recommendedLength + 30)\n</code></pre>"},{"location":"templates/using-templates/#2-consistent-themes","title":"2. Consistent Themes","text":"<p>Create a theme and reuse it:</p> <pre><code>final appTheme = TemplateTheme.neon.copyWith(\n  primaryColor: myBrandColor,\n);\n\n// Apply to all templates\n</code></pre>"},{"location":"templates/using-templates/#3-smooth-transitions","title":"3. Smooth Transitions","text":"<p>Use matching transitions for flow:</p> <pre><code>// Good: Consistent direction\nscene1.toSceneWithSlide(direction: TransitionSlideDirection.left)\nscene2.toSceneWithSlide(direction: TransitionSlideDirection.left)\n\n// Good: Alternating for variety\nscene1.toSceneWithCrossFade()\nscene2.toSceneWithSlide()\nscene3.toSceneWithCrossFade()\n</code></pre>"},{"location":"templates/using-templates/#4-test-recommended-lengths","title":"4. Test Recommended Lengths","text":"<p>Templates have <code>recommendedLength</code> for a reason:</p> <pre><code>print(template.recommendedLength);  // Check what's recommended\n\n// Override only if needed\ntemplate.toScene(durationInFrames: 200)\n</code></pre>"},{"location":"templates/using-templates/#related","title":"Related","text":"<ul> <li>Templates Overview - Template categories</li> <li>Intro Templates</li> <li>Ranking Templates</li> <li>DataViz Templates</li> <li>Collage Templates</li> <li>Thematic Templates</li> <li>Conclusion Templates</li> </ul>"},{"location":"tutorials/","title":"Tutorials","text":"<p>Step-by-step guides to build complete video projects</p> <p>These tutorials walk you through building real video compositions, from simple animations to production-ready content.</p>"},{"location":"tutorials/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Simple Animation</li> <li>Advanced Composition</li> <li>Prerequisites</li> </ul>"},{"location":"tutorials/#tutorials_1","title":"Tutorials","text":""},{"location":"tutorials/#simple-animation","title":"Simple Animation","text":"<p>Difficulty: Beginner Duration: 30 minutes What you'll learn: - Setting up a Video composition - Creating scenes with backgrounds - Adding images with animations - Adding animated text (title, subtitle) - Including background music - Exporting the final video</p> <p>What you'll build:</p> <p>A 30-second animated video with: - Gradient background - An image that fades in with Ken Burns effect - Animated title and subtitle - Background music with fade in/out</p>"},{"location":"tutorials/#advanced-composition","title":"Advanced Composition","text":"<p>Difficulty: Intermediate Duration: 60 minutes What you'll learn: - Multi-scene compositions - Scene transitions (crossfade, slide) - Embedding video clips - Particle effects (sparkles, confetti) - Sound effects at specific frames - Stagger animations for lists - Audio-visual sync points - Quality settings for export</p> <p>What you'll build:</p> <p>A 1-minute video with: - 3 distinct scenes with transitions - Embedded video clip with audio - Particle effects for atmosphere - Staggered text animations - Sound effects synced to visuals</p>"},{"location":"tutorials/#prerequisites","title":"Prerequisites","text":"<p>Before starting these tutorials, make sure you have:</p> <ol> <li>Fluvie installed - See Installation</li> <li>FFmpeg set up - See FFmpeg Setup</li> <li>Completed the First Video guide - See First Video</li> </ol> <p>You should be comfortable with: - Basic Flutter widget composition - Running Flutter apps - Frame-based timing concepts (see Frame-Based Animation)</p>"},{"location":"tutorials/#tutorial-structure","title":"Tutorial Structure","text":"<p>Each tutorial follows this structure:</p> <ol> <li>Overview - What we're building and why</li> <li>Setup - Assets and project structure</li> <li>Step-by-step implementation - Incremental code building</li> <li>Preview and testing - Checking our work</li> <li>Export - Producing the final video</li> <li>Variations - Ideas for customization</li> </ol>"},{"location":"tutorials/#example-code","title":"Example Code","text":"<p>Working examples referenced in these tutorials can be found in:</p> <pre><code>example/lib/gallery/examples/\n</code></pre> Tutorial Related Example Simple Animation <code>example_1_simple_animation.dart</code> Advanced Composition <code>example_year_review.dart</code>"},{"location":"tutorials/#after-the-tutorials","title":"After the Tutorials","text":"<p>Once you've completed these tutorials, explore:</p> <ul> <li>Widget Reference - All available widgets</li> <li>Animations - Animation system deep dive</li> <li>Effects - Visual effects</li> <li>Templates - Pre-built video templates</li> </ul>"},{"location":"tutorials/advanced-composition/","title":"Tutorial: Advanced Composition","text":"<p>Build a multi-scene video with transitions, embedded video, effects, and synced audio</p> <p>In this tutorial, you'll create a professional 1-minute video with multiple scenes, smooth transitions, embedded video clips, particle effects, and precisely synced audio.</p>"},{"location":"tutorials/advanced-composition/#table-of-contents","title":"Table of Contents","text":"<ul> <li>What We're Building</li> <li>Setup</li> <li>Step 1: Scene Structure</li> <li>Step 2: Intro Scene</li> <li>Step 3: Content Scene with Embedded Video</li> <li>Step 4: Statistics Scene with Stagger</li> <li>Step 5: Outro with Particles</li> <li>Step 6: Add Sound Effects</li> <li>Step 7: Final Polish</li> <li>Complete Code</li> <li>Advanced Techniques</li> </ul>"},{"location":"tutorials/advanced-composition/#what-were-building","title":"What We're Building","text":"<p>A polished 1-minute video with 4 scenes:</p> Scene Duration Content 1. Intro 8s Logo zoom, title reveal with glitch effect 2. Content 20s Embedded video clip with text overlay 3. Statistics 20s Staggered stat cards with count-up animation 4. Outro 12s Thank you message with confetti celebration <p>Features: - Scene transitions (crossfade, slide) - Embedded video with synced audio - Particle effects (sparkles, confetti) - Staggered list animations - Sound effects at key moments - Background music throughout</p>"},{"location":"tutorials/advanced-composition/#setup","title":"Setup","text":""},{"location":"tutorials/advanced-composition/#project-structure","title":"Project Structure","text":"<pre><code>lib/\n\u251c\u2500\u2500 main.dart\n\u2514\u2500\u2500 videos/\n    \u2514\u2500\u2500 advanced_composition.dart\n\nassets/\n\u251c\u2500\u2500 images/\n\u2502   \u2514\u2500\u2500 logo.png\n\u251c\u2500\u2500 videos/\n\u2502   \u2514\u2500\u2500 highlight.mp4       # A 15-20 second video clip\n\u251c\u2500\u2500 audio/\n\u2502   \u251c\u2500\u2500 background.mp3      # Background music (60+ seconds)\n\u2502   \u251c\u2500\u2500 whoosh.mp3          # Transition sound effect\n\u2502   \u2514\u2500\u2500 success.mp3         # Celebration sound effect\n</code></pre>"},{"location":"tutorials/advanced-composition/#update-pubspecyaml","title":"Update pubspec.yaml","text":"<pre><code>flutter:\n  assets:\n    - assets/images/\n    - assets/videos/\n    - assets/audio/\n</code></pre>"},{"location":"tutorials/advanced-composition/#step-1-scene-structure","title":"Step 1: Scene Structure","text":"<p>Start with the overall composition structure:</p> <pre><code>// lib/videos/advanced_composition.dart\nimport 'package:flutter/material.dart';\nimport 'package:fluvie/declarative.dart';\n\nclass AdvancedCompositionVideo extends StatelessWidget {\n  const AdvancedCompositionVideo({super.key});\n\n  // Constants for timing (at 30fps)\n  static const int fps = 30;\n  static const int introLength = 8 * fps;      // 240 frames\n  static const int contentLength = 20 * fps;   // 600 frames\n  static const int statsLength = 20 * fps;     // 600 frames\n  static const int outroLength = 12 * fps;     // 360 frames\n\n  // Total: 1800 frames = 60 seconds\n\n  @override\n  Widget build(BuildContext context) {\n    return Video(\n      fps: fps,\n      width: 1920,\n      height: 1080,\n      encoding: const EncodingConfig(\n        quality: RenderQuality.high,\n        frameFormat: FrameFormat.rawRgba,\n      ),\n      backgroundMusicAsset: 'assets/audio/background.mp3',\n      musicVolume: 0.6,\n      musicFadeInFrames: 60,\n      musicFadeOutFrames: 120,\n      defaultTransition: const SceneTransition.crossFade(durationInFrames: 20),\n      scenes: [\n        _buildIntroScene(),\n        _buildContentScene(),\n        _buildStatsScene(),\n        _buildOutroScene(),\n      ],\n    );\n  }\n\n  Scene _buildIntroScene() {\n    return Scene(\n      durationInFrames: introLength,\n      children: [/* Step 2 */],\n    );\n  }\n\n  Scene _buildContentScene() {\n    return Scene(\n      durationInFrames: contentLength,\n      children: [/* Step 3 */],\n    );\n  }\n\n  Scene _buildStatsScene() {\n    return Scene(\n      durationInFrames: statsLength,\n      children: [/* Step 4 */],\n    );\n  }\n\n  Scene _buildOutroScene() {\n    return Scene(\n      durationInFrames: outroLength,\n      children: [/* Step 5 */],\n    );\n  }\n}\n</code></pre>"},{"location":"tutorials/advanced-composition/#step-2-intro-scene","title":"Step 2: Intro Scene","text":"<p>Create a dynamic intro with logo zoom and glitch text reveal:</p> <pre><code>Scene _buildIntroScene() {\n  return Scene(\n    durationInFrames: introLength,\n    background: Background.gradient(\n      colors: {\n        0: const Color(0xFF0a0a0a),\n        introLength: const Color(0xFF1a1a2e),\n      },\n      begin: Alignment.topCenter,\n      end: Alignment.bottomCenter,\n    ),\n    fadeInFrames: 20,\n    children: [\n      // Subtle grid overlay\n      const Positioned.fill(\n        child: EffectOverlay.grid(\n          color: Color(0xFF6366F1),\n          intensity: 0.03,\n        ),\n      ),\n\n      // Sparkles\n      Positioned.fill(\n        child: ParticleEffect.sparkles(\n          count: 30,\n          color: const Color(0xFF6366F1).withOpacity(0.5),\n        ),\n      ),\n\n      // Logo zooms in\n      VCenter(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            AnimatedProp(\n              startFrame: 10,\n              duration: 50,\n              animation: PropAnimation.combine([\n                PropAnimation.zoomIn(start: 0.3),\n                PropAnimation.fadeIn(),\n              ]),\n              curve: Easing.easeOutBack,\n              child: Image.asset(\n                'assets/images/logo.png',\n                width: 200,\n                height: 200,\n                errorBuilder: (_, __, ___) =&gt; Container(\n                  width: 200,\n                  height: 200,\n                  decoration: const BoxDecoration(\n                    shape: BoxShape.circle,\n                    color: Color(0xFF6366F1),\n                  ),\n                  child: const Icon(\n                    Icons.play_arrow,\n                    size: 100,\n                    color: Colors.white,\n                  ),\n                ),\n              ),\n            ),\n            const SizedBox(height: 40),\n\n            // Title with glitch entrance\n            AnimatedProp(\n              startFrame: 60,\n              duration: 40,\n              animation: const EntryAnimation.glitchSlide(\n                direction: EntrySlideDirection.fromBottom,\n                distance: 100,\n                rgbOffset: 8,\n              ),\n              child: const Text(\n                'YEAR IN REVIEW',\n                style: TextStyle(\n                  fontSize: 64,\n                  fontWeight: FontWeight.w900,\n                  color: Colors.white,\n                  letterSpacing: 12,\n                ),\n              ),\n            ),\n            const SizedBox(height: 16),\n\n            // Subtitle fades in\n            AnimatedText.fadeIn(\n              '2024 Highlights',\n              startFrame: 100,\n              duration: 30,\n              style: TextStyle(\n                fontSize: 28,\n                color: Colors.white.withOpacity(0.7),\n                letterSpacing: 4,\n              ),\n            ),\n          ],\n        ),\n      ),\n\n      // Scanlines for tech feel\n      const Positioned.fill(\n        child: EffectOverlay.scanlines(intensity: 0.02),\n      ),\n    ],\n  );\n}\n</code></pre>"},{"location":"tutorials/advanced-composition/#step-3-content-scene-with-embedded-video","title":"Step 3: Content Scene with Embedded Video","text":"<p>Add a scene featuring an embedded video clip:</p> <pre><code>Scene _buildContentScene() {\n  const videoStartFrame = 30;\n  const videoDuration = contentLength - 60; // Leave room for transitions\n\n  return Scene(\n    durationInFrames: contentLength,\n    transitionIn: const SceneTransition.slideRight(durationInFrames: 25),\n    background: Background.solid(const Color(0xFF0f3460)),\n    children: [\n      // Section title at top\n      VPositioned(\n        top: 60,\n        left: 0,\n        right: 0,\n        startFrame: 10,\n        fadeInFrames: 20,\n        child: AnimatedText.slideUpFade(\n          'TOP MOMENT',\n          startFrame: 0,\n          duration: 25,\n          style: TextStyle(\n            fontSize: 36,\n            fontWeight: FontWeight.w300,\n            color: Colors.white.withOpacity(0.9),\n            letterSpacing: 12,\n          ),\n          textAlign: TextAlign.center,\n        ),\n      ),\n\n      // Embedded video with frame\n      VPositioned(\n        top: 150,\n        left: 120,\n        startFrame: videoStartFrame,\n        fadeInFrames: 30,\n        fadeOutFrames: 30,\n        endFrame: contentLength - 30,\n        child: AnimatedProp(\n          animation: PropAnimation.slideUp(distance: 50),\n          duration: 35,\n          child: Container(\n            decoration: BoxDecoration(\n              borderRadius: BorderRadius.circular(20),\n              boxShadow: [\n                BoxShadow(\n                  color: Colors.black.withOpacity(0.4),\n                  blurRadius: 40,\n                  offset: const Offset(0, 20),\n                ),\n              ],\n            ),\n            child: ClipRRect(\n              borderRadius: BorderRadius.circular(20),\n              child: EmbeddedVideo(\n                assetPath: 'assets/videos/highlight.mp4',\n                width: 1200,\n                height: 675, // 16:9 aspect ratio\n                startFrame: videoStartFrame,\n                durationInFrames: videoDuration,\n                includeAudio: true,\n                audioVolume: 0.8,\n                audioFadeInFrames: 15,\n                audioFadeOutFrames: 30,\n              ),\n            ),\n          ),\n        ),\n      ),\n\n      // Video caption\n      VPositioned(\n        bottom: 80,\n        left: 120,\n        right: 120,\n        startFrame: videoStartFrame + 60,\n        fadeInFrames: 20,\n        fadeOutFrames: 30,\n        endFrame: contentLength - 30,\n        child: Row(\n          children: [\n            Container(\n              padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n              decoration: BoxDecoration(\n                color: const Color(0xFFe94560),\n                borderRadius: BorderRadius.circular(4),\n              ),\n              child: const Text(\n                'FEATURED',\n                style: TextStyle(\n                  color: Colors.white,\n                  fontWeight: FontWeight.bold,\n                  fontSize: 14,\n                ),\n              ),\n            ),\n            const SizedBox(width: 16),\n            const Expanded(\n              child: Text(\n                'Our most memorable moment of the year',\n                style: TextStyle(\n                  color: Colors.white,\n                  fontSize: 20,\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n\n      // Subtle vignette\n      const Positioned.fill(\n        child: EffectOverlay.vignette(intensity: 0.3),\n      ),\n    ],\n  );\n}\n</code></pre>"},{"location":"tutorials/advanced-composition/#step-4-statistics-scene-with-stagger","title":"Step 4: Statistics Scene with Stagger","text":"<p>Create an animated statistics display with staggered card animations:</p> <pre><code>Scene _buildStatsScene() {\n  return Scene(\n    durationInFrames: statsLength,\n    background: Background.gradient(\n      colors: {\n        0: const Color(0xFF667eea),\n        statsLength: const Color(0xFF764ba2),\n      },\n      begin: Alignment.topLeft,\n      end: Alignment.bottomRight,\n    ),\n    children: [\n      // Section title\n      VPositioned(\n        top: 80,\n        left: 0,\n        right: 0,\n        startFrame: 10,\n        fadeInFrames: 25,\n        child: AnimatedText.slideUpFade(\n          'BY THE NUMBERS',\n          startFrame: 0,\n          duration: 30,\n          style: const TextStyle(\n            fontSize: 52,\n            fontWeight: FontWeight.w900,\n            color: Colors.white,\n            letterSpacing: 8,\n          ),\n          textAlign: TextAlign.center,\n        ),\n      ),\n\n      // Stats grid with stagger\n      VPositioned(\n        top: 220,\n        left: 100,\n        right: 100,\n        startFrame: 50,\n        fadeOutFrames: 40,\n        endFrame: statsLength - 40,\n        child: Column(\n          children: [\n            // Row 1\n            Row(\n              children: [\n                Expanded(\n                  child: _buildStatCard(\n                    value: 365,\n                    label: 'DAYS',\n                    sublabel: 'of creating',\n                    color: const Color(0xFFff6b6b),\n                    startFrame: 50,\n                  ),\n                ),\n                const SizedBox(width: 40),\n                Expanded(\n                  child: _buildStatCard(\n                    value: 1842,\n                    label: 'HOURS',\n                    sublabel: 'of work',\n                    color: const Color(0xFF4ecdc4),\n                    startFrame: 70,\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 40),\n            // Row 2\n            Row(\n              children: [\n                Expanded(\n                  child: _buildStatCard(\n                    value: 52,\n                    label: 'PROJECTS',\n                    sublabel: 'completed',\n                    color: const Color(0xFFffe66d),\n                    startFrame: 90,\n                  ),\n                ),\n                const SizedBox(width: 40),\n                Expanded(\n                  child: _buildStatCard(\n                    value: 12,\n                    label: 'AWARDS',\n                    sublabel: 'won',\n                    color: const Color(0xFFa29bfe),\n                    startFrame: 110,\n                  ),\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n\n      // Subtle sparkles\n      Positioned.fill(\n        child: ParticleEffect.sparkles(\n          count: 25,\n          color: Colors.white.withOpacity(0.3),\n        ),\n      ),\n    ],\n  );\n}\n\nWidget _buildStatCard({\n  required int value,\n  required String label,\n  required String sublabel,\n  required Color color,\n  required int startFrame,\n}) {\n  return AnimatedProp(\n    startFrame: startFrame,\n    duration: 40,\n    animation: PropAnimation.combine([\n      PropAnimation.zoomIn(start: 0.7),\n      PropAnimation.fadeIn(),\n    ]),\n    curve: Easing.easeOutBack,\n    child: StatCard(\n      value: value,\n      label: label,\n      sublabel: sublabel,\n      color: color,\n      startFrame: startFrame + 20, // Count starts after card appears\n      countDuration: 40,\n      size: const Size(double.infinity, 200),\n      borderRadius: 20,\n      padding: const EdgeInsets.all(24),\n    ),\n  );\n}\n</code></pre>"},{"location":"tutorials/advanced-composition/#step-5-outro-with-particles","title":"Step 5: Outro with Particles","text":"<p>Create a celebration outro with confetti:</p> <pre><code>Scene _buildOutroScene() {\n  return Scene(\n    durationInFrames: outroLength,\n    background: Background.gradient(\n      colors: {\n        0: const Color(0xFFf12711),\n        outroLength ~/ 2: const Color(0xFFf5af19),\n        outroLength: const Color(0xFFf12711),\n      },\n      begin: Alignment.topCenter,\n      end: Alignment.bottomCenter,\n    ),\n    fadeOutFrames: 60,\n    children: [\n      // Confetti celebration\n      Positioned.fill(\n        child: ParticleEffect.confetti(\n          count: 60,\n          colors: [\n            Colors.white,\n            Colors.amber,\n            Colors.pink,\n            const Color(0xFF6366F1),\n            Colors.cyan,\n          ],\n        ),\n      ),\n\n      // Trophy icon\n      VCenter(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            AnimatedProp(\n              startFrame: 10,\n              duration: 35,\n              animation: PropAnimation.combine([\n                PropAnimation.zoomIn(start: 0),\n                PropAnimation.fadeIn(),\n              ]),\n              curve: Easing.elastic,\n              child: Container(\n                width: 120,\n                height: 120,\n                decoration: BoxDecoration(\n                  shape: BoxShape.circle,\n                  gradient: const LinearGradient(\n                    colors: [Color(0xFFffd700), Color(0xFFffa500)],\n                  ),\n                  boxShadow: [\n                    BoxShadow(\n                      color: const Color(0xFFffd700).withOpacity(0.4),\n                      blurRadius: 30,\n                    ),\n                  ],\n                ),\n                child: const Icon(\n                  Icons.emoji_events,\n                  size: 60,\n                  color: Colors.white,\n                ),\n              ),\n            ),\n            const SizedBox(height: 50),\n\n            // \"What a year\" text\n            AnimatedText.fadeIn(\n              'WHAT A YEAR',\n              startFrame: 40,\n              duration: 25,\n              style: TextStyle(\n                fontSize: 48,\n                fontWeight: FontWeight.w300,\n                color: Colors.white.withOpacity(0.95),\n                letterSpacing: 12,\n              ),\n            ),\n            const SizedBox(height: 12),\n            AnimatedText.scaleFade(\n              \"IT'S BEEN!\",\n              startFrame: 60,\n              duration: 30,\n              startScale: 0.8,\n              style: const TextStyle(\n                fontSize: 72,\n                fontWeight: FontWeight.w900,\n                color: Colors.white,\n                letterSpacing: 4,\n              ),\n            ),\n            const SizedBox(height: 60),\n\n            // Thank you message\n            AnimatedText.fadeIn(\n              'Thank you for an amazing journey',\n              startFrame: 100,\n              duration: 25,\n              style: TextStyle(\n                fontSize: 28,\n                color: Colors.white.withOpacity(0.85),\n              ),\n            ),\n          ],\n        ),\n      ),\n\n      // Film grain for warmth\n      const Positioned.fill(\n        child: EffectOverlay.grain(intensity: 0.04),\n      ),\n    ],\n  );\n}\n</code></pre>"},{"location":"tutorials/advanced-composition/#step-6-add-sound-effects","title":"Step 6: Add Sound Effects","text":"<p>Add sound effects at key moments using AudioTrack:</p> <pre><code>// In _buildIntroScene(), add:\nAudioTrack(\n  source: AudioSource.asset('assets/audio/whoosh.mp3'),\n  startFrame: 60,  // When title appears\n  durationInFrames: 30,\n  volume: 0.5,\n  child: const SizedBox.shrink(), // Invisible, just for audio\n),\n\n// In _buildOutroScene(), add:\nAudioTrack(\n  source: AudioSource.asset('assets/audio/success.mp3'),\n  startFrame: 10,  // When trophy appears\n  durationInFrames: 60,\n  volume: 0.6,\n  fadeInFrames: 5,\n  child: const SizedBox.shrink(),\n),\n</code></pre> <p>Alternative: Using sync points</p> <p>For precise audio-visual sync:</p> <pre><code>// Create a sync anchor at a key moment\nSyncAnchor(\n  id: 'beat_drop',\n  frame: 60,\n  child: AnimatedProp(\n    // Animation synced to this point\n  ),\n),\n\n// Sync audio to the anchor\nAudioTrack.syncStart(\n  source: AudioSource.asset('assets/audio/whoosh.mp3'),\n  syncAnchorId: 'beat_drop',\n  offsetFrames: -5, // Start 5 frames before anchor\n  durationInFrames: 30,\n  child: const SizedBox.shrink(),\n),\n</code></pre>"},{"location":"tutorials/advanced-composition/#step-7-final-polish","title":"Step 7: Final Polish","text":""},{"location":"tutorials/advanced-composition/#add-quality-settings","title":"Add Quality Settings","text":"<pre><code>return Video(\n  // ...\n  encoding: const EncodingConfig(\n    quality: RenderQuality.high, // Uses slow preset, CRF 18\n    frameFormat: FrameFormat.rawRgba, // Fastest capture\n    debugFrameOutputPath: null, // Don't save debug frames in production\n  ),\n  // ...\n);\n</code></pre>"},{"location":"tutorials/advanced-composition/#add-scene-specific-transitions","title":"Add Scene-Specific Transitions","text":"<pre><code>Scene _buildContentScene() {\n  return Scene(\n    durationInFrames: contentLength,\n    transitionIn: const SceneTransition.slideRight(durationInFrames: 25),\n    transitionOut: const SceneTransition.crossFade(durationInFrames: 20),\n    // ...\n  );\n}\n</code></pre>"},{"location":"tutorials/advanced-composition/#test-at-different-resolutions","title":"Test at Different Resolutions","text":"<pre><code>// For quick testing\nVideo(\n  width: 960,   // Half resolution\n  height: 540,\n  // ...\n)\n\n// For final export\nVideo(\n  width: 1920,\n  height: 1080,\n  // ...\n)\n\n// For 4K\nVideo(\n  width: 3840,\n  height: 2160,\n  // ...\n)\n</code></pre>"},{"location":"tutorials/advanced-composition/#complete-code","title":"Complete Code","text":"<p>The complete code is extensive. See the reference implementation:</p> <p>\ud83d\udcc1 <code>example/lib/gallery/examples/example_year_review.dart</code></p> <p>Key patterns from the complete example:</p> <ol> <li>Constants for timing - Define durations as constants</li> <li>Helper methods for repeated patterns - Like <code>_buildStatCard()</code></li> <li>Relative frame numbers - Child animations relative to parent</li> <li>Layer ordering - Background \u2192 Content \u2192 Effects \u2192 Overlays</li> </ol>"},{"location":"tutorials/advanced-composition/#advanced-techniques","title":"Advanced Techniques","text":""},{"location":"tutorials/advanced-composition/#dynamic-content","title":"Dynamic Content","text":"<p>Generate content from data:</p> <pre><code>final stats = [\n  {'value': 365, 'label': 'Days', 'color': Colors.red},\n  {'value': 1842, 'label': 'Hours', 'color': Colors.teal},\n  // ...\n];\n\nchildren: [\n  for (var i = 0; i &lt; stats.length; i++)\n    _buildStatCard(\n      value: stats[i]['value'] as int,\n      label: stats[i]['label'] as String,\n      color: stats[i]['color'] as Color,\n      startFrame: 50 + (i * 20), // Stagger by 20 frames\n    ),\n]\n</code></pre>"},{"location":"tutorials/advanced-composition/#responsive-layouts","title":"Responsive Layouts","text":"<p>Adapt to different aspect ratios:</p> <pre><code>@override\nWidget build(BuildContext context) {\n  final isVertical = Video.aspectRatio &lt; 1;\n\n  return Scene(\n    children: [\n      if (isVertical)\n        _buildVerticalLayout()\n      else\n        _buildHorizontalLayout(),\n    ],\n  );\n}\n</code></pre>"},{"location":"tutorials/advanced-composition/#custom-easing","title":"Custom Easing","text":"<p>Create custom animation curves:</p> <pre><code>final customCurve = Cubic(0.68, -0.55, 0.265, 1.55); // Overshoot\n\nAnimatedProp(\n  curve: customCurve,\n  // ...\n)\n</code></pre>"},{"location":"tutorials/advanced-composition/#looping-elements","title":"Looping Elements","text":"<p>Create infinitely looping animations:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    final loopProgress = (frame % 60) / 60; // 2-second loop at 30fps\n    final pulse = 1.0 + 0.1 * sin(loopProgress * 2 * pi);\n\n    return Transform.scale(\n      scale: pulse,\n      child: MyWidget(),\n    );\n  },\n)\n</code></pre>"},{"location":"tutorials/advanced-composition/#next-steps","title":"Next Steps","text":"<p>You've now mastered advanced Fluvie compositions! Explore:</p> <ol> <li>Templates - Pre-built professional templates</li> <li>Effects Reference - All available effects</li> <li>Extending Fluvie - Create custom components</li> <li>Production Examples - Real-world implementations</li> </ol>"},{"location":"tutorials/simple-animation/","title":"Tutorial: Simple Animation","text":"<p>Build a video with image, animated text, and background music</p> <p>In this tutorial, you'll create a 30-second video with a gradient background, an animated image, text overlays, and background music. This is perfect for social media intros, announcements, or personal videos.</p>"},{"location":"tutorials/simple-animation/#table-of-contents","title":"Table of Contents","text":"<ul> <li>What We're Building</li> <li>Setup</li> <li>Step 1: Basic Composition</li> <li>Step 2: Add a Background</li> <li>Step 3: Add an Image</li> <li>Step 4: Add Animated Text</li> <li>Step 5: Add Background Music</li> <li>Step 6: Preview and Export</li> <li>Complete Code</li> <li>Variations</li> </ul>"},{"location":"tutorials/simple-animation/#what-were-building","title":"What We're Building","text":"<p>A polished 30-second video featuring:</p> Time Content 0-3s Gradient fades in 1-5s Image appears with Ken Burns effect 3-6s Title slides up 5-8s Subtitle fades in 8-28s Content holds 28-30s Everything fades out <p>Music plays throughout with fade in at the start and fade out at the end.</p>"},{"location":"tutorials/simple-animation/#setup","title":"Setup","text":""},{"location":"tutorials/simple-animation/#create-project-structure","title":"Create Project Structure","text":"<pre><code>lib/\n\u251c\u2500\u2500 main.dart\n\u2514\u2500\u2500 videos/\n    \u2514\u2500\u2500 simple_animation.dart\n\nassets/\n\u251c\u2500\u2500 images/\n\u2502   \u2514\u2500\u2500 hero.jpg        # Your main image (1920x1080 recommended)\n\u2514\u2500\u2500 audio/\n    \u2514\u2500\u2500 background.mp3  # Background music (30+ seconds)\n</code></pre>"},{"location":"tutorials/simple-animation/#update-pubspecyaml","title":"Update pubspec.yaml","text":"<pre><code>flutter:\n  assets:\n    - assets/images/\n    - assets/audio/\n</code></pre>"},{"location":"tutorials/simple-animation/#sample-assets","title":"Sample Assets","text":"<p>If you don't have assets ready: - Use any landscape photo for <code>hero.jpg</code> - Use any music file for <code>background.mp3</code> - Or find free assets at Pexels, Pixabay</p>"},{"location":"tutorials/simple-animation/#step-1-basic-composition","title":"Step 1: Basic Composition","text":"<p>Create the video widget with basic settings:</p> <pre><code>// lib/videos/simple_animation.dart\nimport 'package:flutter/material.dart';\nimport 'package:fluvie/declarative.dart';\n\nclass SimpleAnimationVideo extends StatelessWidget {\n  const SimpleAnimationVideo({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Video(\n      fps: 30,\n      width: 1920,\n      height: 1080,\n      scenes: [\n        Scene(\n          durationInFrames: 900, // 30 seconds at 30fps\n          children: [\n            // Content will go here\n          ],\n        ),\n      ],\n    );\n  }\n}\n</code></pre> <p>Understanding the timing: - <code>fps: 30</code> = 30 frames per second - <code>length: 900</code> = 900 frames \u00f7 30fps = 30 seconds</p>"},{"location":"tutorials/simple-animation/#step-2-add-a-background","title":"Step 2: Add a Background","text":"<p>Add an animated gradient background:</p> <pre><code>Scene(\n  durationInFrames: 900,\n  background: Background.gradient(\n    colors: {\n      0: const Color(0xFF1a1a2e),     // Dark blue at start\n      450: const Color(0xFF16213e),   // Navy at middle\n      900: const Color(0xFF0f3460),   // Deep blue at end\n    },\n    begin: Alignment.topLeft,\n    end: Alignment.bottomRight,\n  ),\n  fadeInFrames: 30,   // Fade in over 1 second\n  fadeOutFrames: 60,  // Fade out over 2 seconds\n  children: [\n    // Content will go here\n  ],\n)\n</code></pre> <p>What's happening: - <code>Background.gradient</code> creates an animated gradient - Color keys (0, 450, 900) are frame numbers - The gradient smoothly transitions between colors - <code>fadeInFrames</code> and <code>fadeOutFrames</code> add smooth transitions</p>"},{"location":"tutorials/simple-animation/#step-3-add-an-image","title":"Step 3: Add an Image","text":"<p>Add a hero image with Ken Burns effect (slow zoom and pan):</p> <pre><code>Scene(\n  durationInFrames: 900,\n  background: Background.gradient(/* ... */),\n  fadeInFrames: 30,\n  fadeOutFrames: 60,\n  children: [\n    // Hero image with Ken Burns effect\n    Positioned.fill(\n      child: KenBurnsImage(\n        imagePath: 'assets/images/hero.jpg',\n        startFrame: 30,      // Start after fade-in\n        durationInFrames: 840, // Most of the video\n        zoomStart: 1.0,      // Start at normal size\n        zoomEnd: 1.15,       // End 15% zoomed in\n        panStart: Offset.zero,\n        panEnd: const Offset(0.05, 0.02), // Slight pan right and down\n        fadeInFrames: 45,    // 1.5 second fade in\n        fadeOutFrames: 30,   // 1 second fade out\n      ),\n    ),\n  ],\n)\n</code></pre> <p>Alternative: Simple image without Ken Burns</p> <p>If you prefer a static image:</p> <pre><code>// Simple positioned image\nVPositioned(\n  startFrame: 30,\n  fadeInFrames: 45,\n  fadeOutFrames: 30,\n  endFrame: 870,\n  child: Positioned.fill(\n    child: Image.asset(\n      'assets/images/hero.jpg',\n      fit: BoxFit.cover,\n    ),\n  ),\n),\n</code></pre>"},{"location":"tutorials/simple-animation/#step-4-add-animated-text","title":"Step 4: Add Animated Text","text":"<p>Add a title and subtitle with staggered animations:</p> <pre><code>Scene(\n  durationInFrames: 900,\n  background: Background.gradient(/* ... */),\n  fadeInFrames: 30,\n  fadeOutFrames: 60,\n  children: [\n    // Hero image (from Step 3)\n    Positioned.fill(\n      child: KenBurnsImage(/* ... */),\n    ),\n\n    // Overlay gradient for text readability\n    Positioned.fill(\n      child: Container(\n        decoration: BoxDecoration(\n          gradient: LinearGradient(\n            begin: Alignment.topCenter,\n            end: Alignment.bottomCenter,\n            colors: [\n              Colors.transparent,\n              Colors.black.withOpacity(0.7),\n            ],\n            stops: const [0.5, 1.0],\n          ),\n        ),\n      ),\n    ),\n\n    // Text content positioned at bottom\n    VPositioned(\n      bottom: 120,\n      left: 80,\n      right: 80,\n      startFrame: 90,       // Start at 3 seconds\n      fadeInFrames: 30,\n      fadeOutFrames: 60,\n      endFrame: 840,\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          // Main title - slides up\n          AnimatedText.slideUpFade(\n            'Your Amazing Title',\n            startFrame: 0,  // Relative to VPositioned startFrame\n            duration: 30,\n            style: const TextStyle(\n              fontSize: 72,\n              fontWeight: FontWeight.bold,\n              color: Colors.white,\n              height: 1.1,\n            ),\n          ),\n          const SizedBox(height: 16),\n          // Subtitle - fades in after title\n          AnimatedText.fadeIn(\n            'A subtitle that explains more about this video',\n            startFrame: 20,\n            duration: 25,\n            style: TextStyle(\n              fontSize: 28,\n              color: Colors.white.withOpacity(0.9),\n            ),\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre> <p>What's happening: - The overlay gradient makes text readable over the image - <code>VPositioned</code> positions text and handles timing - <code>startFrame</code> in <code>AnimatedText</code> is relative to parent's <code>startFrame</code> - Text appears staggered: title first, then subtitle</p>"},{"location":"tutorials/simple-animation/#step-5-add-background-music","title":"Step 5: Add Background Music","text":"<p>Wrap everything with an audio track:</p> <pre><code>@override\nWidget build(BuildContext context) {\n  return Video(\n    fps: 30,\n    width: 1920,\n    height: 1080,\n    // Simple way: use built-in music properties\n    backgroundMusicAsset: 'assets/audio/background.mp3',\n    musicVolume: 0.7,\n    musicFadeInFrames: 60,   // 2 second fade in\n    musicFadeOutFrames: 90,  // 3 second fade out\n    scenes: [\n      Scene(/* ... */),\n    ],\n  );\n}\n</code></pre> <p>Alternative: More control with AudioTrack</p> <p>For more control over audio timing:</p> <pre><code>return Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 900,\n      background: Background.gradient(/* ... */),\n      children: [\n        // Wrap content with AudioTrack\n        BackgroundAudio(\n          source: AudioSource.asset('assets/audio/background.mp3'),\n          volume: 0.7,\n          fadeInFrames: 60,\n          fadeOutFrames: 90,\n          child: Stack(\n            children: [\n              // All your content here\n              Positioned.fill(child: KenBurnsImage(/* ... */)),\n              // ... text overlay, etc.\n            ],\n          ),\n        ),\n      ],\n    ),\n  ],\n);\n</code></pre>"},{"location":"tutorials/simple-animation/#step-6-preview-and-export","title":"Step 6: Preview and Export","text":""},{"location":"tutorials/simple-animation/#preview-the-video","title":"Preview the Video","text":"<p>Add to your main.dart:</p> <pre><code>// lib/main.dart\nimport 'package:flutter/material.dart';\nimport 'videos/simple_animation.dart';\n\nvoid main() {\n  runApp(const MaterialApp(\n    home: Scaffold(\n      backgroundColor: Colors.black,\n      body: Center(\n        child: AspectRatio(\n          aspectRatio: 16 / 9,\n          child: SimpleAnimationVideo(),\n        ),\n      ),\n    ),\n  ));\n}\n</code></pre> <p>Run:</p> <pre><code>flutter run\n</code></pre>"},{"location":"tutorials/simple-animation/#export-the-video","title":"Export the Video","text":"<p>Create a test file:</p> <pre><code>// test/render_simple_animation_test.dart\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:fluvie/fluvie.dart';\nimport 'package:your_app/videos/simple_animation.dart';\n\nvoid main() {\n  testWidgets('Render simple animation', (tester) async {\n    await tester.pumpWidget(\n      const MaterialApp(\n        home: Scaffold(body: SimpleAnimationVideo()),\n      ),\n    );\n    await tester.pumpAndSettle();\n\n    final context = tester.element(find.byType(Video));\n    final renderService = RenderService();\n\n    final outputPath = await renderService.execute(\n      context: context,\n      outputPath: 'output/simple_animation.mp4',\n      onFrameUpdate: (frame) async =&gt; await tester.pump(),\n      onProgress: (progress) {\n        print('Rendering: ${(progress * 100).toStringAsFixed(0)}%');\n      },\n    );\n\n    print('\u2705 Video saved to: $outputPath');\n  });\n}\n</code></pre> <p>Run:</p> <pre><code>flutter test test/render_simple_animation_test.dart --timeout=none\n</code></pre>"},{"location":"tutorials/simple-animation/#complete-code","title":"Complete Code","text":"<p>Here's the complete <code>simple_animation.dart</code>:</p> <pre><code>import 'package:flutter/material.dart';\nimport 'package:fluvie/declarative.dart';\n\nclass SimpleAnimationVideo extends StatelessWidget {\n  const SimpleAnimationVideo({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Video(\n      fps: 30,\n      width: 1920,\n      height: 1080,\n      backgroundMusicAsset: 'assets/audio/background.mp3',\n      musicVolume: 0.7,\n      musicFadeInFrames: 60,\n      musicFadeOutFrames: 90,\n      scenes: [\n        Scene(\n          durationInFrames: 900, // 30 seconds\n          background: Background.gradient(\n            colors: {\n              0: const Color(0xFF1a1a2e),\n              450: const Color(0xFF16213e),\n              900: const Color(0xFF0f3460),\n            },\n            begin: Alignment.topLeft,\n            end: Alignment.bottomRight,\n          ),\n          fadeInFrames: 30,\n          fadeOutFrames: 60,\n          children: [\n            // Hero image with Ken Burns effect\n            Positioned.fill(\n              child: KenBurnsImage(\n                imagePath: 'assets/images/hero.jpg',\n                startFrame: 30,\n                durationInFrames: 840,\n                zoomStart: 1.0,\n                zoomEnd: 1.15,\n                panStart: Offset.zero,\n                panEnd: const Offset(0.05, 0.02),\n                fadeInFrames: 45,\n                fadeOutFrames: 30,\n              ),\n            ),\n\n            // Overlay gradient for text\n            Positioned.fill(\n              child: Container(\n                decoration: BoxDecoration(\n                  gradient: LinearGradient(\n                    begin: Alignment.topCenter,\n                    end: Alignment.bottomCenter,\n                    colors: [\n                      Colors.transparent,\n                      Colors.black.withOpacity(0.7),\n                    ],\n                    stops: const [0.5, 1.0],\n                  ),\n                ),\n              ),\n            ),\n\n            // Sparkle particles\n            Positioned.fill(\n              child: ParticleEffect.sparkles(\n                count: 20,\n                color: Colors.white.withOpacity(0.3),\n              ),\n            ),\n\n            // Text content\n            VPositioned(\n              bottom: 120,\n              left: 80,\n              right: 80,\n              startFrame: 90,\n              fadeInFrames: 30,\n              fadeOutFrames: 60,\n              endFrame: 840,\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                mainAxisSize: MainAxisSize.min,\n                children: [\n                  AnimatedText.slideUpFade(\n                    'Your Amazing Title',\n                    startFrame: 0,\n                    duration: 30,\n                    style: const TextStyle(\n                      fontSize: 72,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.white,\n                      height: 1.1,\n                    ),\n                  ),\n                  const SizedBox(height: 16),\n                  AnimatedText.fadeIn(\n                    'A subtitle that explains more about this video',\n                    startFrame: 20,\n                    duration: 25,\n                    style: TextStyle(\n                      fontSize: 28,\n                      color: Colors.white.withOpacity(0.9),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n\n            // Subtle vignette\n            const Positioned.fill(\n              child: EffectOverlay.vignette(intensity: 0.3),\n            ),\n          ],\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"tutorials/simple-animation/#variations","title":"Variations","text":""},{"location":"tutorials/simple-animation/#vertical-format-916","title":"Vertical Format (9:16)","text":"<p>For TikTok/Instagram Stories:</p> <pre><code>Video(\n  fps: 30,\n  width: 1080,\n  height: 1920, // Vertical!\n  // ... rest same\n)\n</code></pre>"},{"location":"tutorials/simple-animation/#square-format-11","title":"Square Format (1:1)","text":"<p>For Instagram feed:</p> <pre><code>Video(\n  fps: 30,\n  width: 1080,\n  height: 1080, // Square!\n  // ... rest same\n)\n</code></pre>"},{"location":"tutorials/simple-animation/#different-animation-styles","title":"Different Animation Styles","text":"<p>Try different text animations:</p> <pre><code>// Type out the text\nTypewriterText(\n  'Your Amazing Title',\n  startFrame: 0,\n  charsPerSecond: 15,\n  style: TextStyle(/* ... */),\n)\n\n// Scale up with fade\nAnimatedText.scaleFade(\n  'Your Amazing Title',\n  startScale: 0.8,\n  // ...\n)\n\n// Glitch effect entrance\nAnimatedProp(\n  animation: const EntryAnimation.glitchSlide(\n    direction: EntrySlideDirection.fromBottom,\n  ),\n  // ...\n)\n</code></pre>"},{"location":"tutorials/simple-animation/#add-more-visual-interest","title":"Add More Visual Interest","text":"<pre><code>// Add confetti at the end\nVPositioned(\n  startFrame: 800,\n  child: ParticleEffect.confetti(count: 50),\n),\n\n// Add a progress bar\nVPositioned(\n  bottom: 0,\n  left: 0,\n  right: 0,\n  child: TimeConsumer(\n    builder: (context, frame, progress) {\n      return Container(\n        height: 4,\n        child: LinearProgressIndicator(\n          value: progress,\n          backgroundColor: Colors.white24,\n          valueColor: AlwaysStoppedAnimation(Colors.white),\n        ),\n      );\n    },\n  ),\n),\n</code></pre>"},{"location":"tutorials/simple-animation/#next-steps","title":"Next Steps","text":"<p>Ready for more? Continue to:</p> <ol> <li>Advanced Composition Tutorial - Multi-scene videos</li> <li>Effects Reference - More visual effects</li> <li>Templates - Pre-built video templates</li> </ol>"},{"location":"widgets/","title":"Widget Reference","text":"<p>Complete guide to all Fluvie widgets</p> <p>This section documents every widget available in Fluvie, organized by category. Each widget page includes properties, examples, and usage guidelines.</p>"},{"location":"widgets/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Core Widgets</li> <li>Layout Widgets</li> <li>Audio Widgets</li> <li>Text Widgets</li> <li>Media Widgets</li> <li>How to Use This Reference</li> </ul>"},{"location":"widgets/#widget-categories","title":"Widget Categories","text":""},{"location":"widgets/#core-widgets","title":"Core Widgets","text":"<p>The fundamental building blocks for video composition:</p> Widget Description Video High-level scene-based composition (declarative API) VideoComposition Low-level composition root (full API) Scene Time-bounded section of video Sequence Basic timing container TimeConsumer Frame-based animation driver"},{"location":"widgets/#layout-widgets","title":"Layout Widgets","text":"<p>Video-aware layout widgets with timing and fade support:</p> Widget Description LayerStack Z-indexed layer composition Layer Individual layer with visibility timing VStack Video-aware Stack VColumn Column with stagger support VRow Row with stagger support VCenter Centered content with timing VPadding Padded content with timing VSizedBox Sized box with timing VPositioned Positioned element with hero transitions"},{"location":"widgets/#audio-widgets","title":"Audio Widgets","text":"<p>Add music, sound effects, and audio-reactive features:</p> Widget Description AudioTrack Precise audio timing and synchronization AudioSource Audio file reference types BackgroundAudio Full-video background music AudioReactive BPM detection and frequency analysis"},{"location":"widgets/#text-widgets","title":"Text Widgets","text":"<p>Animated typography optimized for video:</p> Widget Description FadeText Text with video-safe opacity AnimatedText Pre-built text animations TypewriterText Character-by-character reveal CounterText Animated number counting"},{"location":"widgets/#media-widgets","title":"Media Widgets","text":"<p>Embed images and videos:</p> Widget Description EmbeddedVideo Video-in-video with frame sync VideoSequence External video file reference Collage Multi-element photo layouts"},{"location":"widgets/#how-to-use-this-reference","title":"How to Use This Reference","text":""},{"location":"widgets/#page-structure","title":"Page Structure","text":"<p>Each widget page follows this structure:</p> <ol> <li>Overview - What the widget does and when to use it</li> <li>Properties - Complete property reference table</li> <li>Examples - Working code examples</li> <li>Related - Links to related widgets</li> </ol>"},{"location":"widgets/#property-tables","title":"Property Tables","text":"<p>Properties are documented with:</p> Column Description Property The property name Type Dart type Default Default value (if optional) Description What the property does"},{"location":"widgets/#example-code","title":"Example Code","text":"<p>All examples are complete and runnable:</p> <pre><code>// Examples show full context\nVideo(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 90,\n      children: [\n        // The widget being demonstrated\n        VCenter(\n          child: Text('Hello'),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/#quick-reference","title":"Quick Reference","text":""},{"location":"widgets/#choosing-the-right-widget","title":"Choosing the Right Widget","text":"I want to... Use this widget Create a multi-scene video Video Define scene timing Scene Animate based on frame TimeConsumer Stack layers with z-index LayerStack Show/hide content over time Layer or VPositioned Animate children sequentially VColumn with stagger Add background music BackgroundAudio Add sound effects AudioTrack Animate text entrance AnimatedText Type out text TypewriterText Count up numbers CounterText Embed a video clip EmbeddedVideo"},{"location":"widgets/#common-patterns","title":"Common Patterns","text":"<p>Fade in content at a specific frame: <pre><code>VPositioned(\n  startFrame: 30,\n  fadeInFrames: 15,\n  child: MyContent(),\n)\n</code></pre></p> <p>Staggered list animation: <pre><code>VColumn(\n  stagger: StaggerConfig.slideUp(delay: 10),\n  children: [Item1(), Item2(), Item3()],\n)\n</code></pre></p> <p>Frame-based animation: <pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    return Opacity(\n      opacity: progress,\n      child: MyContent(),\n    );\n  },\n)\n</code></pre></p>"},{"location":"widgets/#related-documentation","title":"Related Documentation","text":"<ul> <li>Animations - Animation system</li> <li>Effects - Visual effects</li> <li>Helpers - Pre-built components</li> <li>Examples - Working code</li> </ul>"},{"location":"widgets/audio/","title":"Audio Widgets","text":"<p>Audio widgets in Fluvie allow you to add music, sound effects, and audio-reactive animations to your video compositions.</p>"},{"location":"widgets/audio/#overview","title":"Overview","text":"<p>Fluvie provides several ways to work with audio:</p> <ol> <li>AudioTrack - Add individual audio clips with precise timing</li> <li>BackgroundAudio - Add background music spanning the full video</li> <li>AudioSource - Reference audio from assets, files, or URLs</li> <li>AudioReactive - Create visuals that respond to audio data</li> </ol>"},{"location":"widgets/audio/#widget-reference","title":"Widget Reference","text":"Widget Description Use Case AudioTrack Individual audio clip with timing Sound effects, synced music AudioSource Audio file reference All audio widgets BackgroundAudio Full-duration background music Background music AudioReactive Audio-responsive animations Beat visualization, audio sync"},{"location":"widgets/audio/#quick-examples","title":"Quick Examples","text":""},{"location":"widgets/audio/#background-music","title":"Background Music","text":"<pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 300,\n  width: 1920,\n  height: 1080,\n  child: BackgroundAudio(\n    source: AudioSource.asset('assets/audio/music.mp3'),\n    volume: 0.7,\n    fadeInFrames: 30,\n    fadeOutFrames: 60,\n    child: MyContent(),\n  ),\n)\n</code></pre>"},{"location":"widgets/audio/#sound-effect-at-specific-frame","title":"Sound Effect at Specific Frame","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/audio/whoosh.mp3'),\n  startFrame: 60,      // Play at frame 60\n  durationInFrames: 30,\n  volume: 0.8,\n)\n</code></pre>"},{"location":"widgets/audio/#audio-sources","title":"Audio Sources","text":"<pre><code>// From Flutter assets\nAudioSource.asset('assets/audio/music.mp3')\n\n// From file system\nAudioSource.file('/path/to/music.mp3')\n\n// From URL\nAudioSource.url('https://example.com/music.mp3')\n</code></pre>"},{"location":"widgets/audio/#audio-reactive-visualization","title":"Audio-Reactive Visualization","text":"<pre><code>AudioReactive(\n  provider: myAudioProvider,\n  child: TimeConsumer(\n    builder: (context, frame, _) {\n      final audioData = AudioReactive.of(context);\n      final beatStrength = audioData?.provider.getBeatStrengthAt(frame) ?? 0;\n\n      return Transform.scale(\n        scale: 1.0 + beatStrength * 0.2,\n        child: Circle(),\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"widgets/audio/#audio-timing","title":"Audio Timing","text":"<p>All audio timing in Fluvie is frame-based for consistency with video:</p> <pre><code>// At 30fps:\n// 30 frames = 1 second\n// 90 frames = 3 seconds\n\nAudioTrack(\n  source: AudioSource.asset('assets/sfx.mp3'),\n  startFrame: 90,        // Start at 3 seconds\n  durationInFrames: 60,  // Play for 2 seconds\n  fadeInFrames: 15,      // 0.5 second fade in\n  fadeOutFrames: 30,     // 1 second fade out\n)\n</code></pre>"},{"location":"widgets/audio/#using-with-video-widget","title":"Using with Video Widget","text":"<p>The <code>Video</code> widget provides convenient background music properties:</p> <pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  backgroundMusicAsset: 'assets/audio/music.mp3',\n  musicVolume: 0.7,\n  musicFadeInFrames: 60,\n  musicFadeOutFrames: 90,\n  scenes: [...],\n)\n</code></pre> <p>For more complex audio needs, use <code>AudioTrack</code> directly:</p> <pre><code>Scene(\n  durationInFrames: 300,\n  children: [\n    // Visual content\n    VCenter(child: Content()),\n\n    // Sound effect at frame 60\n    AudioTrack(\n      source: AudioSource.asset('assets/audio/ding.mp3'),\n      startFrame: 60,\n      durationInFrames: 30,\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/audio/#related","title":"Related","text":"<ul> <li>Embedding Audio - Detailed audio embedding guide</li> <li>Sync Anchors - Advanced audio sync</li> <li>Video - Background music properties</li> </ul>"},{"location":"widgets/audio/audio-reactive/","title":"AudioReactive","text":"<p>Create visuals that respond to audio data</p> <p><code>AudioReactive</code> provides audio analysis data to descendant widgets, enabling beat-synced animations, frequency visualizations, and other audio-responsive effects.</p>"},{"location":"widgets/audio/audio-reactive/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Widgets</li> <li>AudioDataProvider</li> <li>Examples</li> <li>Built-in Visualizations</li> <li>Related</li> </ul>"},{"location":"widgets/audio/audio-reactive/#overview","title":"Overview","text":"<p><code>AudioReactive</code> uses an <code>InheritedWidget</code> pattern to make audio analysis data available throughout the widget tree:</p> <pre><code>AudioReactive(\n  provider: myAudioProvider,\n  child: TimeConsumer(\n    builder: (context, frame, _) {\n      final audioData = AudioReactive.of(context);\n      final beatStrength = audioData?.provider.getBeatStrengthAt(frame) ?? 0;\n\n      return Transform.scale(\n        scale: 1.0 + beatStrength * 0.2,\n        child: Circle(),\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"widgets/audio/audio-reactive/#widgets","title":"Widgets","text":""},{"location":"widgets/audio/audio-reactive/#audioreactive_1","title":"AudioReactive","text":"<p>The <code>InheritedWidget</code> that provides audio data:</p> <pre><code>AudioReactive(\n  provider: myAudioProvider,\n  isReady: true,\n  child: Content(),\n)\n</code></pre> Property Type Description <code>provider</code> <code>AudioDataProvider</code> Audio analysis provider <code>isReady</code> <code>bool</code> Whether data is ready to use <code>child</code> <code>Widget</code> Child widget tree"},{"location":"widgets/audio/audio-reactive/#audioreactivebuilder","title":"AudioReactiveBuilder","text":"<p>Handles async initialization of the audio provider:</p> <pre><code>AudioReactiveBuilder(\n  provider: MockAudioDataProvider(bpm: 120),\n  loadingBuilder: (context) =&gt; CircularProgressIndicator(),\n  errorBuilder: (context, error) =&gt; Text('Error: $error'),\n  builder: (context, provider) {\n    return MyVideoComposition();\n  },\n)\n</code></pre> Property Type Description <code>provider</code> <code>AudioDataProvider</code> Provider to initialize <code>builder</code> <code>Widget Function(context, provider)</code> Builder when ready <code>loadingBuilder</code> <code>Widget Function(context)?</code> Loading state builder <code>errorBuilder</code> <code>Widget Function(context, error)?</code> Error state builder"},{"location":"widgets/audio/audio-reactive/#audiodataprovider","title":"AudioDataProvider","text":"<p>The <code>AudioDataProvider</code> abstract class defines the interface for audio analysis:</p>"},{"location":"widgets/audio/audio-reactive/#available-methods","title":"Available Methods","text":"Method Returns Description <code>getBpm()</code> <code>double</code> Beats per minute <code>getAmplitudeAt(frame, fps)</code> <code>double</code> Volume level (0.0-1.0) <code>getBeatStrengthAt(frame, fps)</code> <code>double</code> Beat intensity (0.0-1.0) <code>isBeatAt(frame, fps, threshold)</code> <code>bool</code> Whether there's a beat <code>getFrequencyBandsAt(frame, fps, bandCount)</code> <code>List&lt;double&gt;</code> Frequency spectrum <code>getBassAt(frame, fps)</code> <code>double</code> Low frequency level <code>getMidAt(frame, fps)</code> <code>double</code> Mid frequency level <code>getTrebleAt(frame, fps)</code> <code>double</code> High frequency level"},{"location":"widgets/audio/audio-reactive/#mockaudiodataprovider","title":"MockAudioDataProvider","text":"<p>For testing and prototyping:</p> <pre><code>final provider = MockAudioDataProvider(\n  bpm: 120,\n  // Optional: custom beat pattern\n);\n</code></pre>"},{"location":"widgets/audio/audio-reactive/#examples","title":"Examples","text":""},{"location":"widgets/audio/audio-reactive/#beat-synced-scale","title":"Beat-Synced Scale","text":"<pre><code>AudioReactive(\n  provider: audioProvider,\n  child: TimeConsumer(\n    builder: (context, frame, _) {\n      final audioData = AudioReactive.of(context);\n      final beatStrength = audioData?.provider.getBeatStrengthAt(frame) ?? 0;\n\n      return Transform.scale(\n        scale: 1.0 + beatStrength * 0.3,  // Scale up on beat\n        child: LogoWidget(),\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"widgets/audio/audio-reactive/#bass-reactive-color","title":"Bass-Reactive Color","text":"<pre><code>AudioReactive(\n  provider: audioProvider,\n  child: TimeConsumer(\n    builder: (context, frame, _) {\n      final audioData = AudioReactive.of(context);\n      final bass = audioData?.provider.getBassAt(frame) ?? 0;\n\n      return Container(\n        color: Color.lerp(Colors.blue, Colors.purple, bass),\n        child: Content(),\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"widgets/audio/audio-reactive/#beat-flash","title":"Beat Flash","text":"<pre><code>AudioReactive(\n  provider: audioProvider,\n  child: TimeConsumer(\n    builder: (context, frame, _) {\n      final audioData = AudioReactive.of(context);\n      final isBeat = audioData?.provider.isBeatAt(frame, threshold: 0.7) ?? false;\n\n      return Container(\n        color: isBeat ? Colors.white : Colors.black,\n        child: Content(),\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"widgets/audio/audio-reactive/#using-audioreactivemixin","title":"Using AudioReactiveMixin","text":"<p>For cleaner code in custom widgets:</p> <pre><code>class PulsingCircle extends StatelessWidget with AudioReactiveMixin {\n  final int frame;\n\n  const PulsingCircle({required this.frame});\n\n  @override\n  Widget build(BuildContext context) {\n    final beatStrength = getBeatStrength(context, frame);\n    final bass = getBass(context, frame);\n\n    return Container(\n      width: 100 + beatStrength * 50,\n      height: 100 + beatStrength * 50,\n      decoration: BoxDecoration(\n        shape: BoxShape.circle,\n        color: Colors.red.withOpacity(0.5 + bass * 0.5),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"widgets/audio/audio-reactive/#mixin-methods","title":"Mixin Methods","text":"<p>The <code>AudioReactiveMixin</code> provides convenient access methods:</p> <pre><code>// Get provider\nAudioDataProvider? getAudioProvider(context)\n\n// Get metrics\ndouble getBpm(context)\ndouble getAmplitude(context, frame)\ndouble getBeatStrength(context, frame)\nbool isBeat(context, frame, threshold)\nList&lt;double&gt; getFrequencyBands(context, frame, bandCount)\ndouble getBass(context, frame)\ndouble getMid(context, frame)\ndouble getTreble(context, frame)\n</code></pre>"},{"location":"widgets/audio/audio-reactive/#built-in-visualizations","title":"Built-in Visualizations","text":""},{"location":"widgets/audio/audio-reactive/#beatpulse","title":"BeatPulse","text":"<p>Applies a pulsing scale effect:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    return BeatPulse(\n      frame: frame,\n      minScale: 1.0,\n      maxScale: 1.2,\n      threshold: 0.3,\n      child: Text('Pulse!'),\n    );\n  },\n)\n</code></pre> Property Type Default Description <code>child</code> <code>Widget</code> required Widget to pulse <code>frame</code> <code>int?</code> <code>null</code> Current frame <code>minScale</code> <code>double</code> <code>1.0</code> Scale at no beat <code>maxScale</code> <code>double</code> <code>1.15</code> Scale at full beat <code>threshold</code> <code>double</code> <code>0.3</code> Beat detection threshold <code>fps</code> <code>int</code> <code>30</code> Frames per second"},{"location":"widgets/audio/audio-reactive/#frequencybars","title":"FrequencyBars","text":"<p>Visualizes frequency spectrum as bars:</p> <pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    return FrequencyBars(\n      frame: frame,\n      barCount: 8,\n      barWidth: 20,\n      maxHeight: 100,\n      spacing: 4,\n      color: Colors.green,\n      mirror: false,\n    );\n  },\n)\n</code></pre> Property Type Default Description <code>frame</code> <code>int</code> required Current frame <code>barCount</code> <code>int</code> <code>8</code> Number of bars <code>barWidth</code> <code>double</code> <code>20</code> Width of each bar <code>maxHeight</code> <code>double</code> <code>100</code> Maximum bar height <code>spacing</code> <code>double</code> <code>4</code> Space between bars <code>color</code> <code>Color</code> green Bar color <code>gradient</code> <code>Gradient?</code> <code>null</code> Optional gradient <code>mirror</code> <code>bool</code> <code>false</code> Show mirrored bars <code>borderRadius</code> <code>BorderRadius?</code> <code>null</code> Bar corners"},{"location":"widgets/audio/audio-reactive/#complete-example","title":"Complete Example","text":"<pre><code>class AudioVisualizer extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return AudioReactiveBuilder(\n      provider: MockAudioDataProvider(bpm: 120),\n      loadingBuilder: (context) =&gt; const CircularProgressIndicator(),\n      builder: (context, provider) {\n        return VideoComposition(\n          fps: 30,\n          durationInFrames: 300,\n          width: 1920,\n          height: 1080,\n          child: LayerStack(\n            children: [\n              // Beat-reactive background\n              TimeConsumer(\n                builder: (context, frame, _) {\n                  final audioData = AudioReactive.of(context);\n                  final bass = audioData?.provider.getBassAt(frame) ?? 0;\n\n                  return Container(\n                    decoration: BoxDecoration(\n                      gradient: LinearGradient(\n                        colors: [\n                          Color.lerp(Colors.purple, Colors.pink, bass)!,\n                          Color.lerp(Colors.blue, Colors.cyan, bass)!,\n                        ],\n                      ),\n                    ),\n                  );\n                },\n              ),\n\n              // Centered frequency bars\n              VCenter(\n                child: TimeConsumer(\n                  builder: (context, frame, _) {\n                    return FrequencyBars(\n                      frame: frame,\n                      barCount: 12,\n                      barWidth: 30,\n                      maxHeight: 200,\n                      spacing: 8,\n                      color: Colors.white,\n                      mirror: true,\n                    );\n                  },\n                ),\n              ),\n\n              // Pulsing logo\n              VPositioned(\n                right: 50,\n                bottom: 50,\n                child: TimeConsumer(\n                  builder: (context, frame, _) {\n                    return BeatPulse(\n                      frame: frame,\n                      minScale: 1.0,\n                      maxScale: 1.3,\n                      child: Icon(Icons.music_note, size: 48, color: Colors.white),\n                    );\n                  },\n                ),\n              ),\n            ],\n          ),\n        );\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"widgets/audio/audio-reactive/#related","title":"Related","text":"<ul> <li>TimeConsumer - Frame-based animation</li> <li>AudioTrack - Adding audio</li> <li>Embedding Audio - Audio guide</li> </ul>"},{"location":"widgets/audio/audio-source/","title":"AudioSource","text":"<p>Reference to an audio file</p> <p><code>AudioSource</code> represents an audio file that can be used with <code>AudioTrack</code> or <code>BackgroundAudio</code>. It supports Flutter assets, file system paths, and remote URLs.</p>"},{"location":"widgets/audio/audio-source/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Factory Constructors</li> <li>Examples</li> <li>Best Practices</li> <li>Related</li> </ul>"},{"location":"widgets/audio/audio-source/#overview","title":"Overview","text":"<p><code>AudioSource</code> is an abstract class with factory constructors for different audio sources:</p> <pre><code>// From Flutter assets\nAudioSource.asset('assets/audio/music.mp3')\n\n// From file system\nAudioSource.file('/path/to/music.mp3')\n\n// From URL\nAudioSource.url('https://example.com/music.mp3')\n</code></pre>"},{"location":"widgets/audio/audio-source/#factory-constructors","title":"Factory Constructors","text":""},{"location":"widgets/audio/audio-source/#audiosourceasset","title":"AudioSource.asset","text":"<p>Load audio from Flutter assets (defined in <code>pubspec.yaml</code>):</p> <pre><code>AudioSource.asset('assets/audio/background_music.mp3')\n</code></pre> <p>Requirements: - File must be listed in <code>pubspec.yaml</code> under <code>flutter.assets</code> - Path is relative to project root</p> <pre><code>flutter:\n  assets:\n    - assets/audio/\n</code></pre>"},{"location":"widgets/audio/audio-source/#audiosourcefile","title":"AudioSource.file","text":"<p>Load audio from the file system:</p> <pre><code>AudioSource.file('/absolute/path/to/music.mp3')\nAudioSource.file('relative/path/to/music.mp3')\n</code></pre> <p>Use cases: - User-selected files - Dynamically downloaded content - Server-side rendering with local files</p>"},{"location":"widgets/audio/audio-source/#audiosourceurl","title":"AudioSource.url","text":"<p>Load audio from a remote URL:</p> <pre><code>AudioSource.url('https://example.com/audio/music.mp3')\n</code></pre> <p>Considerations: - Audio is downloaded during rendering - Requires network access - Consider caching for repeated renders</p>"},{"location":"widgets/audio/audio-source/#examples","title":"Examples","text":""},{"location":"widgets/audio/audio-source/#with-audiotrack","title":"With AudioTrack","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/audio/effect.mp3'),\n  startFrame: 60,\n  durationInFrames: 30,\n)\n</code></pre>"},{"location":"widgets/audio/audio-source/#with-backgroundaudio","title":"With BackgroundAudio","text":"<pre><code>BackgroundAudio(\n  source: AudioSource.asset('assets/audio/music.mp3'),\n  volume: 0.7,\n  fadeInFrames: 30,\n  child: MyContent(),\n)\n</code></pre>"},{"location":"widgets/audio/audio-source/#multiple-sources","title":"Multiple Sources","text":"<pre><code>final backgroundMusic = AudioSource.asset('assets/audio/music.mp3');\nfinal soundEffect1 = AudioSource.asset('assets/audio/whoosh.mp3');\nfinal soundEffect2 = AudioSource.file('/downloads/custom_sound.mp3');\nfinal voiceover = AudioSource.url('https://api.example.com/audio/narration.mp3');\n\nLayerStack(\n  children: [\n    AudioTrack(\n      source: backgroundMusic,\n      startFrame: 0,\n      durationInFrames: 300,\n      volume: 0.5,\n    ),\n    AudioTrack(\n      source: soundEffect1,\n      startFrame: 60,\n      durationInFrames: 20,\n    ),\n    AudioTrack(\n      source: soundEffect2,\n      startFrame: 120,\n      durationInFrames: 30,\n    ),\n    AudioTrack(\n      source: voiceover,\n      startFrame: 30,\n      durationInFrames: 200,\n    ),\n    // Visual content...\n  ],\n)\n</code></pre>"},{"location":"widgets/audio/audio-source/#dynamic-source-selection","title":"Dynamic Source Selection","text":"<pre><code>AudioSource getAudioSource(AudioSourceType type, String path) {\n  switch (type) {\n    case AudioSourceType.asset:\n      return AudioSource.asset(path);\n    case AudioSourceType.file:\n      return AudioSource.file(path);\n    case AudioSourceType.url:\n      return AudioSource.url(path);\n  }\n}\n\n// Usage\nfinal source = getAudioSource(config.sourceType, config.path);\n</code></pre>"},{"location":"widgets/audio/audio-source/#supported-formats","title":"Supported Formats","text":"<p>FFmpeg handles audio encoding, so most common formats are supported:</p> Format Extension Notes MP3 <code>.mp3</code> Most common, widely supported AAC <code>.aac</code>, <code>.m4a</code> Good quality, smaller files WAV <code>.wav</code> Uncompressed, large files OGG <code>.ogg</code> Open format FLAC <code>.flac</code> Lossless compression <p>Recommendation: Use MP3 for general audio and WAV for sound effects requiring precise timing.</p>"},{"location":"widgets/audio/audio-source/#best-practices","title":"Best Practices","text":""},{"location":"widgets/audio/audio-source/#1-organize-audio-assets","title":"1. Organize Audio Assets","text":"<pre><code>assets/\n\u251c\u2500\u2500 audio/\n\u2502   \u251c\u2500\u2500 music/\n\u2502   \u2502   \u251c\u2500\u2500 background.mp3\n\u2502   \u2502   \u2514\u2500\u2500 outro.mp3\n\u2502   \u2514\u2500\u2500 sfx/\n\u2502       \u251c\u2500\u2500 whoosh.mp3\n\u2502       \u251c\u2500\u2500 ding.mp3\n\u2502       \u2514\u2500\u2500 click.mp3\n</code></pre>"},{"location":"widgets/audio/audio-source/#2-use-constants-for-asset-paths","title":"2. Use Constants for Asset Paths","text":"<pre><code>class AudioAssets {\n  static const backgroundMusic = 'assets/audio/music/background.mp3';\n  static const whoosh = 'assets/audio/sfx/whoosh.mp3';\n  static const ding = 'assets/audio/sfx/ding.mp3';\n  static const click = 'assets/audio/sfx/click.mp3';\n}\n\n// Usage\nAudioSource.asset(AudioAssets.whoosh)\n</code></pre>"},{"location":"widgets/audio/audio-source/#3-predefine-common-sources","title":"3. Predefine Common Sources","text":"<pre><code>class AudioSources {\n  static final backgroundMusic = AudioSource.asset(AudioAssets.backgroundMusic);\n  static final whoosh = AudioSource.asset(AudioAssets.whoosh);\n  static final ding = AudioSource.asset(AudioAssets.ding);\n}\n\n// Usage\nAudioTrack(\n  source: AudioSources.whoosh,\n  startFrame: 60,\n  durationInFrames: 20,\n)\n</code></pre>"},{"location":"widgets/audio/audio-source/#4-handle-missing-audio-gracefully","title":"4. Handle Missing Audio Gracefully","text":"<p>For file or URL sources, consider the audio might not be available:</p> <pre><code>// Check file exists before using\nif (await File(audioPath).exists()) {\n  return AudioSource.file(audioPath);\n}\n// Fallback to asset\nreturn AudioSource.asset('assets/audio/default.mp3');\n</code></pre>"},{"location":"widgets/audio/audio-source/#related","title":"Related","text":"<ul> <li>AudioTrack - Using audio sources</li> <li>BackgroundAudio - Background music</li> <li>Embedding Audio - Detailed audio guide</li> </ul>"},{"location":"widgets/audio/audio-track/","title":"AudioTrack","text":"<p>Individual audio clip with precise timing control</p> <p><code>AudioTrack</code> attaches an audio clip to the video timeline with full control over timing, volume, fading, and trimming. All time values are in frames for consistency with the video timeline.</p>"},{"location":"widgets/audio/audio-track/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Sync Anchors</li> <li>Related</li> </ul>"},{"location":"widgets/audio/audio-track/#overview","title":"Overview","text":"<p><code>AudioTrack</code> is the primary widget for adding audio to your video:</p> <pre><code>AudioTrack(\n  source: AudioSource.asset('assets/audio/music.mp3'),\n  startFrame: 0,\n  durationInFrames: 300,\n  fadeInFrames: 30,\n  fadeOutFrames: 30,\n  volume: 0.8,\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#when-to-use","title":"When to Use","text":"<p>Use <code>AudioTrack</code> when you need: - Sound effects at specific frames - Music that starts/stops at precise moments - Audio with trimming (skip intro, cut early) - Synced audio with visual elements</p> <p>Use <code>BackgroundAudio</code> instead for simple background music spanning the full video.</p>"},{"location":"widgets/audio/audio-track/#properties","title":"Properties","text":"Property Type Default Description <code>source</code> <code>AudioSource</code> required The audio file to play <code>startFrame</code> <code>int</code> required Frame to start playback <code>durationInFrames</code> <code>int</code> required How long to play (frames) <code>trimStartFrame</code> <code>int</code> <code>0</code> Skip this many frames at start <code>trimEndFrame</code> <code>int?</code> <code>null</code> Stop this many frames before end <code>volume</code> <code>double</code> <code>1.0</code> Volume (0.0-1.0) <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade in duration <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade out duration <code>loop</code> <code>bool</code> <code>false</code> Loop if shorter than duration <code>sync</code> <code>AudioSyncConfig?</code> <code>null</code> Sync configuration <code>child</code> <code>Widget</code> <code>SizedBox.shrink()</code> Optional child widget"},{"location":"widgets/audio/audio-track/#constructors","title":"Constructors","text":""},{"location":"widgets/audio/audio-track/#default-constructor","title":"Default Constructor","text":"<p>Full control over all timing:</p> <pre><code>AudioTrack(\n  source: AudioSource.asset('assets/audio/effect.mp3'),\n  startFrame: 60,\n  durationInFrames: 45,\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#audiotracksyncstart","title":"AudioTrack.syncStart","text":"<p>Sync audio start to a <code>SyncAnchor</code>:</p> <pre><code>AudioTrack.syncStart(\n  source: AudioSource.asset('assets/audio/intro.mp3'),\n  syncWithAnchor: 'intro_text',\n  startOffset: -15,  // Start 15 frames before anchor\n  durationInFrames: 150,\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#audiotracksyncrange","title":"AudioTrack.syncRange","text":"<p>Sync both start and end to anchors:</p> <pre><code>AudioTrack.syncRange(\n  source: AudioSource.asset('assets/audio/scene_music.mp3'),\n  syncStartWithAnchor: 'scene_start',\n  syncEndWithAnchor: 'scene_end',\n  startOffset: 0,\n  endOffset: 30,  // Extend 30 frames past end for fade out\n  behavior: SyncBehavior.loopToMatch,\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#examples","title":"Examples","text":""},{"location":"widgets/audio/audio-track/#basic-sound-effect","title":"Basic Sound Effect","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/audio/whoosh.mp3'),\n  startFrame: 60,        // Play at frame 60 (2 seconds at 30fps)\n  durationInFrames: 30,  // Play for 1 second\n  volume: 0.8,\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#music-with-fading","title":"Music with Fading","text":"<pre><code>AudioTrack(\n  source: AudioSource.asset('assets/audio/music.mp3'),\n  startFrame: 0,\n  durationInFrames: 300,\n  fadeInFrames: 30,   // 1 second fade in\n  fadeOutFrames: 60,  // 2 second fade out\n  volume: 0.7,\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#trimmed-audio","title":"Trimmed Audio","text":"<p>Skip the intro and cut before the end:</p> <pre><code>AudioTrack(\n  source: AudioSource.asset('assets/audio/song.mp3'),\n  startFrame: 0,\n  durationInFrames: 300,\n  trimStartFrame: 90,   // Skip first 3 seconds of audio\n  trimEndFrame: 150,    // Stop 5 seconds before audio ends\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#looping-audio","title":"Looping Audio","text":"<p>Loop a short clip to fill the duration:</p> <pre><code>AudioTrack(\n  source: AudioSource.asset('assets/audio/loop.mp3'),\n  startFrame: 0,\n  durationInFrames: 600,  // 20 seconds\n  loop: true,             // Loop if audio is shorter\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#multiple-audio-tracks","title":"Multiple Audio Tracks","text":"<pre><code>LayerStack(\n  children: [\n    // Background music\n    AudioTrack(\n      source: AudioSource.asset('assets/audio/music.mp3'),\n      startFrame: 0,\n      durationInFrames: 300,\n      volume: 0.5,\n      fadeInFrames: 30,\n      fadeOutFrames: 60,\n    ),\n\n    // Sound effect at specific moment\n    AudioTrack(\n      source: AudioSource.asset('assets/audio/ding.mp3'),\n      startFrame: 90,       // At \"reveal\" moment\n      durationInFrames: 30,\n      volume: 0.8,\n    ),\n\n    // Another sound effect\n    AudioTrack(\n      source: AudioSource.asset('assets/audio/whoosh.mp3'),\n      startFrame: 150,      // At transition\n      durationInFrames: 20,\n      volume: 0.6,\n    ),\n\n    // Visual content\n    VCenter(child: Content()),\n  ],\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#in-a-scene","title":"In a Scene","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    // Title appears with sound\n    VPositioned(\n      left: 0,\n      right: 0,\n      top: 200,\n      startFrame: 30,\n      fadeInFrames: 15,\n      child: Text('Your 2024', style: titleStyle),\n    ),\n\n    // Sound when title appears\n    AudioTrack(\n      source: AudioSource.asset('assets/audio/reveal.mp3'),\n      startFrame: 25,  // Slightly before visual\n      durationInFrames: 45,\n      volume: 0.7,\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#sync-anchors","title":"Sync Anchors","text":"<p>Audio tracks can be synced to visual elements using <code>SyncAnchor</code>:</p>"},{"location":"widgets/audio/audio-track/#visual-element-with-anchor","title":"Visual Element with Anchor","text":"<pre><code>SyncAnchor(\n  id: 'title_appear',\n  child: VPositioned(\n    startFrame: 30,\n    fadeInFrames: 15,\n    child: Text('Title'),\n  ),\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#audio-synced-to-anchor","title":"Audio Synced to Anchor","text":"<pre><code>AudioTrack.syncStart(\n  source: AudioSource.asset('assets/audio/reveal.mp3'),\n  syncWithAnchor: 'title_appear',\n  startOffset: -5,  // Start 5 frames before title appears\n  durationInFrames: 45,\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#sync-behavior-options","title":"Sync Behavior Options","text":"Behavior Description <code>SyncBehavior.stopWhenEnds</code> Stop when audio naturally ends <code>SyncBehavior.loopToMatch</code> Loop to fill the synced duration <pre><code>AudioTrack.syncRange(\n  source: AudioSource.asset('assets/audio/ambient.mp3'),\n  syncStartWithAnchor: 'scene_start',\n  syncEndWithAnchor: 'scene_end',\n  behavior: SyncBehavior.loopToMatch,  // Loop ambient sound\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#frame-calculations","title":"Frame Calculations","text":""},{"location":"widgets/audio/audio-track/#converting-time-to-frames","title":"Converting Time to Frames","text":"<pre><code>// At 30fps:\n// seconds * fps = frames\n\nfinal fps = 30;\nfinal seconds = 5;\nfinal frames = seconds * fps;  // 150 frames\n\nAudioTrack(\n  source: source,\n  startFrame: 2 * fps,        // Start at 2 seconds\n  durationInFrames: 5 * fps,  // Play for 5 seconds\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#trim-example","title":"Trim Example","text":"<pre><code>// Skip first 10 seconds of a song, play for 30 seconds\nAudioTrack(\n  source: AudioSource.asset('assets/audio/song.mp3'),\n  startFrame: 0,\n  durationInFrames: 30 * 30,     // 30 seconds at 30fps = 900 frames\n  trimStartFrame: 10 * 30,        // Skip first 10 seconds = 300 frames\n)\n</code></pre>"},{"location":"widgets/audio/audio-track/#related","title":"Related","text":"<ul> <li>AudioSource - Audio file references</li> <li>BackgroundAudio - Full-video background music</li> <li>SyncAnchor - Audio-visual sync</li> <li>Embedding Audio - Audio embedding guide</li> </ul>"},{"location":"widgets/audio/background-audio/","title":"BackgroundAudio","text":"<p>Convenience widget for full-video background music</p> <p><code>BackgroundAudio</code> is a simplified wrapper around <code>AudioTrack</code> that automatically spans the entire video duration. It's the easiest way to add background music.</p>"},{"location":"widgets/audio/background-audio/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Comparison with AudioTrack</li> <li>Related</li> </ul>"},{"location":"widgets/audio/background-audio/#overview","title":"Overview","text":"<p><code>BackgroundAudio</code> automatically reads the video duration from <code>VideoComposition</code> and creates an <code>AudioTrack</code> that spans the full timeline:</p> <pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 300,\n  width: 1920,\n  height: 1080,\n  child: BackgroundAudio(\n    source: AudioSource.asset('assets/audio/music.mp3'),\n    volume: 0.7,\n    fadeInFrames: 30,\n    fadeOutFrames: 60,\n    child: MyContent(),\n  ),\n)\n</code></pre>"},{"location":"widgets/audio/background-audio/#when-to-use","title":"When to Use","text":"<p>Use <code>BackgroundAudio</code> when you want: - Simple background music for the entire video - Automatic duration matching - Less configuration than <code>AudioTrack</code></p> <p>Use <code>AudioTrack</code> instead when you need: - Audio that starts/stops at specific frames - Multiple audio clips with different timing - Sync anchors</p>"},{"location":"widgets/audio/background-audio/#properties","title":"Properties","text":"Property Type Default Description <code>source</code> <code>AudioSource</code> required The audio file <code>trimStartFrame</code> <code>int</code> <code>0</code> Skip this many frames at start <code>trimEndFrame</code> <code>int?</code> <code>null</code> Stop before end of audio <code>volume</code> <code>double</code> <code>1.0</code> Volume (0.0-1.0) <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade in duration <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade out duration <code>loop</code> <code>bool</code> <code>true</code> Loop if audio is shorter <code>child</code> <code>Widget</code> <code>SizedBox.shrink()</code> Child widget"},{"location":"widgets/audio/background-audio/#examples","title":"Examples","text":""},{"location":"widgets/audio/background-audio/#basic-background-music","title":"Basic Background Music","text":"<pre><code>BackgroundAudio(\n  source: AudioSource.asset('assets/audio/music.mp3'),\n  child: MyVideoContent(),\n)\n</code></pre>"},{"location":"widgets/audio/background-audio/#with-volume-and-fading","title":"With Volume and Fading","text":"<pre><code>BackgroundAudio(\n  source: AudioSource.asset('assets/audio/music.mp3'),\n  volume: 0.6,            // 60% volume\n  fadeInFrames: 60,       // 2 second fade in at 30fps\n  fadeOutFrames: 90,      // 3 second fade out\n  child: MyVideoContent(),\n)\n</code></pre>"},{"location":"widgets/audio/background-audio/#skip-intro-of-song","title":"Skip Intro of Song","text":"<pre><code>BackgroundAudio(\n  source: AudioSource.asset('assets/audio/music.mp3'),\n  trimStartFrame: 90,     // Skip first 3 seconds\n  volume: 0.7,\n  fadeInFrames: 30,\n  fadeOutFrames: 60,\n  child: MyVideoContent(),\n)\n</code></pre>"},{"location":"widgets/audio/background-audio/#from-file-or-url","title":"From File or URL","text":"<pre><code>// From file\nBackgroundAudio(\n  source: AudioSource.file('/path/to/music.mp3'),\n  volume: 0.7,\n  child: MyVideoContent(),\n)\n\n// From URL\nBackgroundAudio(\n  source: AudioSource.url('https://example.com/music.mp3'),\n  volume: 0.7,\n  child: MyVideoContent(),\n)\n</code></pre>"},{"location":"widgets/audio/background-audio/#complete-videocomposition-example","title":"Complete VideoComposition Example","text":"<pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 300,  // 10 seconds\n  width: 1920,\n  height: 1080,\n  child: BackgroundAudio(\n    source: AudioSource.asset('assets/audio/ambient.mp3'),\n    volume: 0.5,\n    fadeInFrames: 45,     // 1.5 second fade in\n    fadeOutFrames: 60,    // 2 second fade out\n    loop: true,           // Loop if ambient is short\n    child: LayerStack(\n      children: [\n        Layer.background(\n          child: GradientBackground(),\n        ),\n        Layer(\n          startFrame: 30,\n          fadeInFrames: 20,\n          child: VCenter(child: Title()),\n        ),\n      ],\n    ),\n  ),\n)\n</code></pre>"},{"location":"widgets/audio/background-audio/#comparison-with-audiotrack","title":"Comparison with AudioTrack","text":""},{"location":"widgets/audio/background-audio/#backgroundaudio_1","title":"BackgroundAudio","text":"<pre><code>// Simple - auto-detects duration\nBackgroundAudio(\n  source: AudioSource.asset('assets/audio/music.mp3'),\n  volume: 0.7,\n  fadeInFrames: 30,\n  fadeOutFrames: 60,\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/audio/background-audio/#equivalent-audiotrack","title":"Equivalent AudioTrack","text":"<pre><code>// Manual - requires duration\nAudioTrack(\n  source: AudioSource.asset('assets/audio/music.mp3'),\n  startFrame: 0,\n  durationInFrames: 300,  // Must match video duration\n  volume: 0.7,\n  fadeInFrames: 30,\n  fadeOutFrames: 60,\n  loop: true,\n)\n</code></pre>"},{"location":"widgets/audio/background-audio/#when-to-use-each","title":"When to Use Each","text":"Scenario Widget Single background track for full video <code>BackgroundAudio</code> Music starting at specific frame <code>AudioTrack</code> Sound effect at specific moment <code>AudioTrack</code> Multiple overlapping audio clips <code>AudioTrack</code> Audio synced to visual elements <code>AudioTrack</code>"},{"location":"widgets/audio/background-audio/#using-with-video-widget","title":"Using with Video Widget","text":"<p>The <code>Video</code> widget has built-in background music properties that are even simpler:</p> <pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  backgroundMusicAsset: 'assets/audio/music.mp3',\n  musicVolume: 0.7,\n  musicFadeInFrames: 60,\n  musicFadeOutFrames: 90,\n  scenes: [...],\n)\n</code></pre> <p>This is equivalent to using <code>BackgroundAudio</code> but requires less nesting.</p>"},{"location":"widgets/audio/background-audio/#when-to-use-each_1","title":"When to Use Each","text":"Approach Use When <code>Video.backgroundMusicAsset</code> Using <code>Video</code> widget with simple music needs <code>BackgroundAudio</code> Using <code>VideoComposition</code> directly <code>AudioTrack</code> Complex audio requirements"},{"location":"widgets/audio/background-audio/#looping-behavior","title":"Looping Behavior","text":"<p>By default, <code>BackgroundAudio</code> loops (<code>loop: true</code>). This means:</p> <ul> <li>If your audio is shorter than the video, it repeats</li> <li>If your audio is longer, it gets cut at video end</li> <li>The fade out applies at the video end, not audio end</li> </ul> <pre><code>// 30-second audio for a 2-minute video\n// Audio will loop ~4 times\nBackgroundAudio(\n  source: AudioSource.asset('assets/audio/short_loop.mp3'),\n  loop: true,  // Default\n  fadeOutFrames: 60,  // Fade out at video end\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/audio/background-audio/#related","title":"Related","text":"<ul> <li>AudioTrack - More control over timing</li> <li>AudioSource - Audio file references</li> <li>Video - Built-in background music</li> <li>Embedding Audio - Audio guide</li> </ul>"},{"location":"widgets/core/scene/","title":"Scene","text":"<p>Time-bounded section of a video</p> <p><code>Scene</code> represents a distinct section of your video with its own duration, background, and content. Scenes are the primary building blocks within a <code>Video</code> widget.</p>"},{"location":"widgets/core/scene/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Timing</li> <li>Backgrounds</li> <li>Transitions</li> <li>SceneContext</li> <li>Related</li> </ul>"},{"location":"widgets/core/scene/#overview","title":"Overview","text":"<p>A <code>Scene</code> defines: - Length - How many frames the scene lasts - Background - Solid color, gradient, or custom background - Content - Child widgets displayed during the scene - Fading - Fade in/out at scene boundaries - Transitions - Effects when entering/leaving the scene</p> <pre><code>Scene(\n  durationInFrames: 90, // 3 seconds at 30fps\n  background: Background.solid(Colors.blue),\n  fadeInFrames: 15,\n  fadeOutFrames: 15,\n  children: [\n    VCenter(child: Text('Hello!')),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#properties","title":"Properties","text":"Property Type Default Description <code>durationInFrames</code> <code>int</code> required Scene duration in frames <code>background</code> <code>Background?</code> <code>null</code> Scene background <code>children</code> <code>List&lt;Widget&gt;</code> <code>[]</code> Content widgets <code>fadeInFrames</code> <code>int</code> <code>0</code> Frames to fade in <code>fadeOutFrames</code> <code>int</code> <code>0</code> Frames to fade out <code>fadeInCurve</code> <code>Curve</code> <code>Curves.easeOut</code> Fade in easing <code>fadeOutCurve</code> <code>Curve</code> <code>Curves.easeIn</code> Fade out easing <code>transitionIn</code> <code>SceneTransition?</code> <code>null</code> Override entrance transition <code>transitionOut</code> <code>SceneTransition?</code> <code>null</code> Override exit transition"},{"location":"widgets/core/scene/#examples","title":"Examples","text":""},{"location":"widgets/core/scene/#basic-scene","title":"Basic Scene","text":"<pre><code>Scene(\n  durationInFrames: 90,\n  background: Background.solid(Colors.indigo),\n  children: [\n    VCenter(\n      child: Text(\n        'Welcome',\n        style: TextStyle(fontSize: 72, color: Colors.white),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#scene-with-fade","title":"Scene with Fade","text":"<pre><code>Scene(\n  durationInFrames: 120,\n  background: Background.solid(Colors.black),\n  fadeInFrames: 20,   // Fade in over 20 frames\n  fadeOutFrames: 30,  // Fade out over 30 frames\n  fadeInCurve: Curves.easeOutCubic,\n  fadeOutCurve: Curves.easeInCubic,\n  children: [\n    VCenter(child: Text('Smooth transitions')),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#scene-with-animated-gradient","title":"Scene with Animated Gradient","text":"<pre><code>Scene(\n  durationInFrames: 150,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF6366F1),    // Start color\n      75: Color(0xFF8B5CF6),   // Middle color\n      150: Color(0xFFEC4899),  // End color\n    },\n    begin: Alignment.topLeft,\n    end: Alignment.bottomRight,\n  ),\n  children: [\n    VCenter(child: Text('Color journey')),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#multiple-layered-content","title":"Multiple Layered Content","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    // Background layer - full screen image\n    Positioned.fill(\n      child: Image.asset('assets/background.jpg', fit: BoxFit.cover),\n    ),\n\n    // Overlay gradient for text readability\n    Positioned.fill(\n      child: Container(\n        decoration: BoxDecoration(\n          gradient: LinearGradient(\n            begin: Alignment.topCenter,\n            end: Alignment.bottomCenter,\n            colors: [Colors.transparent, Colors.black87],\n          ),\n        ),\n      ),\n    ),\n\n    // Text content\n    VPositioned(\n      bottom: 100,\n      left: 50,\n      right: 50,\n      startFrame: 30,\n      fadeInFrames: 20,\n      child: Text('Layered composition'),\n    ),\n\n    // Particles on top\n    Positioned.fill(\n      child: ParticleEffect.sparkles(count: 30),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#timing","title":"Timing","text":""},{"location":"widgets/core/scene/#scene-length","title":"Scene Length","text":"<p>The <code>length</code> is measured in frames:</p> <pre><code>// At 30fps:\nScene(durationInFrames: 30)   // 1 second\nScene(durationInFrames: 90)   // 3 seconds\nScene(durationInFrames: 300)  // 10 seconds\nScene(durationInFrames: 1800) // 1 minute\n</code></pre>"},{"location":"widgets/core/scene/#child-timing","title":"Child Timing","text":"<p>Children can have their own timing relative to the scene:</p> <pre><code>Scene(\n  durationInFrames: 120,\n  children: [\n    // Visible for entire scene\n    VCenter(child: Background()),\n\n    // Appears at frame 30 within scene\n    VPositioned(\n      startFrame: 30,\n      fadeInFrames: 15,\n      child: Title(),\n    ),\n\n    // Appears at frame 60, disappears at frame 100\n    VPositioned(\n      startFrame: 60,\n      endFrame: 100,\n      fadeInFrames: 10,\n      fadeOutFrames: 10,\n      child: Subtitle(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#timeline-example","title":"Timeline Example","text":"<pre><code>Scene: length=120, fadeIn=15, fadeOut=15\n\u251c\u2500\u2500 Frame 0-15: Scene fading in\n\u251c\u2500\u2500 Frame 15-105: Scene fully visible\n\u2514\u2500\u2500 Frame 105-120: Scene fading out\n\nChildren:\n\u251c\u2500\u2500 VPositioned(startFrame: 30)\n\u2502   \u2514\u2500\u2500 Appears at scene frame 30 (global varies by scene position)\n\u2514\u2500\u2500 VPositioned(startFrame: 60, endFrame: 100)\n    \u2514\u2500\u2500 Visible from scene frame 60 to 100\n</code></pre>"},{"location":"widgets/core/scene/#backgrounds","title":"Backgrounds","text":""},{"location":"widgets/core/scene/#solid-color","title":"Solid Color","text":"<pre><code>Scene(\n  background: Background.solid(Colors.indigo),\n  // ...\n)\n</code></pre>"},{"location":"widgets/core/scene/#static-gradient","title":"Static Gradient","text":"<pre><code>Scene(\n  background: Background.staticGradient(\n    colors: [Colors.purple, Colors.blue],\n    begin: Alignment.topCenter,\n    end: Alignment.bottomCenter,\n  ),\n  // ...\n)\n</code></pre>"},{"location":"widgets/core/scene/#animated-gradient","title":"Animated Gradient","text":"<p>Colors animate over time based on frame number:</p> <pre><code>Scene(\n  durationInFrames: 120,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),    // Frame 0\n      60: Color(0xFF16213e),   // Frame 60\n      120: Color(0xFF0f3460),  // Frame 120\n    },\n    begin: Alignment.topLeft,\n    end: Alignment.bottomRight,\n  ),\n  // ...\n)\n</code></pre>"},{"location":"widgets/core/scene/#custom-background","title":"Custom Background","text":"<p>Use a child widget as background:</p> <pre><code>Scene(\n  durationInFrames: 180,\n  children: [\n    // Custom background as first child\n    Positioned.fill(\n      child: CustomPainter(/* ... */),\n    ),\n\n    // Content on top\n    VCenter(child: Content()),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#transitions","title":"Transitions","text":""},{"location":"widgets/core/scene/#default-transition","title":"Default Transition","text":"<p>Set on the parent <code>Video</code>:</p> <pre><code>Video(\n  defaultTransition: const SceneTransition.crossFade(durationInFrames: 20),\n  scenes: [\n    Scene(durationInFrames: 90, /* uses default */),\n    Scene(durationInFrames: 60, /* uses default */),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#per-scene-transition","title":"Per-Scene Transition","text":"<p>Override for specific scenes:</p> <pre><code>Scene(\n  durationInFrames: 90,\n  transitionIn: const SceneTransition.slideUp(durationInFrames: 25),\n  transitionOut: const SceneTransition.crossFade(durationInFrames: 15),\n  children: [/* ... */],\n)\n</code></pre>"},{"location":"widgets/core/scene/#available-transitions","title":"Available Transitions","text":"<pre><code>SceneTransition.crossFade(durationInFrames: 20)\nSceneTransition.slideUp(durationInFrames: 20)\nSceneTransition.slideDown(durationInFrames: 20)\nSceneTransition.slideLeft(durationInFrames: 20)\nSceneTransition.slideRight(durationInFrames: 20)\nSceneTransition.zoomIn(durationInFrames: 20)\nSceneTransition.zoomOut(durationInFrames: 20)\n</code></pre>"},{"location":"widgets/core/scene/#scenecontext","title":"SceneContext","text":"<p>Access scene timing information from child widgets:</p> <pre><code>Scene(\n  durationInFrames: 120,\n  children: [\n    Builder(\n      builder: (context) {\n        final sceneContext = SceneContext.of(context);\n\n        if (sceneContext != null) {\n          print('Scene start frame: ${sceneContext.sceneStartFrame}');\n          print('Scene durationInFrames: ${sceneContext.sceneDurationInFrames}');\n          print('Scene progress: ${sceneContext.progress}');\n        }\n\n        return MyWidget();\n      },\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#scenecontext-properties","title":"SceneContext Properties","text":"Property Type Description <code>sceneStartFrame</code> <code>int</code> Global frame where scene starts <code>sceneDurationInFrames</code> <code>int</code> Scene duration in frames <code>progress</code> <code>double</code> 0.0-1.0 progress through scene"},{"location":"widgets/core/scene/#using-with-timeconsumer","title":"Using with TimeConsumer","text":"<pre><code>TimeConsumer(\n  builder: (context, globalFrame, globalProgress) {\n    final sceneContext = SceneContext.of(context);\n\n    // Get local frame within scene\n    final localFrame = sceneContext != null\n        ? globalFrame - sceneContext.sceneStartFrame\n        : globalFrame;\n\n    // Get scene-specific progress\n    final sceneProgress = sceneContext?.progress ?? globalProgress;\n\n    return AnimatedWidget(\n      localFrame: localFrame,\n      progress: sceneProgress,\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/scene/#best-practices","title":"Best Practices","text":""},{"location":"widgets/core/scene/#1-keep-scenes-focused","title":"1. Keep Scenes Focused","text":"<p>Each scene should have a clear purpose:</p> <pre><code>// Good: Each scene has one focus\nScene(durationInFrames: 90, children: [IntroTitle()]),\nScene(durationInFrames: 120, children: [MainContent()]),\nScene(durationInFrames: 60, children: [CallToAction()]),\n\n// Avoid: One giant scene with everything\nScene(durationInFrames: 500, children: [/* everything */]),\n</code></pre>"},{"location":"widgets/core/scene/#2-use-consistent-timing","title":"2. Use Consistent Timing","text":"<p>Pick a timing convention and stick to it:</p> <pre><code>// Define constants\nconst int oneSecond = 30;\nconst int halfSecond = 15;\n\nScene(\n  durationInFrames: 4 * oneSecond,\n  fadeInFrames: halfSecond,\n  fadeOutFrames: halfSecond,\n  // ...\n)\n</code></pre>"},{"location":"widgets/core/scene/#3-layer-content-properly","title":"3. Layer Content Properly","text":"<p>Order matters - later children render on top:</p> <pre><code>Scene(\n  children: [\n    // 1. Background (bottom)\n    Positioned.fill(child: Background()),\n\n    // 2. Main content\n    VCenter(child: Content()),\n\n    // 3. Effects on top\n    Positioned.fill(child: ParticleEffect()),\n\n    // 4. Overlays (top)\n    Positioned.fill(child: Vignette()),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/scene/#related","title":"Related","text":"<ul> <li>Video - Parent container</li> <li>VPositioned - Positioned content with timing</li> <li>Background - Background options</li> <li>SceneTransition - Transition types</li> </ul>"},{"location":"widgets/core/sequence/","title":"Sequence","text":"<p>Basic timing container for video content</p> <p><code>Sequence</code> is a fundamental building block that wraps content with timing information. It's used internally by many Fluvie widgets and can be used directly for precise timing control.</p>"},{"location":"widgets/core/sequence/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Specialized Sequences</li> <li>Related</li> </ul>"},{"location":"widgets/core/sequence/#overview","title":"Overview","text":"<p><code>Sequence</code> defines when content appears in the timeline:</p> <pre><code>Sequence(\n  startFrame: 30,       // Appear at frame 30\n  durationInFrames: 60, // Visible for 60 frames\n  child: MyContent(),\n)\n</code></pre>"},{"location":"widgets/core/sequence/#when-to-use","title":"When to Use","text":"<p>Use <code>Sequence</code> when: - You need precise frame-level timing - Working with <code>VideoComposition</code> directly - Building custom timing systems</p> <p>Use <code>VPositioned</code> or <code>Layer</code> instead when: - You want fade effects - Working with the <code>Video</code> widget - Need positioning as well as timing</p>"},{"location":"widgets/core/sequence/#properties","title":"Properties","text":"Property Type Default Description <code>startFrame</code> <code>int</code> <code>0</code> Frame where content becomes visible <code>durationInFrames</code> <code>int</code> required How many frames content is visible <code>child</code> <code>Widget</code> required Content to display"},{"location":"widgets/core/sequence/#examples","title":"Examples","text":""},{"location":"widgets/core/sequence/#basic-timing","title":"Basic Timing","text":"<pre><code>LayerStack(\n  children: [\n    // First element: frames 0-60\n    Sequence(\n      startFrame: 0,\n      durationInFrames: 60,\n      child: Text('First'),\n    ),\n\n    // Second element: frames 30-120\n    Sequence(\n      startFrame: 30,\n      durationInFrames: 90,\n      child: Text('Second'),\n    ),\n\n    // Third element: frames 60-150\n    Sequence(\n      startFrame: 60,\n      durationInFrames: 90,\n      child: Text('Third'),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/sequence/#visibility-timeline","title":"Visibility Timeline","text":"<pre><code>Frame:    0    30    60    90   120   150\n          |     |     |     |     |     |\nFirst:    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nSecond:         \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nThird:                \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n</code></pre>"},{"location":"widgets/core/sequence/#with-other-widgets","title":"With Other Widgets","text":"<p>Combine with other Fluvie widgets:</p> <pre><code>Sequence(\n  startFrame: 30,\n  durationInFrames: 120,\n  child: AnimatedProp(\n    animation: PropAnimation.fadeIn(),\n    duration: 30,\n    child: MyContent(),\n  ),\n)\n</code></pre>"},{"location":"widgets/core/sequence/#in-videocomposition","title":"In VideoComposition","text":"<pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 180,\n  child: Stack(\n    children: [\n      // Background always visible\n      Container(color: Colors.blue),\n\n      // Title visible frames 0-90\n      Sequence(\n        startFrame: 0,\n        durationInFrames: 90,\n        child: Center(child: Text('Title')),\n      ),\n\n      // Subtitle visible frames 60-180\n      Sequence(\n        startFrame: 60,\n        durationInFrames: 120,\n        child: Positioned(\n          bottom: 50,\n          child: Text('Subtitle'),\n        ),\n      ),\n    ],\n  ),\n)\n</code></pre>"},{"location":"widgets/core/sequence/#specialized-sequences","title":"Specialized Sequences","text":"<p>Fluvie provides specialized sequence widgets for specific content types:</p>"},{"location":"widgets/core/sequence/#videosequence","title":"VideoSequence","text":"<p>For embedding video files:</p> <pre><code>VideoSequence(\n  assetPath: 'assets/video/clip.mp4',\n  startFrame: 30,\n  durationInFrames: 150,\n  trimStartFrame: 60,  // Start from frame 60 in source video\n)\n</code></pre> <p>See VideoSequence for details.</p>"},{"location":"widgets/core/sequence/#textsequence","title":"TextSequence","text":"<p>For text with timing:</p> <pre><code>TextSequence(\n  text: 'Hello World',\n  startFrame: 0,\n  durationInFrames: 90,\n  style: TextStyle(fontSize: 48),\n)\n</code></pre>"},{"location":"widgets/core/sequence/#how-they-relate","title":"How They Relate","text":"<pre><code>Sequence (base)\n\u251c\u2500\u2500 VideoSequence (video content)\n\u2514\u2500\u2500 TextSequence (text content)\n</code></pre> <p>All specialized sequences extend the base <code>Sequence</code> behavior with type-specific features.</p>"},{"location":"widgets/core/sequence/#internal-representation","title":"Internal Representation","text":"<p>Sequences are converted to <code>SequenceConfig</code> during rendering:</p> <pre><code>// What you write\nSequence(\n  startFrame: 30,\n  durationInFrames: 60,\n  child: MyWidget(),\n)\n\n// What's stored in RenderConfig\nSequenceConfig(\n  startFrame: 30,\n  durationInFrames: 60,\n  type: SequenceType.base,\n)\n</code></pre> <p>This config is used by: - <code>RenderService</code> for frame scheduling - <code>FFmpegFilterGraphBuilder</code> for filter timing</p>"},{"location":"widgets/core/sequence/#comparison-with-other-timing-widgets","title":"Comparison with Other Timing Widgets","text":"Widget Timing Fading Positioning <code>Sequence</code> Yes No No <code>Layer</code> Yes Yes No <code>VPositioned</code> Yes Yes Yes"},{"location":"widgets/core/sequence/#when-to-use-each","title":"When to Use Each","text":"<pre><code>// Just timing\nSequence(\n  startFrame: 30,\n  durationInFrames: 60,\n  child: Content(),\n)\n\n// Timing + fading\nLayer(\n  startFrame: 30,\n  endFrame: 90,\n  fadeInFrames: 15,\n  fadeOutFrames: 15,\n  child: Content(),\n)\n\n// Timing + fading + positioning\nVPositioned(\n  left: 100,\n  top: 200,\n  startFrame: 30,\n  endFrame: 90,\n  fadeInFrames: 15,\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/core/sequence/#related","title":"Related","text":"<ul> <li>Layer - Sequence with fading</li> <li>VPositioned - Sequence with positioning</li> <li>VideoSequence - Video content</li> <li>TimeConsumer - Frame-based animation</li> </ul>"},{"location":"widgets/core/time-consumer/","title":"TimeConsumer","text":"<p>The fundamental frame-based animation driver</p> <p><code>TimeConsumer</code> is the core widget for creating frame-based animations in Fluvie. It rebuilds on every frame, providing the current frame number and progress value to its builder function.</p>"},{"location":"widgets/core/time-consumer/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Frame vs Progress</li> <li>Scene-Relative Frames</li> <li>Performance Tips</li> <li>Related</li> </ul>"},{"location":"widgets/core/time-consumer/#overview","title":"Overview","text":"<p><code>TimeConsumer</code> listens to frame changes and rebuilds its child with updated timing information. This is how you create custom animations that respond to the video timeline.</p> <pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // frame: current frame number (0, 1, 2, ...)\n    // progress: 0.0 at start, 1.0 at end\n\n    return Opacity(\n      opacity: progress,\n      child: Text('Frame: $frame'),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#when-to-use","title":"When to Use","text":"<p>Use <code>TimeConsumer</code> when: - Creating custom animations not covered by <code>AnimatedProp</code> - Needing direct access to frame numbers - Building complex, multi-property animations - Creating procedural effects</p> <p>Use <code>AnimatedProp</code> or <code>AnimatedText</code> instead when: - Using standard animation patterns (fade, slide, scale) - Simpler code is preferred</p>"},{"location":"widgets/core/time-consumer/#properties","title":"Properties","text":"Property Type Default Description <code>builder</code> <code>Widget Function(BuildContext, int frame, double progress)</code> required Builder function called every frame"},{"location":"widgets/core/time-consumer/#builder-parameters","title":"Builder Parameters","text":"Parameter Type Description <code>context</code> <code>BuildContext</code> Standard Flutter context <code>frame</code> <code>int</code> Current absolute frame number <code>progress</code> <code>double</code> 0.0-1.0 progress through composition"},{"location":"widgets/core/time-consumer/#examples","title":"Examples","text":""},{"location":"widgets/core/time-consumer/#basic-fade-animation","title":"Basic Fade Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    return Opacity(\n      opacity: progress, // Fades in as video progresses\n      child: Text('Fading in...'),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#color-animation","title":"Color Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    final color = Color.lerp(\n      Colors.blue,\n      Colors.red,\n      progress,\n    )!;\n\n    return Container(\n      color: color,\n      child: Center(child: Text('Color shift')),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#position-animation","title":"Position Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // Move from left to right\n    final x = 100 + (progress * 500);\n\n    return Positioned(\n      left: x,\n      top: 100,\n      child: CircleWidget(),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#complex-multi-property-animation","title":"Complex Multi-Property Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, progress) {\n    // Eased progress\n    final easedProgress = Curves.easeOutCubic.transform(progress);\n\n    // Multiple animated properties\n    final opacity = easedProgress;\n    final scale = 0.5 + (0.5 * easedProgress);\n    final translateY = 50 * (1 - easedProgress);\n\n    return Transform.translate(\n      offset: Offset(0, translateY),\n      child: Transform.scale(\n        scale: scale,\n        child: Opacity(\n          opacity: opacity,\n          child: MyWidget(),\n        ),\n      ),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#frame-based-logic","title":"Frame-Based Logic","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    // Different content at different frames\n    if (frame &lt; 30) {\n      return Text('Loading...');\n    } else if (frame &lt; 90) {\n      return Text('Content');\n    } else {\n      return Text('Finished');\n    }\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#looping-animation","title":"Looping Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    // 60-frame loop (2 seconds at 30fps)\n    final loopFrame = frame % 60;\n    final loopProgress = loopFrame / 60;\n\n    // Oscillate: 0 \u2192 1 \u2192 0\n    final oscillation = sin(loopProgress * 2 * pi);\n\n    return Transform.translate(\n      offset: Offset(0, oscillation * 20),\n      child: BouncingWidget(),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#frame-vs-progress","title":"Frame vs Progress","text":""},{"location":"widgets/core/time-consumer/#frame-number","title":"Frame Number","text":"<p>The <code>frame</code> parameter is the absolute frame number from the start of the composition:</p> <pre><code>// At 30fps:\n// frame 0 = 0.0 seconds\n// frame 30 = 1.0 seconds\n// frame 90 = 3.0 seconds\n\nTimeConsumer(\n  builder: (context, frame, _) {\n    final seconds = frame / 30;\n    return Text('Time: ${seconds.toStringAsFixed(1)}s');\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#progress-value","title":"Progress Value","text":"<p>The <code>progress</code> parameter is normalized 0.0-1.0 through the entire composition:</p> <pre><code>// progress 0.0 = start of video\n// progress 0.5 = middle of video\n// progress 1.0 = end of video\n\nTimeConsumer(\n  builder: (context, _, progress) {\n    final percentage = (progress * 100).round();\n    return Text('Progress: $percentage%');\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#scene-relative-frames","title":"Scene-Relative Frames","text":"<p>When inside a <code>Scene</code>, you often want frame numbers relative to the scene start:</p> <pre><code>Scene(\n  durationInFrames: 120,\n  children: [\n    TimeConsumer(\n      builder: (context, globalFrame, _) {\n        // Get scene context\n        final sceneContext = SceneContext.of(context);\n\n        // Calculate local frame (0 to 119 within this scene)\n        final localFrame = sceneContext != null\n            ? globalFrame - sceneContext.sceneStartFrame\n            : globalFrame;\n\n        // Get scene progress (0.0 to 1.0 within this scene)\n        final sceneProgress = sceneContext?.progress ?? 0.0;\n\n        return AnimatedWidget(\n          localFrame: localFrame,\n          progress: sceneProgress,\n        );\n      },\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#helper-for-local-frames","title":"Helper for Local Frames","text":"<p>Create a helper widget for common patterns:</p> <pre><code>class SceneTimeConsumer extends StatelessWidget {\n  final Widget Function(BuildContext, int localFrame, double sceneProgress) builder;\n\n  const SceneTimeConsumer({required this.builder});\n\n  @override\n  Widget build(BuildContext context) {\n    return TimeConsumer(\n      builder: (context, globalFrame, _) {\n        final sceneContext = SceneContext.of(context);\n        final localFrame = sceneContext != null\n            ? globalFrame - sceneContext.sceneStartFrame\n            : globalFrame;\n        final sceneProgress = sceneContext?.progress ?? 0.0;\n\n        return builder(context, localFrame, sceneProgress);\n      },\n    );\n  }\n}\n\n// Usage\nSceneTimeConsumer(\n  builder: (context, localFrame, progress) {\n    // localFrame is now 0 to sceneLength-1\n    return MyAnimatedWidget(frame: localFrame);\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#animation-patterns","title":"Animation Patterns","text":""},{"location":"widgets/core/time-consumer/#delayed-start","title":"Delayed Start","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    final sceneContext = SceneContext.of(context);\n    final localFrame = frame - (sceneContext?.sceneStartFrame ?? 0);\n\n    // Start at frame 30, animate for 45 frames\n    const startFrame = 30;\n    const duration = 45;\n\n    final progress = ((localFrame - startFrame) / duration).clamp(0.0, 1.0);\n    final easedProgress = Curves.easeOutCubic.transform(progress);\n\n    return Opacity(\n      opacity: easedProgress,\n      child: Content(),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#multiple-phases","title":"Multiple Phases","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    final sceneContext = SceneContext.of(context);\n    final localFrame = frame - (sceneContext?.sceneStartFrame ?? 0);\n\n    // Phase 1: Frames 0-30 - Fade in\n    // Phase 2: Frames 30-90 - Visible\n    // Phase 3: Frames 90-120 - Fade out\n\n    double opacity;\n    if (localFrame &lt; 30) {\n      opacity = localFrame / 30;\n    } else if (localFrame &lt; 90) {\n      opacity = 1.0;\n    } else {\n      opacity = 1.0 - ((localFrame - 90) / 30);\n    }\n\n    return Opacity(\n      opacity: opacity.clamp(0.0, 1.0),\n      child: Content(),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#keyframe-animation","title":"Keyframe Animation","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    final sceneContext = SceneContext.of(context);\n    final localFrame = frame - (sceneContext?.sceneStartFrame ?? 0);\n\n    // Use interpolate for keyframes\n    final scale = interpolate(\n      localFrame.toDouble(),\n      inputRange: [0, 15, 25, 30],\n      outputRange: [1.0, 1.3, 0.9, 1.0],\n      curve: Curves.easeInOut,\n    );\n\n    return Transform.scale(\n      scale: scale,\n      child: Content(),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#performance-tips","title":"Performance Tips","text":""},{"location":"widgets/core/time-consumer/#1-minimize-rebuilds","title":"1. Minimize Rebuilds","text":"<p>Only rebuild what changes:</p> <pre><code>// Bad: Rebuilds entire complex widget tree every frame\nTimeConsumer(\n  builder: (context, frame, progress) {\n    return ComplexWidget(\n      opacity: progress, // Only this changes\n      child: VeryExpensiveWidget(), // This doesn't change\n    );\n  },\n)\n\n// Good: Only rebuild the changing part\nStack(\n  children: [\n    const VeryExpensiveWidget(), // Never rebuilds\n    TimeConsumer(\n      builder: (context, frame, progress) {\n        return Opacity(\n          opacity: progress,\n          child: const SizedBox(), // Minimal widget\n        );\n      },\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#2-cache-expensive-calculations","title":"2. Cache Expensive Calculations","text":"<pre><code>TimeConsumer(\n  builder: (context, frame, _) {\n    // Bad: Recalculates every frame\n    final expensiveValue = calculateExpensiveThing();\n\n    // Good: Only calculate when frame changes significantly\n    final keyFrame = frame ~/ 10; // Only recalc every 10 frames\n\n    return CachedBuilder(\n      key: keyFrame,\n      builder: () =&gt; calculateExpensiveThing(),\n    );\n  },\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#3-use-animatedprop-for-simple-animations","title":"3. Use AnimatedProp for Simple Animations","text":"<pre><code>// Instead of this:\nTimeConsumer(\n  builder: (context, frame, _) {\n    final progress = ((frame - 30) / 45).clamp(0.0, 1.0);\n    return Opacity(\n      opacity: progress,\n      child: Text('Hello'),\n    );\n  },\n)\n\n// Use this:\nAnimatedProp(\n  startFrame: 30,\n  duration: 45,\n  animation: PropAnimation.fadeIn(),\n  child: Text('Hello'),\n)\n</code></pre>"},{"location":"widgets/core/time-consumer/#related","title":"Related","text":"<ul> <li>AnimatedProp - Pre-built animations</li> <li>AnimatedText - Text-specific animations</li> <li>interpolate - Keyframe interpolation</li> <li>Frame-Based Animation - Concepts</li> </ul>"},{"location":"widgets/core/video-composition/","title":"VideoComposition","text":"<p>Low-level composition root for full control</p> <p><code>VideoComposition</code> is the foundation widget that powers Fluvie's video rendering. It provides direct access to the frame-based rendering system without the scene abstraction.</p>"},{"location":"widgets/core/video-composition/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>When to Use</li> <li>Comparison with Video</li> <li>Related</li> </ul>"},{"location":"widgets/core/video-composition/#overview","title":"Overview","text":"<p><code>VideoComposition</code> is the low-level API for creating video compositions. Unlike <code>Video</code>, it doesn't provide scene management or transitions - you have full control over timing and structure.</p> <pre><code>import 'package:fluvie/fluvie.dart';\n\nVideoComposition(\n  fps: 30,\n  durationInFrames: 150,\n  width: 1920,\n  height: 1080,\n  child: TimeConsumer(\n    builder: (context, frame, progress) {\n      return MyAnimatedContent(progress: progress);\n    },\n  ),\n)\n</code></pre>"},{"location":"widgets/core/video-composition/#key-differences-from-video","title":"Key Differences from Video","text":"Aspect VideoComposition Video Scene management Manual Automatic Transitions Manual Built-in Background music Manual AudioTrack Simple properties API style Imperative Declarative Use case Custom pipelines Most videos"},{"location":"widgets/core/video-composition/#properties","title":"Properties","text":"Property Type Default Description <code>fps</code> <code>int</code> required Frames per second <code>durationInFrames</code> <code>int</code> required Total duration in frames <code>width</code> <code>int</code> <code>1920</code> Output width in pixels <code>height</code> <code>int</code> <code>1080</code> Output height in pixels <code>child</code> <code>Widget</code> required Content widget <code>encoding</code> <code>EncodingConfig?</code> <code>null</code> Quality and format settings"},{"location":"widgets/core/video-composition/#examples","title":"Examples","text":""},{"location":"widgets/core/video-composition/#basic-composition","title":"Basic Composition","text":"<pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 90, // 3 seconds\n  width: 1920,\n  height: 1080,\n  child: Container(\n    color: Colors.blue,\n    child: Center(\n      child: Text(\n        'Hello, World!',\n        style: TextStyle(fontSize: 72, color: Colors.white),\n      ),\n    ),\n  ),\n)\n</code></pre>"},{"location":"widgets/core/video-composition/#with-frame-based-animation","title":"With Frame-Based Animation","text":"<pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 150,\n  width: 1920,\n  height: 1080,\n  child: TimeConsumer(\n    builder: (context, frame, progress) {\n      // Animate color from blue to purple\n      final color = Color.lerp(\n        Colors.blue,\n        Colors.purple,\n        progress,\n      )!;\n\n      // Animate text opacity\n      final textOpacity = Curves.easeOut.transform(\n        (progress * 2).clamp(0.0, 1.0),\n      );\n\n      return Container(\n        color: color,\n        child: Center(\n          child: Opacity(\n            opacity: textOpacity,\n            child: Text(\n              'Frame: $frame',\n              style: TextStyle(fontSize: 48, color: Colors.white),\n            ),\n          ),\n        ),\n      );\n    },\n  ),\n)\n</code></pre>"},{"location":"widgets/core/video-composition/#manual-layering","title":"Manual Layering","text":"<pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 300,\n  width: 1920,\n  height: 1080,\n  child: LayerStack(\n    children: [\n      // Background layer\n      Layer.background(\n        child: GradientBackground(),\n      ),\n\n      // Content layer with timing\n      Layer(\n        startFrame: 30,\n        endFrame: 270,\n        fadeInFrames: 15,\n        fadeOutFrames: 15,\n        child: MainContent(),\n      ),\n\n      // Overlay layer\n      Layer.overlay(\n        child: ParticleEffect.sparkles(),\n      ),\n    ],\n  ),\n)\n</code></pre>"},{"location":"widgets/core/video-composition/#with-audio","title":"With Audio","text":"<pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 300,\n  width: 1920,\n  height: 1080,\n  child: BackgroundAudio(\n    source: AudioSource.asset('assets/audio/music.mp3'),\n    volume: 0.7,\n    fadeInFrames: 30,\n    fadeOutFrames: 60,\n    child: LayerStack(\n      children: [\n        // Video content\n        Layer(child: Content()),\n\n        // Sound effect at specific frame\n        AudioTrack(\n          source: AudioSource.asset('assets/audio/whoosh.mp3'),\n          startFrame: 60,\n          durationInFrames: 30,\n          volume: 0.5,\n          child: const SizedBox.shrink(),\n        ),\n      ],\n    ),\n  ),\n)\n</code></pre>"},{"location":"widgets/core/video-composition/#with-encoding-settings","title":"With Encoding Settings","text":"<pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 300,\n  width: 1920,\n  height: 1080,\n  encoding: const EncodingConfig(\n    quality: RenderQuality.high,\n    frameFormat: FrameFormat.rawRgba,\n    debugFrameOutputPath: 'tmp/debug_frames',\n    keepDebugFrames: false,\n  ),\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/core/video-composition/#when-to-use","title":"When to Use","text":""},{"location":"widgets/core/video-composition/#use-videocomposition-when","title":"Use VideoComposition When:","text":"<ol> <li> <p>Building custom render pipelines <pre><code>// Custom frame processing\nVideoComposition(\n  child: MyCustomFrameProcessor(),\n)\n</code></pre></p> </li> <li> <p>Integrating with existing state management <pre><code>// Using your own state\nVideoComposition(\n  child: Consumer&lt;MyState&gt;(\n    builder: (context, state, _) =&gt; AnimatedContent(state: state),\n  ),\n)\n</code></pre></p> </li> <li> <p>Creating reusable animation components <pre><code>// Standalone animation widget\nclass MyReusableAnimation extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return VideoComposition(\n      fps: 30,\n      durationInFrames: 60,\n      width: 400,\n      height: 400,\n      child: MyAnimation(),\n    );\n  }\n}\n</code></pre></p> </li> <li> <p>Testing or prototyping frame-based logic <pre><code>// Quick frame test\nVideoComposition(\n  fps: 30,\n  durationInFrames: 30,\n  child: TimeConsumer(\n    builder: (_, frame, _) =&gt; Text('Frame: $frame'),\n  ),\n)\n</code></pre></p> </li> </ol>"},{"location":"widgets/core/video-composition/#use-video-instead-when","title":"Use Video Instead When:","text":"<ul> <li>Building scene-based videos</li> <li>Want automatic transitions</li> <li>Need simple background music</li> <li>Prefer declarative API</li> </ul>"},{"location":"widgets/core/video-composition/#comparison-with-video","title":"Comparison with Video","text":""},{"location":"widgets/core/video-composition/#equivalent-code","title":"Equivalent Code","text":"<p>Using Video: <pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 90,\n      background: Background.solid(Colors.blue),\n      children: [\n        VCenter(child: Text('Hello')),\n      ],\n    ),\n  ],\n)\n</code></pre></p> <p>Using VideoComposition: <pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 90,\n  width: 1920,\n  height: 1080,\n  child: Stack(\n    children: [\n      Container(color: Colors.blue),\n      Center(child: Text('Hello')),\n    ],\n  ),\n)\n</code></pre></p>"},{"location":"widgets/core/video-composition/#converting-between-apis","title":"Converting Between APIs","text":"<pre><code>// Video internally creates a VideoComposition\n// You can think of Video as syntactic sugar for:\n\nVideoComposition(\n  fps: video.fps,\n  durationInFrames: _calculateTotalDuration(video.scenes),\n  width: video.width,\n  height: video.height,\n  child: _buildSceneStack(video.scenes, video.defaultTransition),\n)\n</code></pre>"},{"location":"widgets/core/video-composition/#working-with-renderservice","title":"Working with RenderService","text":"<p>VideoComposition works directly with <code>RenderService</code>:</p> <pre><code>testWidgets('Render video', (tester) async {\n  await tester.pumpWidget(\n    MaterialApp(\n      home: Scaffold(\n        body: VideoComposition(\n          fps: 30,\n          durationInFrames: 90,\n          width: 1920,\n          height: 1080,\n          child: MyContent(),\n        ),\n      ),\n    ),\n  );\n\n  final context = tester.element(find.byType(VideoComposition));\n  final renderService = RenderService();\n\n  // Create config from widget tree\n  final config = renderService.createConfigFromContext(context);\n\n  // Execute render\n  await renderService.execute(\n    context: context,\n    outputPath: 'output/video.mp4',\n    onFrameUpdate: (frame) async {\n      await tester.pump();\n    },\n  );\n});\n</code></pre>"},{"location":"widgets/core/video-composition/#accessing-composition-data","title":"Accessing Composition Data","text":""},{"location":"widgets/core/video-composition/#videocompositiondata","title":"VideoCompositionData","text":"<p>Child widgets can access composition settings:</p> <pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 90,\n  width: 1920,\n  height: 1080,\n  child: Builder(\n    builder: (context) {\n      final data = VideoCompositionData.of(context);\n\n      if (data != null) {\n        print('FPS: ${data.fps}');\n        print('Duration: ${data.durationInFrames}');\n        print('Size: ${data.width}x${data.height}');\n      }\n\n      return Content();\n    },\n  ),\n)\n</code></pre>"},{"location":"widgets/core/video-composition/#frameprovider","title":"FrameProvider","text":"<p>Access current frame from anywhere in the tree:</p> <pre><code>Builder(\n  builder: (context) {\n    final frameProvider = FrameProvider.of(context);\n    final currentFrame = frameProvider?.frame ?? 0;\n\n    return Text('Frame: $currentFrame');\n  },\n)\n</code></pre>"},{"location":"widgets/core/video-composition/#related","title":"Related","text":"<ul> <li>Video - High-level declarative API</li> <li>TimeConsumer - Frame-based animation</li> <li>LayerStack - Layer composition</li> <li>RenderService - Rendering</li> </ul>"},{"location":"widgets/core/video/","title":"Video","text":"<p>High-level scene-based video composition</p> <p>The <code>Video</code> widget is the recommended entry point for creating Fluvie videos. It provides a declarative, scene-based API that handles timing, transitions, and audio automatically.</p>"},{"location":"widgets/core/video/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Scene Management</li> <li>Audio</li> <li>Related</li> </ul>"},{"location":"widgets/core/video/#overview","title":"Overview","text":"<p><code>Video</code> is the root widget of the declarative API. It manages:</p> <ul> <li>Scenes - Time-bounded sections of your video</li> <li>Transitions - Effects between scenes</li> <li>Background music - Audio that spans the entire video</li> <li>Encoding settings - Output quality and format</li> </ul> <pre><code>import 'package:fluvie/declarative.dart';\n\nVideo(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(durationInFrames: 90, children: [...]),\n    Scene(durationInFrames: 60, children: [...]),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/video/#when-to-use","title":"When to Use","text":"<p>Use <code>Video</code> when: - Building scene-based compositions - Using the declarative API - Creating Spotify Wrapped-style videos - Prototyping quickly</p> <p>Use <code>VideoComposition</code> instead when: - You need low-level frame control - Building custom render pipelines - Integrating with existing state management</p>"},{"location":"widgets/core/video/#properties","title":"Properties","text":"Property Type Default Description <code>fps</code> <code>int</code> required Frames per second <code>width</code> <code>int</code> required Output width in pixels <code>height</code> <code>int</code> required Output height in pixels <code>scenes</code> <code>List&lt;Scene&gt;</code> required List of scenes in order <code>encoding</code> <code>EncodingConfig?</code> <code>null</code> Quality and format settings <code>defaultTransition</code> <code>SceneTransition?</code> <code>null</code> Transition between all scenes <code>backgroundMusicAsset</code> <code>String?</code> <code>null</code> Asset path for background music <code>backgroundMusicFile</code> <code>String?</code> <code>null</code> File path for background music <code>backgroundMusicUrl</code> <code>String?</code> <code>null</code> URL for background music <code>musicVolume</code> <code>double</code> <code>1.0</code> Background music volume (0.0-1.0) <code>musicFadeInFrames</code> <code>int</code> <code>0</code> Frames to fade in music <code>musicFadeOutFrames</code> <code>int</code> <code>0</code> Frames to fade out music <code>controller</code> <code>RenderController?</code> <code>null</code> Controller for playback control"},{"location":"widgets/core/video/#examples","title":"Examples","text":""},{"location":"widgets/core/video/#basic-video","title":"Basic Video","text":"<pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  scenes: [\n    Scene(\n      durationInFrames: 90, // 3 seconds\n      background: Background.solid(Colors.blue),\n      children: [\n        VCenter(\n          child: Text('Hello, World!'),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/video/#multiple-scenes-with-transitions","title":"Multiple Scenes with Transitions","text":"<pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  defaultTransition: const SceneTransition.crossFade(durationInFrames: 15),\n  scenes: [\n    Scene(\n      durationInFrames: 90,\n      background: Background.solid(Colors.purple),\n      children: [\n        VCenter(child: Text('Scene 1')),\n      ],\n    ),\n    Scene(\n      durationInFrames: 60,\n      background: Background.solid(Colors.blue),\n      children: [\n        VCenter(child: Text('Scene 2')),\n      ],\n    ),\n    Scene(\n      durationInFrames: 90,\n      background: Background.solid(Colors.teal),\n      children: [\n        VCenter(child: Text('Scene 3')),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/video/#with-background-music","title":"With Background Music","text":"<pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  backgroundMusicAsset: 'assets/audio/music.mp3',\n  musicVolume: 0.7,\n  musicFadeInFrames: 60,   // 2 second fade in\n  musicFadeOutFrames: 90,  // 3 second fade out\n  scenes: [\n    Scene(durationInFrames: 300, children: [...]),\n    Scene(durationInFrames: 300, children: [...]),\n  ],\n)\n</code></pre>"},{"location":"widgets/core/video/#with-encoding-settings","title":"With Encoding Settings","text":"<pre><code>Video(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  encoding: const EncodingConfig(\n    quality: RenderQuality.high,\n    frameFormat: FrameFormat.rawRgba,\n    debugFrameOutputPath: 'tmp/debug_frames',\n  ),\n  scenes: [...],\n)\n</code></pre>"},{"location":"widgets/core/video/#different-aspect-ratios","title":"Different Aspect Ratios","text":"<pre><code>// Vertical (9:16) - TikTok/Stories\nVideo(\n  fps: 30,\n  width: 1080,\n  height: 1920,\n  scenes: [...],\n)\n\n// Square (1:1) - Instagram\nVideo(\n  fps: 30,\n  width: 1080,\n  height: 1080,\n  scenes: [...],\n)\n\n// Widescreen (21:9) - Cinematic\nVideo(\n  fps: 24,  // Film frame rate\n  width: 2560,\n  height: 1080,\n  scenes: [...],\n)\n</code></pre>"},{"location":"widgets/core/video/#scene-management","title":"Scene Management","text":""},{"location":"widgets/core/video/#total-duration","title":"Total Duration","text":"<p>The total video duration is the sum of all scene lengths:</p> <pre><code>Video(\n  fps: 30,\n  scenes: [\n    Scene(durationInFrames: 90),  // 3 seconds\n    Scene(durationInFrames: 60),  // 2 seconds\n    Scene(durationInFrames: 150), // 5 seconds\n  ],\n)\n// Total: 300 frames = 10 seconds\n</code></pre>"},{"location":"widgets/core/video/#scene-transitions","title":"Scene Transitions","text":"<p>Transitions overlap scenes. The transition duration comes from the end of the previous scene:</p> <pre><code>Video(\n  fps: 30,\n  defaultTransition: const SceneTransition.crossFade(durationInFrames: 30),\n  scenes: [\n    Scene(durationInFrames: 90),  // Frames 0-89\n    Scene(durationInFrames: 60),  // Starts at frame 60 (30 frame transition)\n    Scene(durationInFrames: 90),  // Starts at frame 90 (30 frame transition)\n  ],\n)\n</code></pre>"},{"location":"widgets/core/video/#per-scene-transitions","title":"Per-Scene Transitions","text":"<p>Override the default for specific scenes:</p> <pre><code>Scene(\n  durationInFrames: 90,\n  transitionIn: const SceneTransition.slideUp(durationInFrames: 20),\n  transitionOut: const SceneTransition.crossFade(durationInFrames: 15),\n  children: [...],\n)\n</code></pre>"},{"location":"widgets/core/video/#audio","title":"Audio","text":""},{"location":"widgets/core/video/#background-music-options","title":"Background Music Options","text":"<p>Three ways to provide background music:</p> <pre><code>// From Flutter assets\nVideo(\n  backgroundMusicAsset: 'assets/audio/music.mp3',\n  ...\n)\n\n// From file system\nVideo(\n  backgroundMusicFile: '/path/to/music.mp3',\n  ...\n)\n\n// From URL\nVideo(\n  backgroundMusicUrl: 'https://example.com/music.mp3',\n  ...\n)\n</code></pre>"},{"location":"widgets/core/video/#audio-fading","title":"Audio Fading","text":"<pre><code>Video(\n  backgroundMusicAsset: 'assets/audio/music.mp3',\n  musicVolume: 0.8,\n  musicFadeInFrames: 60,   // Fade in over first 2 seconds\n  musicFadeOutFrames: 90,  // Fade out over last 3 seconds\n  ...\n)\n</code></pre>"},{"location":"widgets/core/video/#additional-audio-tracks","title":"Additional Audio Tracks","text":"<p>Use <code>AudioTrack</code> within scenes for additional audio:</p> <pre><code>Scene(\n  durationInFrames: 300,\n  children: [\n    AudioTrack(\n      source: AudioSource.asset('assets/audio/effect.mp3'),\n      startFrame: 60,\n      durationInFrames: 30,\n      volume: 0.5,\n      child: const SizedBox.shrink(),\n    ),\n    // Other content...\n  ],\n)\n</code></pre>"},{"location":"widgets/core/video/#playback-control","title":"Playback Control","text":""},{"location":"widgets/core/video/#using-rendercontroller","title":"Using RenderController","text":"<pre><code>class MyVideoPlayer extends StatefulWidget {\n  @override\n  State&lt;MyVideoPlayer&gt; createState() =&gt; _MyVideoPlayerState();\n}\n\nclass _MyVideoPlayerState extends State&lt;MyVideoPlayer&gt; {\n  final _controller = RenderController();\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        Expanded(\n          child: Video(\n            controller: _controller,\n            fps: 30,\n            width: 1920,\n            height: 1080,\n            scenes: [...],\n          ),\n        ),\n        Row(\n          children: [\n            IconButton(\n              icon: Icon(Icons.play_arrow),\n              onPressed: () =&gt; _controller.play(),\n            ),\n            IconButton(\n              icon: Icon(Icons.pause),\n              onPressed: () =&gt; _controller.pause(),\n            ),\n            Slider(\n              value: _controller.currentFrame.toDouble(),\n              max: _controller.totalFrames.toDouble(),\n              onChanged: (value) =&gt; _controller.seekTo(value.toInt()),\n            ),\n          ],\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"widgets/core/video/#related","title":"Related","text":"<ul> <li>VideoComposition - Low-level composition</li> <li>Scene - Scene widget reference</li> <li>SceneTransition - Transition types</li> <li>EncodingConfig - Export settings</li> <li>BackgroundAudio - Alternative audio approach</li> </ul>"},{"location":"widgets/layout/","title":"Layout Widgets","text":"<p>Layout widgets in Fluvie extend Flutter's standard layout widgets with video-specific capabilities like time-based visibility, fade transitions, and staggered animations.</p>"},{"location":"widgets/layout/#overview","title":"Overview","text":"<p>All V-prefixed layout widgets share these video timing properties:</p> Property Type Default Description <code>startFrame</code> <code>int?</code> <code>null</code> Frame to become visible <code>endFrame</code> <code>int?</code> <code>null</code> Frame to become invisible <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade-in duration in frames <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade-out duration in frames <code>fadeInCurve</code> <code>Curve</code> <code>easeOut</code> Fade-in easing <code>fadeOutCurve</code> <code>Curve</code> <code>easeIn</code> Fade-out easing"},{"location":"widgets/layout/#widget-reference","title":"Widget Reference","text":""},{"location":"widgets/layout/#composition-widgets","title":"Composition Widgets","text":"Widget Description Use Case LayerStack Video composition stack Layering content with z-index control Layer Single layer with timing Time-controlled content with blend modes"},{"location":"widgets/layout/#standard-layout-widgets","title":"Standard Layout Widgets","text":"Widget Description Flutter Equivalent VStack Stack with timing <code>Stack</code> VColumn Column with stagger support <code>Column</code> VRow Row with stagger support <code>Row</code> VCenter Center with timing <code>Center</code> VPadding Padding with timing <code>Padding</code> VSizedBox SizedBox with timing <code>SizedBox</code> VPositioned Positioned with hero support <code>Positioned</code>"},{"location":"widgets/layout/#quick-comparison","title":"Quick Comparison","text":""},{"location":"widgets/layout/#when-to-use-each-widget","title":"When to Use Each Widget","text":"<pre><code>// LayerStack: For complex compositions with z-ordering\nLayerStack(\n  children: [\n    Layer.background(child: Background()),\n    Layer(startFrame: 30, child: Content()),\n    Layer.overlay(child: Effects()),\n  ],\n)\n\n// VStack: For stacking with shared timing\nVStack(\n  startFrame: 30,\n  fadeInFrames: 15,\n  children: [Background(), Content()],\n)\n\n// VColumn: For vertical layout with stagger\nVColumn(\n  stagger: StaggerConfig.slideUp(delay: 10),\n  children: [Text('A'), Text('B'), Text('C')],\n)\n\n// VRow: For horizontal layout with stagger\nVRow(\n  stagger: StaggerConfig.fade(delay: 8),\n  children: [Icon1(), Icon2(), Icon3()],\n)\n\n// VCenter: For centered content with timing\nVCenter(\n  startFrame: 0,\n  fadeInFrames: 20,\n  child: Title(),\n)\n\n// VPositioned: For absolute positioning\nVPositioned(\n  left: 50,\n  bottom: 100,\n  startFrame: 30,\n  child: Caption(),\n)\n</code></pre>"},{"location":"widgets/layout/#stagger-animations","title":"Stagger Animations","text":"<p><code>VColumn</code> and <code>VRow</code> support staggered animations where children animate in sequence:</p> <pre><code>VColumn(\n  stagger: StaggerConfig.slideUp(delay: 15),\n  children: [\n    Text('First'),   // Starts at frame 0\n    Text('Second'),  // Starts at frame 15\n    Text('Third'),   // Starts at frame 30\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/#available-stagger-presets","title":"Available Stagger Presets","text":"Constructor Effect <code>StaggerConfig.fade()</code> Fade in only <code>StaggerConfig.slideUp()</code> Slide up + fade <code>StaggerConfig.slideDown()</code> Slide down + fade <code>StaggerConfig.slideLeft()</code> Slide left + fade <code>StaggerConfig.slideRight()</code> Slide right + fade <code>StaggerConfig.scale()</code> Scale in + fade <code>StaggerConfig.slideUpScale()</code> Slide + scale + fade <p>See StaggerConfig for details.</p>"},{"location":"widgets/layout/#common-patterns","title":"Common Patterns","text":""},{"location":"widgets/layout/#title-with-timed-subtitle","title":"Title with Timed Subtitle","text":"<pre><code>VCenter(\n  child: VColumn(\n    spacing: 20,\n    children: [\n      VCenter(\n        startFrame: 0,\n        fadeInFrames: 20,\n        child: Text('Title'),\n      ),\n      VCenter(\n        startFrame: 30,\n        fadeInFrames: 20,\n        child: Text('Subtitle'),\n      ),\n    ],\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/#layered-scene","title":"Layered Scene","text":"<pre><code>LayerStack(\n  children: [\n    Layer.background(\n      fadeInFrames: 30,\n      child: GradientBackground(),\n    ),\n    Layer(\n      startFrame: 30,\n      endFrame: 150,\n      fadeInFrames: 20,\n      fadeOutFrames: 20,\n      child: VCenter(child: MainContent()),\n    ),\n    Layer.overlay(\n      child: ParticleEffect.sparkles(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/#stats-row-at-bottom","title":"Stats Row at Bottom","text":"<pre><code>VPositioned(\n  left: 50,\n  right: 50,\n  bottom: 100,\n  startFrame: 45,\n  fadeInFrames: 20,\n  child: VRow(\n    mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n    stagger: StaggerConfig.slideUp(delay: 12),\n    children: [\n      StatWidget(value: '100', label: 'Songs'),\n      StatWidget(value: '25', label: 'Artists'),\n      StatWidget(value: '10', label: 'Hours'),\n    ],\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/#related","title":"Related","text":"<ul> <li>Animations - Animation system</li> <li>StaggerConfig - Stagger configuration</li> <li>TimeConsumer - Frame-based animation</li> </ul>"},{"location":"widgets/layout/layer-stack/","title":"LayerStack","text":"<p>Video composition stack with layer management</p> <p><code>LayerStack</code> is a specialized Stack widget designed for video compositions. It provides automatic z-index sorting, support for timed layers, and convenient constructors for backgrounds and overlays.</p>"},{"location":"widgets/layout/layer-stack/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Z-Index Sorting</li> <li>Related</li> </ul>"},{"location":"widgets/layout/layer-stack/#overview","title":"Overview","text":"<p><code>LayerStack</code> works just like Flutter's <code>Stack</code>, but with video-specific enhancements:</p> <pre><code>LayerStack(\n  children: [\n    Layer.background(\n      child: GradientBackground(),\n    ),\n    Layer(\n      id: 'title',\n      startFrame: 30,\n      endFrame: 120,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      child: TitleWidget(),\n    ),\n    Layer.overlay(\n      child: Watermark(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/layer-stack/#key-features","title":"Key Features","text":"<ul> <li>Mixed children - Use <code>Layer</code> widgets or regular widgets together</li> <li>Automatic z-index sorting - Layers with <code>zIndex</code> are automatically sorted</li> <li>Time-based visibility - Layers can appear/disappear based on frame number</li> <li>Background/overlay helpers - Convenient constructors for common patterns</li> </ul>"},{"location":"widgets/layout/layer-stack/#properties","title":"Properties","text":"Property Type Default Description <code>children</code> <code>List&lt;Widget&gt;</code> required The layers in this stack <code>alignment</code> <code>AlignmentGeometry</code> <code>topStart</code> Alignment for non-positioned children <code>fit</code> <code>StackFit</code> <code>loose</code> How to size non-positioned children <code>textDirection</code> <code>TextDirection?</code> <code>null</code> Text direction for alignment <code>clipBehavior</code> <code>Clip</code> <code>hardEdge</code> Clip behavior for the stack"},{"location":"widgets/layout/layer-stack/#examples","title":"Examples","text":""},{"location":"widgets/layout/layer-stack/#basic-layer-stack","title":"Basic Layer Stack","text":"<pre><code>LayerStack(\n  children: [\n    // Background layer (always behind)\n    Layer.background(\n      child: Container(color: Colors.blue),\n    ),\n\n    // Main content\n    Layer(\n      startFrame: 30,\n      endFrame: 120,\n      fadeInFrames: 15,\n      child: Center(child: Text('Hello!')),\n    ),\n\n    // Overlay (always on top)\n    Layer.overlay(\n      child: Watermark(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/layer-stack/#with-regular-widgets","title":"With Regular Widgets","text":"<p>You can mix <code>Layer</code> widgets with regular Flutter widgets:</p> <pre><code>LayerStack(\n  children: [\n    // Regular widget - always visible\n    Container(color: Colors.black),\n\n    // Layer with timing\n    Layer(\n      startFrame: 30,\n      fadeInFrames: 15,\n      child: Text('Appears at frame 30'),\n    ),\n\n    // Another regular widget\n    Positioned(\n      bottom: 20,\n      right: 20,\n      child: Logo(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/layer-stack/#multiple-timed-layers","title":"Multiple Timed Layers","text":"<pre><code>LayerStack(\n  children: [\n    Layer.background(\n      child: AnimatedGradient(),\n    ),\n\n    // First title: frames 0-60\n    Layer(\n      startFrame: 0,\n      endFrame: 60,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      child: Center(child: Text('Welcome')),\n    ),\n\n    // Second title: frames 45-120\n    Layer(\n      startFrame: 45,\n      endFrame: 120,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      child: Center(child: Text('To Fluvie')),\n    ),\n\n    // Particles throughout\n    Layer.overlay(\n      child: ParticleEffect.sparkles(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/layer-stack/#timeline-visualization","title":"Timeline Visualization","text":"<pre><code>Frame:    0    15   30   45   60   75   90   105  120\n          |     |    |    |    |    |    |     |    |\nWelcome:  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n                         \u2191fade out\nTo Fluvie:              \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n                        \u2191fade in\nParticles: \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n</code></pre>"},{"location":"widgets/layout/layer-stack/#z-index-sorting","title":"Z-Index Sorting","text":"<p>Layers with explicit <code>zIndex</code> values are automatically sorted:</p> <pre><code>LayerStack(\n  children: [\n    Layer(\n      zIndex: 100,  // Will render on top\n      child: TopContent(),\n    ),\n    Layer(\n      zIndex: -100,  // Will render behind\n      child: BackgroundContent(),\n    ),\n    Layer(\n      // No zIndex - uses list order\n      child: MiddleContent(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/layer-stack/#z-index-rules","title":"Z-Index Rules","text":"<ol> <li>Higher <code>zIndex</code> = rendered on top</li> <li><code>Layer.background()</code> has <code>zIndex: -1000</code> by default</li> <li><code>Layer.overlay()</code> has <code>zIndex: 1000</code> by default</li> <li>Layers without <code>zIndex</code> use their position in the list</li> <li>Equal <code>zIndex</code> values preserve original list order</li> </ol>"},{"location":"widgets/layout/layer-stack/#comparison-with-stack","title":"Comparison with Stack","text":"Feature Stack LayerStack Basic stacking Yes Yes Z-index sorting No Yes Layer timing No Yes (via Layer) Fade transitions No Yes (via Layer) Background/overlay helpers No Yes"},{"location":"widgets/layout/layer-stack/#related","title":"Related","text":"<ul> <li>Layer - Individual layer widget</li> <li>VStack - Video-aware Stack with timing</li> <li>VPositioned - Positioned widget with timing</li> </ul>"},{"location":"widgets/layout/layer/","title":"Layer","text":"<p>Time-controlled layer with fading and blend modes</p> <p><code>Layer</code> is a single layer within a <code>LayerStack</code> that provides time-based visibility, opacity transitions, blend modes, and transforms. It's the primary widget for controlling when and how content appears in your video.</p>"},{"location":"widgets/layout/layer/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Fade Transitions</li> <li>Blend Modes</li> <li>Related</li> </ul>"},{"location":"widgets/layout/layer/#overview","title":"Overview","text":"<p><code>Layer</code> wraps content with video-specific capabilities:</p> <pre><code>Layer(\n  id: 'title',\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  fadeOutFrames: 15,\n  child: Text('Hello!'),\n)\n</code></pre>"},{"location":"widgets/layout/layer/#when-to-use","title":"When to Use","text":"<p>Use <code>Layer</code> when you need: - Time-based visibility (show/hide at specific frames) - Fade in/out transitions - Blend modes for compositing effects - Z-index control within a LayerStack</p>"},{"location":"widgets/layout/layer/#properties","title":"Properties","text":"Property Type Default Description <code>child</code> <code>Widget</code> required The widget content <code>id</code> <code>String?</code> <code>null</code> Identifier for debugging <code>startFrame</code> <code>int?</code> <code>null</code> Frame to become visible (null = from start) <code>endFrame</code> <code>int?</code> <code>null</code> Frame to become invisible (null = until end) <code>fadeInFrames</code> <code>int</code> <code>0</code> Duration of fade-in transition <code>fadeOutFrames</code> <code>int</code> <code>0</code> Duration of fade-out transition <code>fadeInCurve</code> <code>Curve</code> <code>easeOut</code> Easing for fade-in <code>fadeOutCurve</code> <code>Curve</code> <code>easeIn</code> Easing for fade-out <code>opacity</code> <code>double</code> <code>1.0</code> Base opacity (0.0-1.0) <code>blendMode</code> <code>BlendMode</code> <code>srcOver</code> Compositing blend mode <code>enabled</code> <code>bool</code> <code>true</code> Whether layer is rendered <code>zIndex</code> <code>int?</code> <code>null</code> Explicit z-ordering <code>transform</code> <code>Matrix4?</code> <code>null</code> Transform matrix <code>transformAlignment</code> <code>AlignmentGeometry</code> <code>center</code> Transform origin"},{"location":"widgets/layout/layer/#constructors","title":"Constructors","text":""},{"location":"widgets/layout/layer/#default-constructor","title":"Default Constructor","text":"<pre><code>Layer(\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/layer/#layerbackground","title":"Layer.background","text":"<p>Creates a layer that renders behind others (zIndex: -1000):</p> <pre><code>Layer.background(\n  fadeInFrames: 30,\n  child: GradientBackground(),\n)\n</code></pre>"},{"location":"widgets/layout/layer/#layeroverlay","title":"Layer.overlay","text":"<p>Creates a layer that renders on top of others (zIndex: 1000):</p> <pre><code>Layer.overlay(\n  blendMode: BlendMode.screen,\n  child: LensFlare(),\n)\n</code></pre>"},{"location":"widgets/layout/layer/#examples","title":"Examples","text":""},{"location":"widgets/layout/layer/#basic-timed-layer","title":"Basic Timed Layer","text":"<pre><code>LayerStack(\n  children: [\n    Layer.background(\n      child: Container(color: Colors.black),\n    ),\n    Layer(\n      startFrame: 30,    // Appear at frame 30\n      endFrame: 120,     // Disappear at frame 120\n      fadeInFrames: 15,  // Fade in over 15 frames\n      fadeOutFrames: 15, // Fade out over 15 frames\n      child: Center(\n        child: Text(\n          'Hello, World!',\n          style: TextStyle(fontSize: 72, color: Colors.white),\n        ),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/layer/#layered-composition","title":"Layered Composition","text":"<pre><code>LayerStack(\n  children: [\n    // Background\n    Layer.background(\n      child: Image.asset('assets/bg.jpg', fit: BoxFit.cover),\n    ),\n\n    // Gradient overlay for text readability\n    Layer(\n      opacity: 0.7,\n      child: Container(\n        decoration: BoxDecoration(\n          gradient: LinearGradient(\n            begin: Alignment.topCenter,\n            end: Alignment.bottomCenter,\n            colors: [Colors.transparent, Colors.black],\n          ),\n        ),\n      ),\n    ),\n\n    // Main content with timing\n    Layer(\n      startFrame: 30,\n      endFrame: 180,\n      fadeInFrames: 20,\n      fadeOutFrames: 30,\n      child: Positioned(\n        bottom: 100,\n        left: 50,\n        right: 50,\n        child: Text('Your Story'),\n      ),\n    ),\n\n    // Sparkle overlay\n    Layer.overlay(\n      fadeInFrames: 60,\n      child: ParticleEffect.sparkles(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/layer/#with-transform","title":"With Transform","text":"<pre><code>Layer(\n  startFrame: 0,\n  fadeInFrames: 30,\n  transform: Matrix4.identity()\n    ..scale(1.1)\n    ..rotateZ(0.05),\n  transformAlignment: Alignment.center,\n  child: Image.asset('assets/photo.jpg'),\n)\n</code></pre>"},{"location":"widgets/layout/layer/#conditional-rendering","title":"Conditional Rendering","text":"<pre><code>Layer(\n  enabled: showWatermark,  // Dynamically enable/disable\n  child: Positioned(\n    bottom: 20,\n    right: 20,\n    child: Watermark(),\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/layer/#fade-transitions","title":"Fade Transitions","text":""},{"location":"widgets/layout/layer/#how-fading-works","title":"How Fading Works","text":"<pre><code>Frame:    0    15   30   45   60   75   90   105  120\n          |     |    |    |    |    |    |     |    |\nOpacity:  0%   \u2192\u2192\u2192  100% \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2192\u2192\u2192  0%\n          \u2191 fade in                              \u2191 fade out\n          startFrame                             endFrame\n</code></pre>"},{"location":"widgets/layout/layer/#custom-curves","title":"Custom Curves","text":"<pre><code>Layer(\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 20,\n  fadeOutFrames: 20,\n  fadeInCurve: Curves.easeOutCubic,   // Smooth fade in\n  fadeOutCurve: Curves.easeInExpo,    // Quick fade out\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/layer/#partial-opacity","title":"Partial Opacity","text":"<pre><code>Layer(\n  opacity: 0.8,  // Max opacity is 80%\n  fadeInFrames: 15,  // Fades from 0% to 80%\n  child: Overlay(),\n)\n</code></pre>"},{"location":"widgets/layout/layer/#blend-modes","title":"Blend Modes","text":"<p>Layer supports Flutter's blend modes for special compositing effects:</p> <pre><code>// Screen blend for light effects\nLayer.overlay(\n  blendMode: BlendMode.screen,\n  child: LightFlare(),\n)\n\n// Multiply for shadows\nLayer(\n  blendMode: BlendMode.multiply,\n  child: ShadowOverlay(),\n)\n\n// Color dodge for glow effects\nLayer(\n  blendMode: BlendMode.colorDodge,\n  child: GlowEffect(),\n)\n</code></pre>"},{"location":"widgets/layout/layer/#common-blend-modes","title":"Common Blend Modes","text":"Mode Effect Use Case <code>srcOver</code> Normal (default) Standard layering <code>screen</code> Lightens Light effects, lens flares <code>multiply</code> Darkens Shadows, vignettes <code>overlay</code> Contrast Color grading <code>colorDodge</code> Bright highlights Glow effects <p>Note: Non-standard blend modes use <code>saveLayer</code> which may cause transparency artifacts. For best results, ensure blended content has opaque backgrounds.</p>"},{"location":"widgets/layout/layer/#visibility-rules","title":"Visibility Rules","text":"Condition Visible <code>enabled: false</code> Never <code>frame &lt; startFrame</code> No <code>frame &gt;= endFrame</code> No <code>startFrame &lt;= frame &lt; endFrame</code> Yes <code>startFrame: null</code> Visible from frame 0 <code>endFrame: null</code> Visible until composition ends"},{"location":"widgets/layout/layer/#related","title":"Related","text":"<ul> <li>LayerStack - Container for layers</li> <li>VPositioned - Positioned with timing</li> <li>Fade - Low-level fade widget</li> <li>TimeConsumer - Frame-based animation</li> </ul>"},{"location":"widgets/layout/v-center/","title":"VCenter","text":"<p>Video-aware Center with timing and fading</p> <p><code>VCenter</code> extends Flutter's <code>Center</code> with video-specific properties like <code>startFrame</code>, <code>endFrame</code>, and fade transitions.</p>"},{"location":"widgets/layout/v-center/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"widgets/layout/v-center/#overview","title":"Overview","text":"<p><code>VCenter</code> centers its child widget while adding video timing capabilities:</p> <pre><code>VCenter(\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  child: Text('Centered Content'),\n)\n</code></pre>"},{"location":"widgets/layout/v-center/#when-to-use","title":"When to Use","text":"<p>Use <code>VCenter</code> when you need: - Centered content that appears/disappears at specific frames - Centered content with fade in/out transitions - A centered layout wrapper with video timing</p>"},{"location":"widgets/layout/v-center/#properties","title":"Properties","text":""},{"location":"widgets/layout/v-center/#center-properties","title":"Center Properties","text":"Property Type Default Description <code>child</code> <code>Widget</code> required Widget to center <code>widthFactor</code> <code>double?</code> <code>null</code> Width multiplier for constraints <code>heightFactor</code> <code>double?</code> <code>null</code> Height multiplier for constraints"},{"location":"widgets/layout/v-center/#video-timing-properties","title":"Video Timing Properties","text":"Property Type Default Description <code>startFrame</code> <code>int?</code> <code>null</code> Frame to become visible <code>endFrame</code> <code>int?</code> <code>null</code> Frame to become invisible <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade-in duration in frames <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade-out duration in frames <code>fadeInCurve</code> <code>Curve</code> <code>easeOut</code> Fade-in easing <code>fadeOutCurve</code> <code>Curve</code> <code>easeIn</code> Fade-out easing"},{"location":"widgets/layout/v-center/#examples","title":"Examples","text":""},{"location":"widgets/layout/v-center/#basic-centered-text","title":"Basic Centered Text","text":"<pre><code>VCenter(\n  child: Text(\n    'Hello, World!',\n    style: TextStyle(fontSize: 72, color: Colors.white),\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-center/#with-fade-animation","title":"With Fade Animation","text":"<pre><code>VCenter(\n  startFrame: 30,\n  fadeInFrames: 20,\n  fadeOutFrames: 20,\n  endFrame: 120,\n  child: AnimatedText(\n    'Welcome',\n    style: TextStyle(fontSize: 64),\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-center/#centered-column","title":"Centered Column","text":"<pre><code>VCenter(\n  startFrame: 0,\n  fadeInFrames: 25,\n  child: VColumn(\n    spacing: 20,\n    stagger: StaggerConfig.slideUp(delay: 12),\n    children: [\n      Text('2024', style: yearStyle),\n      Text('YOUR YEAR', style: subtitleStyle),\n      Text('IN REVIEW', style: subtitleStyle),\n    ],\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-center/#with-size-constraints","title":"With Size Constraints","text":"<p>Use <code>widthFactor</code> and <code>heightFactor</code> to constrain the centered area:</p> <pre><code>VCenter(\n  widthFactor: 0.8,   // Use 80% of available width\n  heightFactor: 0.6,  // Use 60% of available height\n  startFrame: 0,\n  fadeInFrames: 30,\n  child: ContentWidget(),\n)\n</code></pre>"},{"location":"widgets/layout/v-center/#in-a-scene","title":"In a Scene","text":"<pre><code>Scene(\n  durationInFrames: 150,\n  background: Background.solid(Colors.black),\n  children: [\n    VCenter(\n      startFrame: 0,\n      fadeInFrames: 30,\n      fadeOutFrames: 30,\n      child: VColumn(\n        spacing: 15,\n        children: [\n          Text(\n            'Welcome',\n            style: TextStyle(\n              fontSize: 72,\n              fontWeight: FontWeight.bold,\n              color: Colors.white,\n            ),\n          ),\n          Text(\n            'to your story',\n            style: TextStyle(\n              fontSize: 36,\n              color: Colors.white70,\n            ),\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-center/#multiple-centered-layers","title":"Multiple Centered Layers","text":"<pre><code>LayerStack(\n  children: [\n    Layer.background(\n      child: AnimatedGradient(),\n    ),\n\n    // First centered content\n    VCenter(\n      startFrame: 0,\n      endFrame: 60,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      child: Text('Part 1'),\n    ),\n\n    // Second centered content\n    VCenter(\n      startFrame: 45,\n      endFrame: 120,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      child: Text('Part 2'),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-center/#comparison-with-center","title":"Comparison with Center","text":"Feature Center VCenter Centers child Yes Yes Size factors Yes Yes Time-based visibility No Yes Fade transitions No Yes"},{"location":"widgets/layout/v-center/#related","title":"Related","text":"<ul> <li>VColumn - Column with timing</li> <li>VRow - Row with timing</li> <li>VPadding - Padding with timing</li> <li>VPositioned - Positioned with timing</li> </ul>"},{"location":"widgets/layout/v-column/","title":"VColumn","text":"<p>Video-aware Column with timing and staggered animations</p> <p><code>VColumn</code> extends Flutter's <code>Column</code> with video-specific properties including <code>startFrame</code>, <code>endFrame</code>, fade transitions, and built-in staggered child animations.</p>"},{"location":"widgets/layout/v-column/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Stagger Animations</li> <li>Spacing</li> <li>Related</li> </ul>"},{"location":"widgets/layout/v-column/#overview","title":"Overview","text":"<p><code>VColumn</code> is the video-aware version of Flutter's <code>Column</code>. It adds timing control and makes it easy to create staggered animations where children animate in sequence:</p> <pre><code>VColumn(\n  mainAxisAlignment: MainAxisAlignment.center,\n  stagger: StaggerConfig.slideUp(delay: 15),\n  children: [\n    AnimatedText('2024', style: titleStyle),\n    AnimatedText('YOUR YEAR', style: subtitleStyle),\n    AnimatedText('IN REVIEW', style: subtitleStyle),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#when-to-use","title":"When to Use","text":"<p>Use <code>VColumn</code> when you need: - A Column that appears/disappears at specific frames - Staggered child animations (each child animates in sequence) - Spacing between children without manual SizedBox widgets - Combined timing for a group of vertically arranged widgets</p>"},{"location":"widgets/layout/v-column/#properties","title":"Properties","text":""},{"location":"widgets/layout/v-column/#column-properties","title":"Column Properties","text":"Property Type Default Description <code>children</code> <code>List&lt;Widget&gt;</code> <code>[]</code> Widgets to arrange vertically <code>mainAxisAlignment</code> <code>MainAxisAlignment</code> <code>start</code> Main axis alignment <code>crossAxisAlignment</code> <code>CrossAxisAlignment</code> <code>center</code> Cross axis alignment <code>mainAxisSize</code> <code>MainAxisSize</code> <code>max</code> How much vertical space to use <code>textDirection</code> <code>TextDirection?</code> <code>null</code> Text direction <code>verticalDirection</code> <code>VerticalDirection</code> <code>down</code> Order of children <code>textBaseline</code> <code>TextBaseline?</code> <code>null</code> Baseline for alignment <code>spacing</code> <code>double</code> <code>0</code> Space between children"},{"location":"widgets/layout/v-column/#video-timing-properties","title":"Video Timing Properties","text":"Property Type Default Description <code>startFrame</code> <code>int?</code> <code>null</code> Frame to become visible <code>endFrame</code> <code>int?</code> <code>null</code> Frame to become invisible <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade-in duration in frames <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade-out duration in frames <code>fadeInCurve</code> <code>Curve</code> <code>easeOut</code> Fade-in easing <code>fadeOutCurve</code> <code>Curve</code> <code>easeIn</code> Fade-out easing"},{"location":"widgets/layout/v-column/#stagger-property","title":"Stagger Property","text":"Property Type Default Description <code>stagger</code> <code>StaggerConfig?</code> <code>null</code> Configuration for staggered animations"},{"location":"widgets/layout/v-column/#examples","title":"Examples","text":""},{"location":"widgets/layout/v-column/#basic-timed-column","title":"Basic Timed Column","text":"<pre><code>VColumn(\n  startFrame: 30,\n  endFrame: 150,\n  fadeInFrames: 15,\n  mainAxisAlignment: MainAxisAlignment.center,\n  children: [\n    Text('Title'),\n    Text('Subtitle'),\n    Text('Description'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#with-spacing","title":"With Spacing","text":"<pre><code>VColumn(\n  mainAxisAlignment: MainAxisAlignment.center,\n  spacing: 20,  // 20 pixels between each child\n  children: [\n    Card(child: Text('Item 1')),\n    Card(child: Text('Item 2')),\n    Card(child: Text('Item 3')),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#centered-text-layout","title":"Centered Text Layout","text":"<pre><code>VColumn(\n  mainAxisAlignment: MainAxisAlignment.center,\n  crossAxisAlignment: CrossAxisAlignment.center,\n  spacing: 10,\n  children: [\n    Text(\n      '2024',\n      style: TextStyle(fontSize: 120, fontWeight: FontWeight.bold),\n    ),\n    Text(\n      'YOUR YEAR',\n      style: TextStyle(fontSize: 48),\n    ),\n    Text(\n      'IN REVIEW',\n      style: TextStyle(fontSize: 48),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#stagger-animations","title":"Stagger Animations","text":"<p>The most powerful feature of <code>VColumn</code> is staggered animations. Each child animates in sequence with a configurable delay:</p>"},{"location":"widgets/layout/v-column/#basic-stagger","title":"Basic Stagger","text":"<pre><code>VColumn(\n  stagger: StaggerConfig(delay: 10, duration: 20),\n  children: [\n    Text('Line 1'),  // Starts at frame 0\n    Text('Line 2'),  // Starts at frame 10\n    Text('Line 3'),  // Starts at frame 20\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#slide-up-stagger","title":"Slide Up Stagger","text":"<pre><code>VColumn(\n  stagger: StaggerConfig.slideUp(\n    delay: 15,\n    distance: 30,\n    curve: Curves.easeOutCubic,\n  ),\n  children: [\n    Text('Slides up 1'),\n    Text('Slides up 2'),\n    Text('Slides up 3'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#fade-only-stagger","title":"Fade Only Stagger","text":"<pre><code>VColumn(\n  stagger: StaggerConfig.fade(\n    delay: 12,\n    duration: 25,\n    curve: Curves.easeOut,\n  ),\n  children: [\n    Text('Fades in 1'),\n    Text('Fades in 2'),\n    Text('Fades in 3'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#scale-in-stagger","title":"Scale In Stagger","text":"<pre><code>VColumn(\n  stagger: StaggerConfig.scale(\n    delay: 10,\n    start: 0.7,  // Start at 70% scale\n    curve: Curves.elasticOut,\n  ),\n  children: [\n    Icon(Icons.star),\n    Icon(Icons.star),\n    Icon(Icons.star),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#combined-effects","title":"Combined Effects","text":"<pre><code>VColumn(\n  stagger: StaggerConfig.slideUpScale(\n    delay: 15,\n    slideDistance: 40,\n    scaleStart: 0.8,\n    curve: Curves.easeOutBack,\n  ),\n  children: [\n    StatCard(value: 100, label: 'Songs'),\n    StatCard(value: 50, label: 'Artists'),\n    StatCard(value: 25, label: 'Playlists'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#stagger-timeline-visualization","title":"Stagger Timeline Visualization","text":"<pre><code>Frame:    0    10   20   30   40   50   60\n          |     |    |    |    |    |    |\nChild 0:  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nChild 1:        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nChild 2:              \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n          \u2191 delay = 10, duration = 20\n</code></pre>"},{"location":"widgets/layout/v-column/#staggerconfig-options","title":"StaggerConfig Options","text":"Constructor Effect <code>StaggerConfig()</code> Custom configuration <code>StaggerConfig.fade()</code> Fade in only <code>StaggerConfig.slideUp()</code> Slide up + fade <code>StaggerConfig.slideDown()</code> Slide down + fade <code>StaggerConfig.slideLeft()</code> Slide left + fade <code>StaggerConfig.slideRight()</code> Slide right + fade <code>StaggerConfig.scale()</code> Scale in + fade <code>StaggerConfig.slideUpScale()</code> Slide + scale + fade"},{"location":"widgets/layout/v-column/#spacing","title":"Spacing","text":"<p>Use the <code>spacing</code> property instead of manual <code>SizedBox</code> widgets:</p> <pre><code>// Before: Manual spacing\nColumn(\n  children: [\n    Text('Item 1'),\n    SizedBox(height: 20),\n    Text('Item 2'),\n    SizedBox(height: 20),\n    Text('Item 3'),\n  ],\n)\n\n// After: Using spacing\nVColumn(\n  spacing: 20,\n  children: [\n    Text('Item 1'),\n    Text('Item 2'),\n    Text('Item 3'),\n  ],\n)\n</code></pre> <p>Spacing works with stagger animations too - the SizedBox spacers are automatically inserted between children.</p>"},{"location":"widgets/layout/v-column/#complete-example","title":"Complete Example","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    VCenter(\n      child: VColumn(\n        mainAxisAlignment: MainAxisAlignment.center,\n        crossAxisAlignment: CrossAxisAlignment.center,\n        spacing: 30,\n        stagger: StaggerConfig.slideUp(\n          delay: 15,\n          duration: 25,\n          curve: Curves.easeOutCubic,\n        ),\n        children: [\n          Text(\n            '2024',\n            style: TextStyle(\n              fontSize: 120,\n              fontWeight: FontWeight.bold,\n              color: Colors.white,\n            ),\n          ),\n          Text(\n            'YOUR YEAR',\n            style: TextStyle(\n              fontSize: 48,\n              color: Colors.white70,\n            ),\n          ),\n          Text(\n            'IN REVIEW',\n            style: TextStyle(\n              fontSize: 48,\n              color: Colors.white70,\n            ),\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-column/#related","title":"Related","text":"<ul> <li>VRow - Horizontal equivalent</li> <li>VCenter - Center with timing</li> <li>StaggerConfig - Stagger configuration</li> <li>AnimatedText - Animated text widget</li> </ul>"},{"location":"widgets/layout/v-padding/","title":"VPadding","text":"<p>Video-aware Padding with timing and fading</p> <p><code>VPadding</code> extends Flutter's <code>Padding</code> with video-specific properties like <code>startFrame</code>, <code>endFrame</code>, and fade transitions.</p>"},{"location":"widgets/layout/v-padding/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"widgets/layout/v-padding/#overview","title":"Overview","text":"<p><code>VPadding</code> adds padding around its child while supporting video timing:</p> <pre><code>VPadding(\n  padding: EdgeInsets.all(20),\n  startFrame: 30,\n  fadeInFrames: 15,\n  child: Text('Padded Content'),\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#when-to-use","title":"When to Use","text":"<p>Use <code>VPadding</code> when you need: - Padded content that appears/disappears at specific frames - Padded content with fade in/out transitions - A padding wrapper with video timing</p>"},{"location":"widgets/layout/v-padding/#properties","title":"Properties","text":""},{"location":"widgets/layout/v-padding/#padding-properties","title":"Padding Properties","text":"Property Type Default Description <code>child</code> <code>Widget</code> required Widget to pad <code>padding</code> <code>EdgeInsetsGeometry</code> required Amount of padding"},{"location":"widgets/layout/v-padding/#video-timing-properties","title":"Video Timing Properties","text":"Property Type Default Description <code>startFrame</code> <code>int?</code> <code>null</code> Frame to become visible <code>endFrame</code> <code>int?</code> <code>null</code> Frame to become invisible <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade-in duration in frames <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade-out duration in frames <code>fadeInCurve</code> <code>Curve</code> <code>easeOut</code> Fade-in easing <code>fadeOutCurve</code> <code>Curve</code> <code>easeIn</code> Fade-out easing"},{"location":"widgets/layout/v-padding/#constructors","title":"Constructors","text":""},{"location":"widgets/layout/v-padding/#default-constructor","title":"Default Constructor","text":"<pre><code>VPadding(\n  padding: EdgeInsets.all(20),\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#vpaddingall","title":"VPadding.all","text":"<p>Uniform padding on all sides:</p> <pre><code>VPadding.all(\n  20,\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#vpaddingsymmetric","title":"VPadding.symmetric","text":"<p>Symmetric horizontal and vertical padding:</p> <pre><code>VPadding.symmetric(\n  horizontal: 40,\n  vertical: 20,\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#vpaddingonly","title":"VPadding.only","text":"<p>Padding on specific sides:</p> <pre><code>VPadding.only(\n  left: 20,\n  top: 40,\n  right: 20,\n  bottom: 60,\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#examples","title":"Examples","text":""},{"location":"widgets/layout/v-padding/#basic-padding","title":"Basic Padding","text":"<pre><code>VPadding(\n  padding: EdgeInsets.all(50),\n  child: Container(\n    color: Colors.blue,\n    child: Text('Padded Box'),\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#with-timing","title":"With Timing","text":"<pre><code>VPadding(\n  padding: EdgeInsets.symmetric(horizontal: 40, vertical: 20),\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  fadeOutFrames: 15,\n  child: Text(\n    'This text appears with padding at frame 30',\n    style: TextStyle(fontSize: 24),\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#using-convenience-constructors","title":"Using Convenience Constructors","text":"<pre><code>// All sides equal\nVPadding.all(\n  30,\n  startFrame: 0,\n  fadeInFrames: 20,\n  child: ContentWidget(),\n)\n\n// Horizontal and vertical\nVPadding.symmetric(\n  horizontal: 50,\n  vertical: 100,\n  startFrame: 15,\n  fadeInFrames: 15,\n  child: ContentWidget(),\n)\n\n// Individual sides\nVPadding.only(\n  left: 100,\n  right: 100,\n  bottom: 50,\n  startFrame: 30,\n  fadeInFrames: 20,\n  child: ContentWidget(),\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#safe-area-style-padding","title":"Safe Area Style Padding","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    VPadding(\n      padding: EdgeInsets.symmetric(horizontal: 80, vertical: 120),\n      startFrame: 0,\n      fadeInFrames: 30,\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          Text('Title', style: titleStyle),\n          SizedBox(height: 20),\n          Text('Description text that stays within safe margins.'),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#nested-padding","title":"Nested Padding","text":"<pre><code>VPadding(\n  padding: EdgeInsets.all(40),\n  startFrame: 0,\n  fadeInFrames: 20,\n  child: VPadding(\n    padding: EdgeInsets.all(20),\n    startFrame: 15,\n    fadeInFrames: 20,\n    child: Text('Double padded'),\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#in-a-layout","title":"In a Layout","text":"<pre><code>LayerStack(\n  children: [\n    Layer.background(\n      child: Container(color: Colors.black),\n    ),\n\n    // Content with padding\n    VPadding(\n      padding: EdgeInsets.symmetric(horizontal: 60, vertical: 80),\n      startFrame: 0,\n      fadeInFrames: 25,\n      child: VColumn(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        spacing: 20,\n        children: [\n          Text('Welcome', style: titleStyle),\n          Text('This is your personalized story.'),\n          Text('Let\\'s see what you accomplished.'),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-padding/#comparison-with-padding","title":"Comparison with Padding","text":"Feature Padding VPadding Adds padding Yes Yes EdgeInsets support Yes Yes Convenience constructors No Yes (.all, .symmetric, .only) Time-based visibility No Yes Fade transitions No Yes"},{"location":"widgets/layout/v-padding/#related","title":"Related","text":"<ul> <li>VCenter - Center with timing</li> <li>VSizedBox - SizedBox with timing</li> <li>VPositioned - Positioned with timing</li> </ul>"},{"location":"widgets/layout/v-positioned/","title":"VPositioned","text":"<p>Video-aware Positioned with timing, fading, and hero transitions</p> <p><code>VPositioned</code> extends Flutter's <code>Positioned</code> with video-specific properties including <code>startFrame</code>, <code>endFrame</code>, fade transitions, and hero-style cross-scene animations.</p>"},{"location":"widgets/layout/v-positioned/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Hero Transitions</li> <li>Related</li> </ul>"},{"location":"widgets/layout/v-positioned/#overview","title":"Overview","text":"<p><code>VPositioned</code> positions content within a <code>Stack</code> or <code>VStack</code> while adding video timing capabilities:</p> <pre><code>VStack(\n  children: [\n    VPositioned(\n      left: 100,\n      top: 200,\n      startFrame: 30,\n      fadeInFrames: 15,\n      child: Text('Positioned Content'),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#when-to-use","title":"When to Use","text":"<p>Use <code>VPositioned</code> when you need: - Positioned content that appears/disappears at specific frames - Positioned content with fade in/out transitions - Hero-style animations between scenes - Absolute positioning with video timing</p>"},{"location":"widgets/layout/v-positioned/#properties","title":"Properties","text":""},{"location":"widgets/layout/v-positioned/#positioned-properties","title":"Positioned Properties","text":"Property Type Default Description <code>child</code> <code>Widget</code> required Widget to position <code>left</code> <code>double?</code> <code>null</code> Distance from left edge <code>top</code> <code>double?</code> <code>null</code> Distance from top edge <code>right</code> <code>double?</code> <code>null</code> Distance from right edge <code>bottom</code> <code>double?</code> <code>null</code> Distance from bottom edge <code>width</code> <code>double?</code> <code>null</code> Fixed width <code>height</code> <code>double?</code> <code>null</code> Fixed height"},{"location":"widgets/layout/v-positioned/#video-timing-properties","title":"Video Timing Properties","text":"Property Type Default Description <code>startFrame</code> <code>int?</code> <code>null</code> Frame to become visible <code>endFrame</code> <code>int?</code> <code>null</code> Frame to become invisible <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade-in duration in frames <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade-out duration in frames <code>fadeInCurve</code> <code>Curve</code> <code>easeOut</code> Fade-in easing <code>fadeOutCurve</code> <code>Curve</code> <code>easeIn</code> Fade-out easing"},{"location":"widgets/layout/v-positioned/#hero-property","title":"Hero Property","text":"Property Type Default Description <code>heroKey</code> <code>GlobalKey?</code> <code>null</code> Key for cross-scene hero animations"},{"location":"widgets/layout/v-positioned/#constructors","title":"Constructors","text":""},{"location":"widgets/layout/v-positioned/#default-constructor","title":"Default Constructor","text":"<pre><code>VPositioned(\n  left: 100,\n  top: 200,\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#vpositionedfill","title":"VPositioned.fill","text":"<p>Fill the entire Stack:</p> <pre><code>VPositioned.fill(\n  startFrame: 0,\n  fadeInFrames: 30,\n  child: BackgroundContent(),\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#vpositionedfromoffset","title":"VPositioned.fromOffset","text":"<p>Create from an <code>Offset</code>:</p> <pre><code>VPositioned.fromOffset(\n  offset: Offset(100, 200),\n  width: 300,\n  height: 200,\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#vpositionedfromrect","title":"VPositioned.fromRect","text":"<p>Create from a <code>Rect</code>:</p> <pre><code>VPositioned.fromRect(\n  rect: Rect.fromLTWH(100, 200, 300, 200),\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#examples","title":"Examples","text":""},{"location":"widgets/layout/v-positioned/#basic-positioning","title":"Basic Positioning","text":"<pre><code>VStack(\n  children: [\n    VPositioned(\n      left: 50,\n      top: 100,\n      child: Text('Top Left Area'),\n    ),\n    VPositioned(\n      right: 50,\n      bottom: 100,\n      child: Text('Bottom Right Area'),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#with-timing","title":"With Timing","text":"<pre><code>VStack(\n  children: [\n    // Title appears at frame 30\n    VPositioned(\n      left: 0,\n      right: 0,\n      top: 100,\n      startFrame: 30,\n      fadeInFrames: 20,\n      child: Text(\n        'Welcome',\n        textAlign: TextAlign.center,\n        style: titleStyle,\n      ),\n    ),\n\n    // Subtitle appears at frame 50\n    VPositioned(\n      left: 0,\n      right: 0,\n      top: 200,\n      startFrame: 50,\n      fadeInFrames: 20,\n      child: Text(\n        'to your story',\n        textAlign: TextAlign.center,\n        style: subtitleStyle,\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#fill-background","title":"Fill Background","text":"<pre><code>VStack(\n  children: [\n    VPositioned.fill(\n      startFrame: 0,\n      fadeInFrames: 30,\n      child: Image.asset('assets/bg.jpg', fit: BoxFit.cover),\n    ),\n    VPositioned(\n      left: 50,\n      right: 50,\n      bottom: 100,\n      startFrame: 30,\n      fadeInFrames: 20,\n      child: Text('Overlay Text'),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#gradient-overlay","title":"Gradient Overlay","text":"<pre><code>VStack(\n  children: [\n    // Image background\n    VPositioned.fill(\n      child: Image.asset('assets/photo.jpg', fit: BoxFit.cover),\n    ),\n\n    // Gradient for text readability\n    VPositioned(\n      left: 0,\n      right: 0,\n      bottom: 0,\n      height: 300,\n      startFrame: 0,\n      fadeInFrames: 20,\n      child: Container(\n        decoration: BoxDecoration(\n          gradient: LinearGradient(\n            begin: Alignment.bottomCenter,\n            end: Alignment.topCenter,\n            colors: [Colors.black87, Colors.transparent],\n          ),\n        ),\n      ),\n    ),\n\n    // Text at bottom\n    VPositioned(\n      left: 50,\n      right: 50,\n      bottom: 50,\n      startFrame: 30,\n      fadeInFrames: 20,\n      child: Text('Photo Caption', style: captionStyle),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#corner-positioned-elements","title":"Corner Positioned Elements","text":"<pre><code>VStack(\n  children: [\n    // Top left\n    VPositioned(\n      left: 20,\n      top: 20,\n      startFrame: 0,\n      fadeInFrames: 15,\n      child: Logo(),\n    ),\n\n    // Top right\n    VPositioned(\n      right: 20,\n      top: 20,\n      startFrame: 10,\n      fadeInFrames: 15,\n      child: DateWidget(),\n    ),\n\n    // Bottom left\n    VPositioned(\n      left: 20,\n      bottom: 20,\n      startFrame: 20,\n      fadeInFrames: 15,\n      child: Watermark(),\n    ),\n\n    // Bottom right\n    VPositioned(\n      right: 20,\n      bottom: 20,\n      startFrame: 30,\n      fadeInFrames: 15,\n      child: SocialHandle(),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#hero-transitions","title":"Hero Transitions","text":"<p><code>VPositioned</code> supports hero-style transitions between scenes. When two <code>VPositioned</code> widgets in adjacent scenes share the same <code>heroKey</code>, the <code>Video</code> widget automatically animates between their positions during scene transitions.</p>"},{"location":"widgets/layout/v-positioned/#basic-hero-animation","title":"Basic Hero Animation","text":"<pre><code>final photoKey = GlobalKey();\n\nVideo(\n  fps: 30,\n  width: 1920,\n  height: 1080,\n  defaultTransition: SceneTransition.crossFade(durationInFrames: 30),\n  scenes: [\n    // Scene 1: Photo in center\n    Scene(\n      durationInFrames: 90,\n      children: [\n        VPositioned(\n          left: 710,  // Centered\n          top: 340,\n          width: 500,\n          height: 400,\n          heroKey: photoKey,\n          child: Image.asset('assets/photo.jpg'),\n        ),\n      ],\n    ),\n\n    // Scene 2: Photo moves to corner\n    Scene(\n      durationInFrames: 90,\n      children: [\n        VPositioned(\n          left: 50,   // Top left corner\n          top: 50,\n          width: 200,\n          height: 160,\n          heroKey: photoKey,  // Same key = animates position\n          child: Image.asset('assets/photo.jpg'),\n        ),\n        VPositioned(\n          left: 300,\n          top: 50,\n          child: Text('Your favorite photo'),\n        ),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#hero-animation-properties","title":"Hero Animation Properties","text":"<p>The hero animation automatically interpolates: - Position (<code>left</code>, <code>top</code>, <code>right</code>, <code>bottom</code>) - Size (<code>width</code>, <code>height</code>) - Transform (if specified)</p>"},{"location":"widgets/layout/v-positioned/#requirements-for-hero-transitions","title":"Requirements for Hero Transitions","text":"<ol> <li>Both <code>VPositioned</code> widgets must have the same <code>heroKey</code></li> <li>A scene transition must be set on the <code>Video</code> widget</li> <li>The widgets should be in adjacent scenes</li> </ol>"},{"location":"widgets/layout/v-positioned/#complete-example","title":"Complete Example","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    // Background image\n    VPositioned.fill(\n      fadeInFrames: 30,\n      child: Opacity(\n        opacity: 0.3,\n        child: Image.asset('assets/bg.jpg', fit: BoxFit.cover),\n      ),\n    ),\n\n    // Main title\n    VPositioned(\n      left: 0,\n      right: 0,\n      top: 200,\n      startFrame: 30,\n      fadeInFrames: 25,\n      child: Text(\n        '2024',\n        textAlign: TextAlign.center,\n        style: TextStyle(\n          fontSize: 120,\n          fontWeight: FontWeight.bold,\n          color: Colors.white,\n        ),\n      ),\n    ),\n\n    // Subtitle\n    VPositioned(\n      left: 0,\n      right: 0,\n      top: 350,\n      startFrame: 50,\n      fadeInFrames: 25,\n      child: Text(\n        'YOUR YEAR IN REVIEW',\n        textAlign: TextAlign.center,\n        style: TextStyle(\n          fontSize: 36,\n          color: Colors.white70,\n          letterSpacing: 8,\n        ),\n      ),\n    ),\n\n    // Stats at bottom\n    VPositioned(\n      left: 50,\n      right: 50,\n      bottom: 150,\n      startFrame: 75,\n      fadeInFrames: 25,\n      child: VRow(\n        mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n        stagger: StaggerConfig.slideUp(delay: 10),\n        children: [\n          StatWidget(value: '2,451', label: 'Minutes'),\n          StatWidget(value: '128', label: 'Songs'),\n          StatWidget(value: '32', label: 'Artists'),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-positioned/#related","title":"Related","text":"<ul> <li>VStack - Stack with timing</li> <li>LayerStack - Layer-based composition</li> <li>Layer - Layer with timing</li> <li>VCenter - Center with timing</li> </ul>"},{"location":"widgets/layout/v-row/","title":"VRow","text":"<p>Video-aware Row with timing and staggered animations</p> <p><code>VRow</code> extends Flutter's <code>Row</code> with video-specific properties including <code>startFrame</code>, <code>endFrame</code>, fade transitions, and built-in staggered child animations.</p>"},{"location":"widgets/layout/v-row/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Stagger Animations</li> <li>Related</li> </ul>"},{"location":"widgets/layout/v-row/#overview","title":"Overview","text":"<p><code>VRow</code> is the video-aware version of Flutter's <code>Row</code>. Like <code>VColumn</code>, it adds timing control and staggered animations where children animate in sequence:</p> <pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n  stagger: StaggerConfig.slideUp(delay: 10),\n  children: [\n    StatCard(value: 42, label: 'Songs'),\n    StatCard(value: 15, label: 'Artists'),\n    StatCard(value: 8, label: 'Playlists'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#when-to-use","title":"When to Use","text":"<p>Use <code>VRow</code> when you need: - A Row that appears/disappears at specific frames - Staggered child animations horizontally - Spacing between children - Combined timing for horizontally arranged widgets</p>"},{"location":"widgets/layout/v-row/#properties","title":"Properties","text":""},{"location":"widgets/layout/v-row/#row-properties","title":"Row Properties","text":"Property Type Default Description <code>children</code> <code>List&lt;Widget&gt;</code> <code>[]</code> Widgets to arrange horizontally <code>mainAxisAlignment</code> <code>MainAxisAlignment</code> <code>start</code> Main axis alignment <code>crossAxisAlignment</code> <code>CrossAxisAlignment</code> <code>center</code> Cross axis alignment <code>mainAxisSize</code> <code>MainAxisSize</code> <code>max</code> How much horizontal space to use <code>textDirection</code> <code>TextDirection?</code> <code>null</code> Text direction <code>verticalDirection</code> <code>VerticalDirection</code> <code>down</code> Vertical direction for cross axis <code>textBaseline</code> <code>TextBaseline?</code> <code>null</code> Baseline for alignment <code>spacing</code> <code>double</code> <code>0</code> Space between children"},{"location":"widgets/layout/v-row/#video-timing-properties","title":"Video Timing Properties","text":"Property Type Default Description <code>startFrame</code> <code>int?</code> <code>null</code> Frame to become visible <code>endFrame</code> <code>int?</code> <code>null</code> Frame to become invisible <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade-in duration in frames <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade-out duration in frames <code>fadeInCurve</code> <code>Curve</code> <code>easeOut</code> Fade-in easing <code>fadeOutCurve</code> <code>Curve</code> <code>easeIn</code> Fade-out easing"},{"location":"widgets/layout/v-row/#stagger-property","title":"Stagger Property","text":"Property Type Default Description <code>stagger</code> <code>StaggerConfig?</code> <code>null</code> Configuration for staggered animations"},{"location":"widgets/layout/v-row/#examples","title":"Examples","text":""},{"location":"widgets/layout/v-row/#basic-row","title":"Basic Row","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.center,\n  spacing: 20,\n  children: [\n    Icon(Icons.star, size: 48),\n    Icon(Icons.star, size: 48),\n    Icon(Icons.star, size: 48),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#timed-row","title":"Timed Row","text":"<pre><code>VRow(\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  fadeOutFrames: 15,\n  mainAxisAlignment: MainAxisAlignment.spaceAround,\n  children: [\n    Text('Left'),\n    Text('Center'),\n    Text('Right'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#evenly-spaced-stats","title":"Evenly Spaced Stats","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n  children: [\n    Column(\n      children: [\n        Text('100', style: numberStyle),\n        Text('Songs'),\n      ],\n    ),\n    Column(\n      children: [\n        Text('25', style: numberStyle),\n        Text('Artists'),\n      ],\n    ),\n    Column(\n      children: [\n        Text('10', style: numberStyle),\n        Text('Hours'),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#stagger-animations","title":"Stagger Animations","text":"<p><code>VRow</code> supports the same stagger animations as <code>VColumn</code>:</p>"},{"location":"widgets/layout/v-row/#slide-in-from-left","title":"Slide In From Left","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.center,\n  spacing: 30,\n  stagger: StaggerConfig.slideLeft(\n    delay: 12,\n    distance: 40,\n    curve: Curves.easeOutCubic,\n  ),\n  children: [\n    StatCard(value: 42, label: 'Songs'),\n    StatCard(value: 15, label: 'Artists'),\n    StatCard(value: 8, label: 'Playlists'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#scale-in","title":"Scale In","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n  stagger: StaggerConfig.scale(\n    delay: 10,\n    start: 0.5,\n    curve: Curves.elasticOut,\n  ),\n  children: [\n    CircleAvatar(backgroundImage: NetworkImage(url1)),\n    CircleAvatar(backgroundImage: NetworkImage(url2)),\n    CircleAvatar(backgroundImage: NetworkImage(url3)),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#slide-up-common-for-bottom-stats","title":"Slide Up (Common for Bottom Stats)","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n  stagger: StaggerConfig.slideUp(\n    delay: 15,\n    distance: 30,\n    curve: Curves.easeOutBack,\n  ),\n  children: [\n    MetricCard(icon: Icons.music_note, value: '1,234'),\n    MetricCard(icon: Icons.timer, value: '48h'),\n    MetricCard(icon: Icons.favorite, value: '567'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#timeline-visualization","title":"Timeline Visualization","text":"<pre><code>Frame:    0    12   24   36   48   60\n          |     |    |    |    |    |\nChild 0:  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nChild 1:        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nChild 2:              \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n          \u2191 delay = 12, duration = 20\n</code></pre>"},{"location":"widgets/layout/v-row/#common-patterns","title":"Common Patterns","text":""},{"location":"widgets/layout/v-row/#stats-row-at-bottom","title":"Stats Row at Bottom","text":"<pre><code>VPositioned(\n  left: 0,\n  right: 0,\n  bottom: 100,\n  startFrame: 30,\n  fadeInFrames: 20,\n  child: VRow(\n    mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n    stagger: StaggerConfig.slideUp(delay: 10),\n    children: [\n      StatColumn(value: '2,451', label: 'Minutes Played'),\n      StatColumn(value: '128', label: 'Songs'),\n      StatColumn(value: '32', label: 'Artists'),\n    ],\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#icon-bar","title":"Icon Bar","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.center,\n  spacing: 40,\n  stagger: StaggerConfig.fade(delay: 8),\n  children: [\n    IconButton(icon: Icons.skip_previous),\n    IconButton(icon: Icons.play_arrow),\n    IconButton(icon: Icons.skip_next),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#photo-strip","title":"Photo Strip","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.center,\n  spacing: 20,\n  stagger: StaggerConfig.scale(delay: 15, start: 0.8),\n  children: [\n    PhotoCard(image: 'photo1.jpg', rotation: -5),\n    PhotoCard(image: 'photo2.jpg', rotation: 3),\n    PhotoCard(image: 'photo3.jpg', rotation: -2),\n    PhotoCard(image: 'photo4.jpg', rotation: 4),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#complete-example","title":"Complete Example","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),\n      180: Color(0xFF16213e),\n    },\n  ),\n  children: [\n    // Stats row at bottom\n    VPositioned(\n      left: 50,\n      right: 50,\n      bottom: 150,\n      startFrame: 45,\n      fadeInFrames: 20,\n      child: VRow(\n        mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n        stagger: StaggerConfig.slideUp(\n          delay: 12,\n          distance: 40,\n          curve: Curves.easeOutCubic,\n        ),\n        children: [\n          _StatWidget(\n            value: '2,451',\n            label: 'Minutes',\n            icon: Icons.timer,\n          ),\n          _StatWidget(\n            value: '128',\n            label: 'Songs',\n            icon: Icons.music_note,\n          ),\n          _StatWidget(\n            value: '32',\n            label: 'Artists',\n            icon: Icons.person,\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-row/#related","title":"Related","text":"<ul> <li>VColumn - Vertical equivalent</li> <li>VCenter - Center with timing</li> <li>StaggerConfig - Stagger configuration</li> <li>StatCard - Statistics display widget</li> </ul>"},{"location":"widgets/layout/v-sized-box/","title":"VSizedBox","text":"<p>Video-aware SizedBox with timing and fading</p> <p><code>VSizedBox</code> extends Flutter's <code>SizedBox</code> with video-specific properties like <code>startFrame</code>, <code>endFrame</code>, and fade transitions.</p>"},{"location":"widgets/layout/v-sized-box/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Related</li> </ul>"},{"location":"widgets/layout/v-sized-box/#overview","title":"Overview","text":"<p><code>VSizedBox</code> constrains its child to a specific size while supporting video timing:</p> <pre><code>VSizedBox(\n  width: 200,\n  height: 100,\n  startFrame: 30,\n  fadeInFrames: 15,\n  child: Text('Sized Content'),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#when-to-use","title":"When to Use","text":"<p>Use <code>VSizedBox</code> when you need: - Fixed-size content that appears/disappears at specific frames - Sized content with fade in/out transitions - A size constraint wrapper with video timing - Spacers that appear/disappear</p>"},{"location":"widgets/layout/v-sized-box/#properties","title":"Properties","text":""},{"location":"widgets/layout/v-sized-box/#sizedbox-properties","title":"SizedBox Properties","text":"Property Type Default Description <code>child</code> <code>Widget?</code> <code>null</code> Widget to size <code>width</code> <code>double?</code> <code>null</code> Fixed width <code>height</code> <code>double?</code> <code>null</code> Fixed height"},{"location":"widgets/layout/v-sized-box/#video-timing-properties","title":"Video Timing Properties","text":"Property Type Default Description <code>startFrame</code> <code>int?</code> <code>null</code> Frame to become visible <code>endFrame</code> <code>int?</code> <code>null</code> Frame to become invisible <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade-in duration in frames <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade-out duration in frames <code>fadeInCurve</code> <code>Curve</code> <code>easeOut</code> Fade-in easing <code>fadeOutCurve</code> <code>Curve</code> <code>easeIn</code> Fade-out easing"},{"location":"widgets/layout/v-sized-box/#constructors","title":"Constructors","text":""},{"location":"widgets/layout/v-sized-box/#default-constructor","title":"Default Constructor","text":"<pre><code>VSizedBox(\n  width: 200,\n  height: 100,\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#vsizedboxfromsize","title":"VSizedBox.fromSize","text":"<p>Create from a <code>Size</code> object:</p> <pre><code>VSizedBox.fromSize(\n  size: Size(200, 100),\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#vsizedboxexpand","title":"VSizedBox.expand","text":"<p>Expand to fill available space:</p> <pre><code>VSizedBox.expand(\n  startFrame: 30,\n  fadeInFrames: 15,\n  child: FullScreenContent(),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#vsizedboxshrink","title":"VSizedBox.shrink","text":"<p>Shrink to minimum size (0x0):</p> <pre><code>VSizedBox.shrink(\n  startFrame: 30,\n  fadeInFrames: 15,\n  child: CollapsedContent(),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#vsizedboxsquare","title":"VSizedBox.square","text":"<p>Create a square box:</p> <pre><code>VSizedBox.square(\n  dimension: 200,\n  startFrame: 0,\n  fadeInFrames: 20,\n  child: SquareContent(),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#examples","title":"Examples","text":""},{"location":"widgets/layout/v-sized-box/#basic-sized-box","title":"Basic Sized Box","text":"<pre><code>VSizedBox(\n  width: 300,\n  height: 200,\n  child: Container(\n    color: Colors.blue,\n    child: Center(child: Text('300x200')),\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#with-timing","title":"With Timing","text":"<pre><code>VSizedBox(\n  width: 400,\n  height: 300,\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 20,\n  fadeOutFrames: 20,\n  child: Image.asset('assets/photo.jpg', fit: BoxFit.cover),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#square-image-frame","title":"Square Image Frame","text":"<pre><code>VSizedBox.square(\n  dimension: 250,\n  startFrame: 15,\n  fadeInFrames: 20,\n  child: ClipRRect(\n    borderRadius: BorderRadius.circular(20),\n    child: Image.asset('assets/profile.jpg', fit: BoxFit.cover),\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#expanding-content","title":"Expanding Content","text":"<pre><code>VSizedBox.expand(\n  startFrame: 0,\n  fadeInFrames: 30,\n  child: Container(\n    decoration: BoxDecoration(\n      gradient: LinearGradient(\n        colors: [Colors.purple, Colors.blue],\n      ),\n    ),\n  ),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#timed-spacer","title":"Timed Spacer","text":"<p>Use <code>VSizedBox</code> without a child as a timed spacer:</p> <pre><code>VColumn(\n  children: [\n    Text('Before'),\n    VSizedBox(\n      height: 50,\n      startFrame: 30,  // Spacer appears at frame 30\n    ),\n    Text('After'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#card-grid","title":"Card Grid","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.center,\n  spacing: 20,\n  stagger: StaggerConfig.scale(delay: 10),\n  children: [\n    VSizedBox.square(\n      dimension: 150,\n      child: Card(child: Icon(Icons.music_note)),\n    ),\n    VSizedBox.square(\n      dimension: 150,\n      child: Card(child: Icon(Icons.favorite)),\n    ),\n    VSizedBox.square(\n      dimension: 150,\n      child: Card(child: Icon(Icons.star)),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#constrained-content-area","title":"Constrained Content Area","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    VCenter(\n      child: VSizedBox(\n        width: 800,\n        height: 600,\n        startFrame: 0,\n        fadeInFrames: 30,\n        child: Container(\n          decoration: BoxDecoration(\n            color: Colors.white10,\n            borderRadius: BorderRadius.circular(20),\n          ),\n          child: ContentWidget(),\n        ),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#timing-behavior","title":"Timing Behavior","text":"<p>Note: <code>VSizedBox</code> only wraps with timing when <code>startFrame</code> or <code>endFrame</code> is specified. Without timing properties, it behaves exactly like a regular <code>SizedBox</code>.</p> <pre><code>// No timing wrapper - behaves like SizedBox\nVSizedBox(\n  width: 200,\n  height: 100,\n  child: Content(),\n)\n\n// Has timing wrapper - video-aware\nVSizedBox(\n  width: 200,\n  height: 100,\n  startFrame: 30,  // Triggers timing behavior\n  child: Content(),\n)\n</code></pre>"},{"location":"widgets/layout/v-sized-box/#comparison-with-sizedbox","title":"Comparison with SizedBox","text":"Feature SizedBox VSizedBox Fixed dimensions Yes Yes Expand/shrink Yes Yes Square constructor Yes Yes Time-based visibility No Yes Fade transitions No Yes"},{"location":"widgets/layout/v-sized-box/#related","title":"Related","text":"<ul> <li>VPadding - Padding with timing</li> <li>VCenter - Center with timing</li> <li>VPositioned - Positioned with timing</li> </ul>"},{"location":"widgets/layout/v-stack/","title":"VStack","text":"<p>Video-aware Stack with timing and fading</p> <p><code>VStack</code> extends Flutter's <code>Stack</code> with video-specific properties like <code>startFrame</code>, <code>endFrame</code>, and fade transitions. It's perfect for creating timed stack compositions.</p>"},{"location":"widgets/layout/v-stack/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Comparison with Stack</li> <li>Related</li> </ul>"},{"location":"widgets/layout/v-stack/#overview","title":"Overview","text":"<p><code>VStack</code> works exactly like Flutter's <code>Stack</code>, but can be shown/hidden based on frame numbers and includes automatic fade transitions:</p> <pre><code>VStack(\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  fadeOutFrames: 15,\n  alignment: Alignment.center,\n  children: [\n    Background(),\n    Content(),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-stack/#when-to-use","title":"When to Use","text":"<p>Use <code>VStack</code> when you need: - A Stack that appears/disappears at specific frames - A Stack with fade in/out transitions - To group multiple positioned children with shared timing</p>"},{"location":"widgets/layout/v-stack/#properties","title":"Properties","text":""},{"location":"widgets/layout/v-stack/#stack-properties","title":"Stack Properties","text":"Property Type Default Description <code>children</code> <code>List&lt;Widget&gt;</code> <code>[]</code> Widgets to stack <code>alignment</code> <code>AlignmentGeometry</code> <code>topStart</code> Alignment for non-positioned children <code>fit</code> <code>StackFit</code> <code>loose</code> How to size non-positioned children <code>textDirection</code> <code>TextDirection?</code> <code>null</code> Text direction for alignment <code>clipBehavior</code> <code>Clip</code> <code>hardEdge</code> Clip behavior"},{"location":"widgets/layout/v-stack/#video-timing-properties","title":"Video Timing Properties","text":"Property Type Default Description <code>startFrame</code> <code>int?</code> <code>null</code> Frame to become visible <code>endFrame</code> <code>int?</code> <code>null</code> Frame to become invisible <code>fadeInFrames</code> <code>int</code> <code>0</code> Fade-in duration in frames <code>fadeOutFrames</code> <code>int</code> <code>0</code> Fade-out duration in frames <code>fadeInCurve</code> <code>Curve</code> <code>easeOut</code> Fade-in easing <code>fadeOutCurve</code> <code>Curve</code> <code>easeIn</code> Fade-out easing"},{"location":"widgets/layout/v-stack/#examples","title":"Examples","text":""},{"location":"widgets/layout/v-stack/#basic-timed-stack","title":"Basic Timed Stack","text":"<pre><code>VStack(\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  alignment: Alignment.center,\n  children: [\n    Container(color: Colors.blue),\n    Text('Centered Text'),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-stack/#positioned-children","title":"Positioned Children","text":"<pre><code>VStack(\n  startFrame: 0,\n  endFrame: 180,\n  fadeInFrames: 20,\n  fadeOutFrames: 20,\n  children: [\n    // Background\n    Positioned.fill(\n      child: Image.asset('assets/bg.jpg', fit: BoxFit.cover),\n    ),\n\n    // Title at top\n    Positioned(\n      top: 50,\n      left: 0,\n      right: 0,\n      child: Text('Title', textAlign: TextAlign.center),\n    ),\n\n    // Content in center\n    Positioned(\n      top: 200,\n      left: 50,\n      right: 50,\n      child: ContentWidget(),\n    ),\n\n    // Footer at bottom\n    Positioned(\n      bottom: 50,\n      left: 0,\n      right: 0,\n      child: Text('Footer', textAlign: TextAlign.center),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-stack/#nested-vstacks-with-different-timing","title":"Nested VStacks with Different Timing","text":"<pre><code>LayerStack(\n  children: [\n    // First section: frames 0-90\n    VStack(\n      startFrame: 0,\n      endFrame: 90,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      children: [\n        Positioned.fill(child: BlueBackground()),\n        Center(child: Text('Section 1')),\n      ],\n    ),\n\n    // Second section: frames 60-150\n    VStack(\n      startFrame: 60,\n      endFrame: 150,\n      fadeInFrames: 15,\n      fadeOutFrames: 15,\n      children: [\n        Positioned.fill(child: GreenBackground()),\n        Center(child: Text('Section 2')),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-stack/#with-fade-curves","title":"With Fade Curves","text":"<pre><code>VStack(\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 25,\n  fadeOutFrames: 25,\n  fadeInCurve: Curves.easeOutCubic,\n  fadeOutCurve: Curves.easeInQuart,\n  children: [\n    Background(),\n    Content(),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-stack/#comparison-with-stack","title":"Comparison with Stack","text":"Feature Stack VStack Stack children Yes Yes Alignment Yes Yes Positioned children Yes Yes Time-based visibility No Yes Fade transitions No Yes Video-aware No Yes"},{"location":"widgets/layout/v-stack/#when-to-use-each","title":"When to Use Each","text":"<pre><code>// Use Stack for always-visible content\nStack(\n  children: [\n    Background(),\n    Content(),\n  ],\n)\n\n// Use VStack when you need timing\nVStack(\n  startFrame: 30,\n  fadeInFrames: 15,\n  children: [\n    Background(),\n    Content(),\n  ],\n)\n</code></pre>"},{"location":"widgets/layout/v-stack/#related","title":"Related","text":"<ul> <li>LayerStack - Layer-based composition</li> <li>VPositioned - Positioned with timing</li> <li>VColumn - Column with timing</li> <li>VRow - Row with timing</li> </ul>"},{"location":"widgets/media/","title":"Media Widgets","text":"<p>Media widgets in Fluvie allow you to embed external videos and create photo collages within your video compositions.</p>"},{"location":"widgets/media/#overview","title":"Overview","text":"Widget Description Use Case EmbeddedVideo Display video files in composition Video clips, highlights VideoSequence Low-level video sequence Custom video integration Collage Arrange photos in layouts Photo grids, galleries"},{"location":"widgets/media/#quick-examples","title":"Quick Examples","text":""},{"location":"widgets/media/#embedded-video","title":"Embedded Video","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/highlight.mp4',\n  width: 900,\n  height: 500,\n  startFrame: 40,\n  trimStart: Duration(seconds: 2),\n  fit: BoxFit.cover,\n  includeAudio: true,\n)\n</code></pre>"},{"location":"widgets/media/#photo-collage","title":"Photo Collage","text":"<pre><code>Collage.grid2x2(\n  spacing: 8,\n  children: [\n    Image.asset('photo1.jpg'),\n    Image.asset('photo2.jpg'),\n    Image.asset('photo3.jpg'),\n    Image.asset('photo4.jpg'),\n  ],\n)\n</code></pre>"},{"location":"widgets/media/#video-integration","title":"Video Integration","text":"<p>Fluvie handles video embedding through frame extraction:</p> <ol> <li>Video frames are extracted using FFmpeg</li> <li>Frames are cached for smooth playback</li> <li>Audio can be included in the final render</li> <li>Timing is synchronized with the composition timeline</li> </ol>"},{"location":"widgets/media/#supported-formats","title":"Supported Formats","text":"<p>FFmpeg handles video decoding, so most formats are supported: - MP4, MOV, AVI, MKV, WebM - H.264, H.265, VP8, VP9</p>"},{"location":"widgets/media/#image-handling","title":"Image Handling","text":"<p>Standard Flutter image widgets work in Fluvie:</p> <pre><code>// From assets\nImage.asset('assets/photo.jpg', fit: BoxFit.cover)\n\n// From network (cached)\nImage.network('https://example.com/photo.jpg')\n\n// From file\nImage.file(File('/path/to/photo.jpg'))\n</code></pre> <p>For animated image effects, use helper widgets like: - KenBurnsImage - Pan and zoom effect - PhotoCard - Styled photo frame - PolaroidFrame - Polaroid-style frame</p>"},{"location":"widgets/media/#related","title":"Related","text":"<ul> <li>Embedding Videos - Detailed video guide</li> <li>Embedding Images - Image embedding guide</li> <li>Helper Widgets - Photo helpers</li> </ul>"},{"location":"widgets/media/collage/","title":"Collage","text":"<p>Arrange images in predefined layouts</p> <p><code>Collage</code> provides common multi-element layouts for displaying photos, with optional entry animations and stagger effects.</p>"},{"location":"widgets/media/collage/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Layouts</li> <li>Examples</li> <li>Animations</li> <li>Related</li> </ul>"},{"location":"widgets/media/collage/#overview","title":"Overview","text":"<p><code>Collage</code> arranges child widgets in predefined layouts:</p> <pre><code>Collage.grid2x2(\n  spacing: 8,\n  children: [\n    Image.asset('photo1.jpg'),\n    Image.asset('photo2.jpg'),\n    Image.asset('photo3.jpg'),\n    Image.asset('photo4.jpg'),\n  ],\n)\n</code></pre>"},{"location":"widgets/media/collage/#available-layouts","title":"Available Layouts","text":"Layout Description <code>grid2x2</code> 2x2 grid <code>grid3x3</code> 3x3 grid <code>splitHorizontal</code> Two items side by side <code>splitVertical</code> Two items stacked <code>featured</code> One large + thumbnails <code>masonry</code> Alternating columns"},{"location":"widgets/media/collage/#properties","title":"Properties","text":"Property Type Default Description <code>children</code> <code>List&lt;Widget&gt;</code> required Items to arrange <code>layout</code> <code>CollageLayout</code> required Layout style <code>spacing</code> <code>double</code> <code>8</code> Gap between items <code>entryAnimation</code> <code>PropAnimation?</code> <code>null</code> Item entry animation <code>staggerDelay</code> <code>int</code> <code>5</code> Frames between animations <code>animationDuration</code> <code>int</code> <code>20</code> Animation duration <code>startFrame</code> <code>int</code> <code>0</code> Animation start frame <code>itemBorderRadius</code> <code>double</code> <code>0</code> Item corner radius"},{"location":"widgets/media/collage/#layouts","title":"Layouts","text":""},{"location":"widgets/media/collage/#grid-2x2","title":"Grid 2x2","text":"<pre><code>Collage.grid2x2(\n  spacing: 8,\n  children: [\n    Image.asset('photo1.jpg', fit: BoxFit.cover),\n    Image.asset('photo2.jpg', fit: BoxFit.cover),\n    Image.asset('photo3.jpg', fit: BoxFit.cover),\n    Image.asset('photo4.jpg', fit: BoxFit.cover),\n  ],\n)\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   1   \u2502   2   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   3   \u2502   4   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"widgets/media/collage/#grid-3x3","title":"Grid 3x3","text":"<pre><code>Collage.grid3x3(\n  spacing: 4,\n  children: List.generate(9, (i) =&gt;\n    Image.asset('photo${i+1}.jpg', fit: BoxFit.cover),\n  ),\n)\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  1  \u2502  2  \u2502  3  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  4  \u2502  5  \u2502  6  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  7  \u2502  8  \u2502  9  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"widgets/media/collage/#split-horizontal","title":"Split Horizontal","text":"<pre><code>Collage.splitHorizontal(\n  spacing: 8,\n  left: Image.asset('photo1.jpg', fit: BoxFit.cover),\n  right: Image.asset('photo2.jpg', fit: BoxFit.cover),\n)\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u2502         \u2502\n\u2502  left   \u2502  right  \u2502\n\u2502         \u2502         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"widgets/media/collage/#split-vertical","title":"Split Vertical","text":"<pre><code>Collage.splitVertical(\n  spacing: 8,\n  top: Image.asset('photo1.jpg', fit: BoxFit.cover),\n  bottom: Image.asset('photo2.jpg', fit: BoxFit.cover),\n)\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      top        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502     bottom      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"widgets/media/collage/#featured","title":"Featured","text":"<pre><code>Collage.featured(\n  spacing: 8,\n  main: Image.asset('hero.jpg', fit: BoxFit.cover),\n  thumbnails: [\n    Image.asset('thumb1.jpg', fit: BoxFit.cover),\n    Image.asset('thumb2.jpg', fit: BoxFit.cover),\n    Image.asset('thumb3.jpg', fit: BoxFit.cover),\n  ],\n)\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u2502  1  \u2502\n\u2502   main    \u251c\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   (2/3)   \u2502  2  \u2502\n\u2502           \u251c\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u2502  3  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"widgets/media/collage/#masonry","title":"Masonry","text":"<pre><code>Collage(\n  layout: CollageLayout.masonry,\n  spacing: 8,\n  children: [\n    Image.asset('photo1.jpg'),\n    Image.asset('photo2.jpg'),\n    Image.asset('photo3.jpg'),\n    Image.asset('photo4.jpg'),\n  ],\n)\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  1  \u2502  2  \u2502\n\u2502     \u251c\u2500\u2500\u2500\u2500\u2500\u2524\n\u251c\u2500\u2500\u2500\u2500\u2500\u2524  4  \u2502\n\u2502  3  \u2502     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"widgets/media/collage/#examples","title":"Examples","text":""},{"location":"widgets/media/collage/#basic-photo-grid","title":"Basic Photo Grid","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    VPadding(\n      padding: EdgeInsets.all(40),\n      startFrame: 30,\n      fadeInFrames: 20,\n      child: Collage.grid2x2(\n        spacing: 12,\n        itemBorderRadius: 8,\n        children: [\n          Image.asset('photos/1.jpg', fit: BoxFit.cover),\n          Image.asset('photos/2.jpg', fit: BoxFit.cover),\n          Image.asset('photos/3.jpg', fit: BoxFit.cover),\n          Image.asset('photos/4.jpg', fit: BoxFit.cover),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/media/collage/#with-entry-animation","title":"With Entry Animation","text":"<pre><code>Collage.grid2x2(\n  spacing: 10,\n  entryAnimation: PropAnimation.scaleFade(),\n  staggerDelay: 10,\n  animationDuration: 25,\n  startFrame: 30,\n  children: [\n    Image.asset('photo1.jpg', fit: BoxFit.cover),\n    Image.asset('photo2.jpg', fit: BoxFit.cover),\n    Image.asset('photo3.jpg', fit: BoxFit.cover),\n    Image.asset('photo4.jpg', fit: BoxFit.cover),\n  ],\n)\n</code></pre> <p>Animation timeline: <pre><code>Frame:    30   40   50   60   70   80\n          |    |    |    |    |    |\nPhoto 1:  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nPhoto 2:       \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nPhoto 3:            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nPhoto 4:                 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n</code></pre></p>"},{"location":"widgets/media/collage/#rounded-corners","title":"Rounded Corners","text":"<pre><code>Collage.grid3x3(\n  spacing: 8,\n  itemBorderRadius: 16,  // Rounded corners\n  children: photos.map((p) =&gt;\n    Image.asset(p, fit: BoxFit.cover),\n  ).toList(),\n)\n</code></pre>"},{"location":"widgets/media/collage/#featured-with-animation","title":"Featured With Animation","text":"<pre><code>Collage.featured(\n  spacing: 12,\n  itemBorderRadius: 12,\n  entryAnimation: PropAnimation.slideUpFade(),\n  staggerDelay: 8,\n  animationDuration: 30,\n  main: Image.asset('hero.jpg', fit: BoxFit.cover),\n  thumbnails: [\n    Image.asset('thumb1.jpg', fit: BoxFit.cover),\n    Image.asset('thumb2.jpg', fit: BoxFit.cover),\n    Image.asset('thumb3.jpg', fit: BoxFit.cover),\n  ],\n)\n</code></pre>"},{"location":"widgets/media/collage/#in-a-scene","title":"In a Scene","text":"<pre><code>Scene(\n  durationInFrames: 240,\n  background: Background.gradient(\n    colors: {\n      0: Color(0xFF1a1a2e),\n      240: Color(0xFF16213e),\n    },\n  ),\n  children: [\n    // Title\n    VPositioned(\n      left: 0,\n      right: 0,\n      top: 60,\n      startFrame: 0,\n      fadeInFrames: 20,\n      child: Text(\n        'Your Favorite Photos',\n        textAlign: TextAlign.center,\n        style: TextStyle(\n          fontSize: 48,\n          fontWeight: FontWeight.bold,\n          color: Colors.white,\n        ),\n      ),\n    ),\n\n    // Photo collage\n    VPositioned(\n      left: 60,\n      right: 60,\n      top: 180,\n      bottom: 100,\n      startFrame: 30,\n      fadeInFrames: 25,\n      child: Collage.grid2x2(\n        spacing: 16,\n        itemBorderRadius: 16,\n        entryAnimation: PropAnimation.scaleFade(),\n        staggerDelay: 12,\n        animationDuration: 30,\n        startFrame: 30,\n        children: [\n          ClipRRect(\n            borderRadius: BorderRadius.circular(16),\n            child: Image.asset('photo1.jpg', fit: BoxFit.cover),\n          ),\n          ClipRRect(\n            borderRadius: BorderRadius.circular(16),\n            child: Image.asset('photo2.jpg', fit: BoxFit.cover),\n          ),\n          ClipRRect(\n            borderRadius: BorderRadius.circular(16),\n            child: Image.asset('photo3.jpg', fit: BoxFit.cover),\n          ),\n          ClipRRect(\n            borderRadius: BorderRadius.circular(16),\n            child: Image.asset('photo4.jpg', fit: BoxFit.cover),\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/media/collage/#animations","title":"Animations","text":""},{"location":"widgets/media/collage/#available-entry-animations","title":"Available Entry Animations","text":"<pre><code>// Fade in\nentryAnimation: const FadeAnimation(start: 0, end: 1)\n\n// Scale up + fade\nentryAnimation: PropAnimation.scaleFade()\n\n// Slide up + fade\nentryAnimation: PropAnimation.slideUpFade()\n\n// Custom combined\nentryAnimation: CombinedAnimation([\n  TranslateAnimation(start: Offset(0, 30), end: Offset.zero),\n  ScaleAnimation(start: 0.8, end: 1.0),\n  FadeAnimation(start: 0, end: 1),\n])\n</code></pre>"},{"location":"widgets/media/collage/#stagger-effect","title":"Stagger Effect","text":"<p>Each item's animation starts after the previous:</p> <pre><code>Collage.grid2x2(\n  staggerDelay: 15,       // 15 frames between each item\n  animationDuration: 30,  // Each animation lasts 30 frames\n  startFrame: 0,          // First item starts at frame 0\n  // Item 1: frames 0-30\n  // Item 2: frames 15-45\n  // Item 3: frames 30-60\n  // Item 4: frames 45-75\n  children: [...],\n)\n</code></pre>"},{"location":"widgets/media/collage/#related","title":"Related","text":"<ul> <li>PropAnimation - Animations</li> <li>PhotoCard - Styled photo frame</li> <li>PolaroidFrame - Polaroid style</li> <li>VRow - Horizontal layouts</li> </ul>"},{"location":"widgets/media/embedded-video/","title":"EmbeddedVideo","text":"<p>Display synchronized video frames within your composition</p> <p><code>EmbeddedVideo</code> extracts and displays frames from a video file in sync with the composition timeline. It handles frame extraction, caching, and audio integration automatically.</p>"},{"location":"widgets/media/embedded-video/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Audio Integration</li> <li>Performance</li> <li>Related</li> </ul>"},{"location":"widgets/media/embedded-video/#overview","title":"Overview","text":"<p><code>EmbeddedVideo</code> is the recommended way to include external video clips in your composition:</p> <pre><code>EmbeddedVideo(\n  assetPath: 'assets/highlight.mp4',\n  width: 900,\n  height: 500,\n  startFrame: 40,\n  trimStart: Duration(seconds: 2),\n  fit: BoxFit.cover,\n  includeAudio: true,\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#how-it-works","title":"How It Works","text":"<ol> <li>FFmpeg extracts frames from the source video</li> <li>Frames are cached for smooth playback</li> <li>Background preloading keeps frames ready ahead of playback</li> <li>Audio is optionally mixed into the final render</li> </ol>"},{"location":"widgets/media/embedded-video/#properties","title":"Properties","text":"Property Type Default Description <code>assetPath</code> <code>String</code> required Path to video (asset, file, or URL) <code>width</code> <code>double?</code> <code>null</code> Display width <code>height</code> <code>double?</code> <code>null</code> Display height <code>startFrame</code> <code>int</code> <code>0</code> Frame to start showing video <code>trimStart</code> <code>Duration</code> <code>0</code> Skip this much at start of source <code>durationInFrames</code> <code>int?</code> <code>null</code> Override duration (auto-calculated if null) <code>fit</code> <code>BoxFit</code> <code>cover</code> How video fits in bounds <code>borderRadius</code> <code>BorderRadius?</code> <code>null</code> Corner rounding <code>decoration</code> <code>BoxDecoration?</code> <code>null</code> Container decoration <code>placeholder</code> <code>Widget?</code> <code>null</code> Widget shown before video starts <code>errorWidget</code> <code>Widget?</code> <code>null</code> Widget shown on error <code>includeAudio</code> <code>bool</code> <code>true</code> Include audio in final render <code>audioVolume</code> <code>double</code> <code>1.0</code> Audio volume (0.0-1.0) <code>audioFadeInFrames</code> <code>int</code> <code>0</code> Audio fade-in duration <code>audioFadeOutFrames</code> <code>int</code> <code>0</code> Audio fade-out duration <code>preloadFrames</code> <code>int</code> <code>30</code> Frames to preload ahead <code>id</code> <code>String?</code> <code>null</code> Unique identifier"},{"location":"widgets/media/embedded-video/#examples","title":"Examples","text":""},{"location":"widgets/media/embedded-video/#basic-usage","title":"Basic Usage","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/clip.mp4',\n  width: 800,\n  height: 450,\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#with-timing","title":"With Timing","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/highlight.mp4',\n  width: 640,\n  height: 360,\n  startFrame: 60,  // Start at 2 seconds (30fps)\n  durationInFrames: 150,  // Play for 5 seconds\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#trimmed-source","title":"Trimmed Source","text":"<pre><code>// Skip the first 5 seconds of the source video\nEmbeddedVideo(\n  assetPath: 'assets/long_video.mp4',\n  width: 800,\n  height: 450,\n  trimStart: Duration(seconds: 5),\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#styled-container","title":"Styled Container","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/clip.mp4',\n  width: 600,\n  height: 400,\n  borderRadius: BorderRadius.circular(20),\n  decoration: BoxDecoration(\n    boxShadow: [\n      BoxShadow(\n        color: Colors.black.withOpacity(0.3),\n        blurRadius: 15,\n        offset: Offset(0, 8),\n      ),\n    ],\n  ),\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#in-a-scene","title":"In a Scene","text":"<pre><code>Scene(\n  durationInFrames: 240,\n  background: Background.solid(Colors.black),\n  children: [\n    // Video with fade-in\n    VPositioned(\n      left: 100,\n      top: 100,\n      startFrame: 30,\n      fadeInFrames: 20,\n      child: EmbeddedVideo(\n        assetPath: 'assets/highlight.mp4',\n        width: 800,\n        height: 450,\n        startFrame: 30,  // Matches parent timing\n        fit: BoxFit.cover,\n        borderRadius: BorderRadius.circular(12),\n      ),\n    ),\n\n    // Caption below video\n    VPositioned(\n      left: 100,\n      right: 100,\n      bottom: 50,\n      startFrame: 60,\n      fadeInFrames: 15,\n      child: Text(\n        'Your favorite moment',\n        style: TextStyle(color: Colors.white, fontSize: 24),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#different-source-types","title":"Different Source Types","text":"<pre><code>// From Flutter assets\nEmbeddedVideo(assetPath: 'assets/video.mp4')\n\n// From file system\nEmbeddedVideo(assetPath: '/path/to/video.mp4')\n\n// From URL\nEmbeddedVideo(assetPath: 'https://example.com/video.mp4')\n</code></pre>"},{"location":"widgets/media/embedded-video/#full-screen-video","title":"Full Screen Video","text":"<pre><code>VPositioned.fill(\n  child: EmbeddedVideo(\n    assetPath: 'assets/background.mp4',\n    fit: BoxFit.cover,\n    includeAudio: false,  // Background video, no audio\n  ),\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#audio-integration","title":"Audio Integration","text":""},{"location":"widgets/media/embedded-video/#default-behavior","title":"Default Behavior","text":"<p>By default, audio from the embedded video is included in the final render:</p> <pre><code>EmbeddedVideo(\n  assetPath: 'assets/clip.mp4',\n  includeAudio: true,  // Default\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#audio-control","title":"Audio Control","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/clip.mp4',\n  includeAudio: true,\n  audioVolume: 0.7,        // 70% volume\n  audioFadeInFrames: 30,   // 1 second fade in\n  audioFadeOutFrames: 30,  // 1 second fade out\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#muting-audio","title":"Muting Audio","text":"<pre><code>// Background video without audio\nEmbeddedVideo(\n  assetPath: 'assets/background_loop.mp4',\n  includeAudio: false,\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#mixing-with-background-music","title":"Mixing with Background Music","text":"<pre><code>LayerStack(\n  children: [\n    // Background music at lower volume\n    BackgroundAudio(\n      source: AudioSource.asset('assets/music.mp3'),\n      volume: 0.3,  // Lower to make room for video audio\n      child: const SizedBox.shrink(),\n    ),\n\n    // Video with its own audio\n    EmbeddedVideo(\n      assetPath: 'assets/clip.mp4',\n      width: 800,\n      height: 450,\n      includeAudio: true,\n      audioVolume: 0.8,\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#performance","title":"Performance","text":""},{"location":"widgets/media/embedded-video/#preloading","title":"Preloading","text":"<p>Frames are preloaded ahead of playback for smooth performance:</p> <pre><code>EmbeddedVideo(\n  assetPath: 'assets/video.mp4',\n  preloadFrames: 60,  // Preload 2 seconds ahead at 30fps\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#frame-caching","title":"Frame Caching","text":"<p>Extracted frames are automatically cached. The cache is managed internally to balance memory usage and performance.</p>"},{"location":"widgets/media/embedded-video/#best-practices","title":"Best Practices","text":"<ol> <li>Keep videos short - Long videos use more memory</li> <li>Match resolution - Use videos close to display size</li> <li>Consider format - MP4 with H.264 is widely compatible</li> <li>Trim in advance - Pre-trim source videos when possible</li> </ol>"},{"location":"widgets/media/embedded-video/#memory-considerations","title":"Memory Considerations","text":"<pre><code>// High memory: Large video, many preload frames\nEmbeddedVideo(\n  assetPath: 'assets/4k_video.mp4',\n  width: 1920,\n  height: 1080,\n  preloadFrames: 120,  // 4 seconds of 1080p frames\n)\n\n// Low memory: Smaller display, fewer preload frames\nEmbeddedVideo(\n  assetPath: 'assets/video.mp4',\n  width: 480,\n  height: 270,\n  preloadFrames: 15,  // Half second of smaller frames\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#error-handling","title":"Error Handling","text":""},{"location":"widgets/media/embedded-video/#custom-error-widget","title":"Custom Error Widget","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/video.mp4',\n  width: 640,\n  height: 360,\n  errorWidget: Container(\n    color: Colors.grey[800],\n    child: Center(\n      child: Column(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          Icon(Icons.videocam_off, size: 48, color: Colors.white54),\n          SizedBox(height: 8),\n          Text('Video unavailable', style: TextStyle(color: Colors.white54)),\n        ],\n      ),\n    ),\n  ),\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#custom-placeholder","title":"Custom Placeholder","text":"<pre><code>EmbeddedVideo(\n  assetPath: 'assets/video.mp4',\n  width: 640,\n  height: 360,\n  placeholder: Container(\n    color: Colors.black,\n    child: Center(\n      child: Icon(Icons.movie, size: 64, color: Colors.white30),\n    ),\n  ),\n)\n</code></pre>"},{"location":"widgets/media/embedded-video/#related","title":"Related","text":"<ul> <li>VideoSequence - Low-level video sequence</li> <li>Embedding Videos - Detailed guide</li> <li>AudioTrack - Audio control</li> </ul>"},{"location":"widgets/media/video-sequence/","title":"VideoSequence","text":"<p>Low-level video sequence for custom pipelines</p> <p><code>VideoSequence</code> is a lower-level widget for including external video files in a <code>VideoComposition</code>. It extends <code>Sequence</code> with video-specific properties for trimming and timing.</p>"},{"location":"widgets/media/video-sequence/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>When to Use</li> <li>Related</li> </ul>"},{"location":"widgets/media/video-sequence/#overview","title":"Overview","text":"<p><code>VideoSequence</code> provides precise control over video timing in the rendering pipeline:</p> <pre><code>VideoSequence(\n  assetPath: 'assets/intro.mp4',\n  startFrame: 0,\n  durationInFrames: 150,\n  trimStartFrame: 30,\n  trimDurationInFrames: 120,\n)\n</code></pre>"},{"location":"widgets/media/video-sequence/#use-embeddedvideo-instead","title":"Use EmbeddedVideo Instead","text":"<p>For most use cases, EmbeddedVideo is recommended:</p> Feature VideoSequence EmbeddedVideo Frame extraction Manual Automatic Audio handling Manual Automatic Preview support Limited Full Caching Manual Automatic API style Low-level High-level"},{"location":"widgets/media/video-sequence/#properties","title":"Properties","text":"Property Type Default Description <code>assetPath</code> <code>String</code> required Path to video asset <code>startFrame</code> <code>int</code> required Frame to start in composition <code>durationInFrames</code> <code>int</code> required Duration in composition <code>trimStartFrame</code> <code>int</code> <code>0</code> Frame to start in source video <code>trimDurationInFrames</code> <code>int</code> <code>0</code> Duration to use from source (0 = to end) <code>child</code> <code>Widget</code> <code>SizedBox()</code> Optional child widget"},{"location":"widgets/media/video-sequence/#examples","title":"Examples","text":""},{"location":"widgets/media/video-sequence/#basic-usage","title":"Basic Usage","text":"<pre><code>VideoSequence(\n  assetPath: 'assets/clip.mp4',\n  startFrame: 0,\n  durationInFrames: 150,  // 5 seconds at 30fps\n)\n</code></pre>"},{"location":"widgets/media/video-sequence/#with-trimming","title":"With Trimming","text":"<pre><code>// Skip first 2 seconds, use next 4 seconds\nVideoSequence(\n  assetPath: 'assets/video.mp4',\n  startFrame: 0,\n  durationInFrames: 120,\n  trimStartFrame: 60,   // Skip first 60 frames (2s at 30fps)\n  trimDurationInFrames: 120,  // Use 120 frames (4s)\n)\n</code></pre>"},{"location":"widgets/media/video-sequence/#in-a-composition","title":"In a Composition","text":"<pre><code>VideoComposition(\n  fps: 30,\n  durationInFrames: 300,\n  width: 1920,\n  height: 1080,\n  child: LayerStack(\n    children: [\n      // Video plays frames 0-150\n      VideoSequence(\n        assetPath: 'assets/intro.mp4',\n        startFrame: 0,\n        durationInFrames: 150,\n      ),\n\n      // Another video plays frames 120-270\n      VideoSequence(\n        assetPath: 'assets/main.mp4',\n        startFrame: 120,\n        durationInFrames: 150,\n      ),\n    ],\n  ),\n)\n</code></pre>"},{"location":"widgets/media/video-sequence/#timing-diagram","title":"Timing Diagram","text":"<pre><code>Source Video: |0--------60--------120--------180| (frames)\n              |   skip   |   use   |   ignore  |\n                   \u2191           \u2191\n              trimStartFrame  trimDurationInFrames\n\nComposition:  |0--------------------150|\n              |    VideoSequence      |\n                   \u2191                \u2191\n              startFrame    durationInFrames\n</code></pre>"},{"location":"widgets/media/video-sequence/#when-to-use","title":"When to Use","text":""},{"location":"widgets/media/video-sequence/#use-videosequence-when","title":"Use VideoSequence When:","text":"<ul> <li>Building custom render pipelines</li> <li>Need direct control over RenderConfig</li> <li>Working with the low-level imperative API</li> <li>Integrating with existing video processing systems</li> </ul>"},{"location":"widgets/media/video-sequence/#use-embeddedvideo-when","title":"Use EmbeddedVideo When:","text":"<ul> <li>Using the declarative API (<code>Video</code>, <code>Scene</code>)</li> <li>Want automatic frame extraction and caching</li> <li>Need preview playback support</li> <li>Want automatic audio handling</li> <li>Building typical video compositions</li> </ul>"},{"location":"widgets/media/video-sequence/#configuration-export","title":"Configuration Export","text":"<p><code>VideoSequence</code> exports its configuration for the encoding pipeline:</p> <pre><code>// The toSequenceConfig() method is called internally\nfinal config = videoSequence.toSequenceConfig();\n// Returns SequenceConfig with video-specific data\n</code></pre> <p>This configuration is used by: - <code>RenderService</code> for frame scheduling - <code>FFmpegFilterGraphBuilder</code> for filter generation</p>"},{"location":"widgets/media/video-sequence/#related","title":"Related","text":"<ul> <li>EmbeddedVideo - High-level alternative</li> <li>Sequence - Base sequence widget</li> <li>VideoComposition - Composition root</li> <li>Embedding Videos - Video guide</li> </ul>"},{"location":"widgets/text/","title":"Text Widgets","text":"<p>Text widgets in Fluvie provide animated text rendering optimized for video output. They avoid Flutter's <code>saveLayer()</code> calls that cause artifacts in video rendering.</p>"},{"location":"widgets/text/#overview","title":"Overview","text":"<p>Fluvie provides specialized text widgets that integrate with the frame-based animation system:</p> Widget Description Use Case FadeText Opacity-aware text Base text for fading AnimatedText Text with built-in animations Animated text entrances TypewriterText Character-by-character reveal Typewriter effects CounterText Animated number counting Statistics, scores"},{"location":"widgets/text/#quick-examples","title":"Quick Examples","text":""},{"location":"widgets/text/#simple-animated-text","title":"Simple Animated Text","text":"<pre><code>AnimatedText(\n  'Hello World',\n  style: TextStyle(fontSize: 72, color: Colors.white),\n  animation: PropAnimation.slideUpFade(),\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/#typewriter-effect","title":"Typewriter Effect","text":"<pre><code>TypewriterText(\n  'This text types out...',\n  style: TextStyle(fontSize: 36),\n  startFrame: 30,\n  charsPerSecond: 20,\n)\n</code></pre>"},{"location":"widgets/text/#counting-numbers","title":"Counting Numbers","text":"<pre><code>CounterText(\n  value: 1234,\n  startFrame: 30,\n  duration: 60,\n  style: TextStyle(fontSize: 48),\n  formatter: (n) =&gt; '\\$$n',\n)\n</code></pre>"},{"location":"widgets/text/#why-fadetext","title":"Why FadeText?","text":"<p>Flutter's standard <code>Opacity</code> widget uses <code>saveLayer()</code> which creates intermediate buffers. These buffers have transparent backgrounds that appear as black rectangles in video frames.</p> <p><code>FadeText</code> applies opacity directly to the text color, avoiding this issue:</p> <pre><code>// Bad: May cause video artifacts\nOpacity(\n  opacity: 0.5,\n  child: Text('Hello'),\n)\n\n// Good: Works correctly in video\nFadeText(\n  'Hello',\n  style: TextStyle(color: Colors.white),\n)\n// Wrap in Fade for opacity control\n</code></pre> <p>All text widgets in Fluvie use <code>FadeText</code> internally.</p>"},{"location":"widgets/text/#common-patterns","title":"Common Patterns","text":""},{"location":"widgets/text/#title-with-animation","title":"Title with Animation","text":"<pre><code>VCenter(\n  startFrame: 30,\n  fadeInFrames: 15,\n  child: AnimatedText.slideUpFade(\n    'Your 2024',\n    style: TextStyle(\n      fontSize: 120,\n      fontWeight: FontWeight.bold,\n      color: Colors.white,\n    ),\n    duration: 30,\n  ),\n)\n</code></pre>"},{"location":"widgets/text/#staggered-text-lines","title":"Staggered Text Lines","text":"<pre><code>VColumn(\n  spacing: 20,\n  stagger: StaggerConfig.slideUp(delay: 15),\n  children: [\n    AnimatedText('Line 1', style: titleStyle),\n    AnimatedText('Line 2', style: subtitleStyle),\n    AnimatedText('Line 3', style: subtitleStyle),\n  ],\n)\n</code></pre>"},{"location":"widgets/text/#statistics-display","title":"Statistics Display","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n  stagger: StaggerConfig.fade(delay: 10),\n  children: [\n    Column(\n      children: [\n        CounterText(\n          value: 2451,\n          startFrame: 0,\n          duration: 60,\n          style: numberStyle,\n        ),\n        Text('Minutes', style: labelStyle),\n      ],\n    ),\n    Column(\n      children: [\n        CounterText(\n          value: 128,\n          startFrame: 10,\n          duration: 60,\n          style: numberStyle,\n        ),\n        Text('Songs', style: labelStyle),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/text/#related","title":"Related","text":"<ul> <li>Animations - Animation system</li> <li>PropAnimation - Animation classes</li> <li>VColumn - Staggered text layouts</li> </ul>"},{"location":"widgets/text/animated-text/","title":"AnimatedText","text":"<p>Text with built-in animation support</p> <p><code>AnimatedText</code> combines text rendering with <code>PropAnimation</code> for easy animated text effects like fade-in, slide-up, scale, and more.</p>"},{"location":"widgets/text/animated-text/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Custom Animations</li> <li>Related</li> </ul>"},{"location":"widgets/text/animated-text/#overview","title":"Overview","text":"<p><code>AnimatedText</code> provides the easiest way to add animated text to your video:</p> <pre><code>AnimatedText(\n  'Hello World',\n  style: TextStyle(fontSize: 48, color: Colors.white),\n  animation: PropAnimation.slideUpFade(),\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#when-to-use","title":"When to Use","text":"<p>Use <code>AnimatedText</code> when you need: - Text that animates in (fade, slide, scale) - Simple text animations without complex timing - Quick prototyping of text effects</p> <p>Use <code>FadeText</code> with <code>TimeConsumer</code> for more complex custom animations.</p>"},{"location":"widgets/text/animated-text/#properties","title":"Properties","text":"Property Type Default Description <code>text</code> <code>String</code> required Text to display <code>style</code> <code>TextStyle?</code> <code>null</code> Text styling <code>animation</code> <code>PropAnimation?</code> <code>null</code> Animation to apply <code>startFrame</code> <code>int</code> <code>0</code> Frame to start animation <code>duration</code> <code>int</code> <code>30</code> Animation duration in frames <code>curve</code> <code>Curve</code> <code>easeOut</code> Animation easing <code>textAlign</code> <code>TextAlign?</code> <code>null</code> Text alignment <code>maxLines</code> <code>int?</code> <code>null</code> Maximum lines <code>overflow</code> <code>TextOverflow?</code> <code>null</code> Overflow handling"},{"location":"widgets/text/animated-text/#constructors","title":"Constructors","text":""},{"location":"widgets/text/animated-text/#default-constructor","title":"Default Constructor","text":"<p>Full control with custom animation:</p> <pre><code>AnimatedText(\n  'Hello',\n  animation: PropAnimation.slideUpFade(),\n  startFrame: 30,\n  duration: 45,\n  curve: Curves.easeOutCubic,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#animatedtextfadein","title":"AnimatedText.fadeIn","text":"<p>Simple fade in:</p> <pre><code>AnimatedText.fadeIn(\n  'Fading text',\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#animatedtextslideup","title":"AnimatedText.slideUp","text":"<p>Slide up into view:</p> <pre><code>AnimatedText.slideUp(\n  'Sliding up',\n  distance: 40,  // Pixels to slide\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#animatedtextslideupfade","title":"AnimatedText.slideUpFade","text":"<p>Slide up with fade (most common):</p> <pre><code>AnimatedText.slideUpFade(\n  'Slide and fade',\n  distance: 30,\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#animatedtextscale","title":"AnimatedText.scale","text":"<p>Scale in:</p> <pre><code>AnimatedText.scale(\n  'Scaling',\n  start: 0.5,  // Start at 50% size\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#animatedtextscalefade","title":"AnimatedText.scaleFade","text":"<p>Scale with fade:</p> <pre><code>AnimatedText.scaleFade(\n  'Scale and fade',\n  startScale: 0.8,\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#examples","title":"Examples","text":""},{"location":"widgets/text/animated-text/#basic-fade-in","title":"Basic Fade In","text":"<pre><code>AnimatedText.fadeIn(\n  'Welcome',\n  style: TextStyle(\n    fontSize: 72,\n    fontWeight: FontWeight.bold,\n    color: Colors.white,\n  ),\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#delayed-animation","title":"Delayed Animation","text":"<pre><code>AnimatedText.slideUpFade(\n  'Appears after 1 second',\n  startFrame: 30,  // 1 second at 30fps\n  duration: 25,\n  style: TextStyle(fontSize: 48, color: Colors.white),\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#in-a-scene","title":"In a Scene","text":"<pre><code>Scene(\n  durationInFrames: 150,\n  background: Background.solid(Colors.black),\n  children: [\n    VCenter(\n      child: VColumn(\n        spacing: 20,\n        children: [\n          AnimatedText.slideUpFade(\n            '2024',\n            startFrame: 0,\n            duration: 30,\n            style: TextStyle(\n              fontSize: 120,\n              fontWeight: FontWeight.bold,\n              color: Colors.white,\n            ),\n          ),\n          AnimatedText.slideUpFade(\n            'YOUR YEAR',\n            startFrame: 15,  // Delayed\n            duration: 30,\n            style: TextStyle(\n              fontSize: 48,\n              color: Colors.white70,\n            ),\n          ),\n          AnimatedText.slideUpFade(\n            'IN REVIEW',\n            startFrame: 30,  // More delayed\n            duration: 30,\n            style: TextStyle(\n              fontSize: 48,\n              color: Colors.white70,\n            ),\n          ),\n        ],\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#with-vcolumn-stagger","title":"With VColumn Stagger","text":"<p>Combine with <code>VColumn</code> stagger for automatic delays:</p> <pre><code>VColumn(\n  spacing: 15,\n  stagger: StaggerConfig.slideUp(delay: 12),\n  children: [\n    AnimatedText('Line 1', style: titleStyle),\n    AnimatedText('Line 2', style: subtitleStyle),\n    AnimatedText('Line 3', style: subtitleStyle),\n  ],\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#different-curves","title":"Different Curves","text":"<pre><code>// Quick start, slow end\nAnimatedText.slideUpFade(\n  'Ease out',\n  curve: Curves.easeOutCubic,\n  duration: 30,\n)\n\n// Slow start, quick end\nAnimatedText.slideUpFade(\n  'Ease in',\n  curve: Curves.easeInCubic,\n  duration: 30,\n)\n\n// Bouncy\nAnimatedText.scaleFade(\n  'Bouncy!',\n  curve: Curves.elasticOut,\n  duration: 60,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#custom-animations","title":"Custom Animations","text":"<p>Use <code>PropAnimation</code> classes for custom effects:</p>"},{"location":"widgets/text/animated-text/#translate-animation","title":"Translate Animation","text":"<pre><code>AnimatedText(\n  'Moving text',\n  animation: TranslateAnimation(\n    start: Offset(-100, 0),  // Start 100px left\n    end: Offset.zero,         // End at normal position\n  ),\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#rotate-animation","title":"Rotate Animation","text":"<pre><code>AnimatedText(\n  'Spinning',\n  animation: RotateAnimation(\n    start: -0.1,  // Start rotated\n    end: 0,       // End upright\n  ),\n  duration: 30,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#combined-animation","title":"Combined Animation","text":"<pre><code>AnimatedText(\n  'Complex animation',\n  animation: CombinedAnimation([\n    TranslateAnimation(start: Offset(0, 50), end: Offset.zero),\n    ScaleAnimation(start: 0.8, end: 1.0),\n    FadeAnimation(start: 0, end: 1),\n    RotateAnimation(start: -0.05, end: 0),\n  ]),\n  duration: 45,\n  curve: Curves.easeOutBack,\n)\n</code></pre>"},{"location":"widgets/text/animated-text/#animation-timeline","title":"Animation Timeline","text":"<pre><code>Frame:    0    10   20   30   40   50\n          |     |    |    |    |    |\n\nstartFrame: 0, duration: 30\nAnimation: \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nProgress:  0%              100%\n\nstartFrame: 15, duration: 30\nAnimation:       \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\nProgress:        0%              100%\n</code></pre>"},{"location":"widgets/text/animated-text/#before-animation","title":"Before Animation","text":"<p>When <code>frame &lt; startFrame</code>, the text is in its starting state (e.g., invisible for fade, offset for slide).</p>"},{"location":"widgets/text/animated-text/#after-animation","title":"After Animation","text":"<p>When <code>frame &gt;= startFrame + duration</code>, the text is in its final state (fully visible, at normal position).</p>"},{"location":"widgets/text/animated-text/#related","title":"Related","text":"<ul> <li>PropAnimation - Animation classes</li> <li>TypewriterText - Character-by-character reveal</li> <li>CounterText - Number counting</li> <li>FadeText - Base fade-aware text</li> </ul>"},{"location":"widgets/text/counter-text/","title":"CounterText","text":"<p>Animated number counting widget</p> <p><code>CounterText</code> animates a number from a starting value to an ending value, perfect for displaying statistics, scores, or any numeric value that should animate when appearing.</p>"},{"location":"widgets/text/counter-text/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Constructors</li> <li>Examples</li> <li>Formatting</li> <li>Related</li> </ul>"},{"location":"widgets/text/counter-text/#overview","title":"Overview","text":"<p><code>CounterText</code> smoothly counts from one number to another:</p> <pre><code>CounterText(\n  value: 1234,\n  startFrame: 30,\n  duration: 60,\n  style: TextStyle(fontSize: 48, color: Colors.white),\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#when-to-use","title":"When to Use","text":"<p>Use <code>CounterText</code> for: - Statistics displays (minutes, songs, artists) - Score reveals - Progress percentages - Any numeric animation</p>"},{"location":"widgets/text/counter-text/#properties","title":"Properties","text":"Property Type Default Description <code>value</code> <code>int</code> required Target value to count to <code>startValue</code> <code>int</code> <code>0</code> Starting value <code>startFrame</code> <code>int</code> <code>0</code> Frame to start counting <code>duration</code> <code>int</code> <code>60</code> Counting duration in frames <code>curve</code> <code>Curve</code> <code>easeOut</code> Animation easing <code>style</code> <code>TextStyle?</code> <code>null</code> Text styling <code>formatter</code> <code>String Function(int)?</code> <code>null</code> Number formatter <code>textAlign</code> <code>TextAlign?</code> <code>null</code> Text alignment"},{"location":"widgets/text/counter-text/#constructors","title":"Constructors","text":""},{"location":"widgets/text/counter-text/#default-constructor","title":"Default Constructor","text":"<p>Full control over start and end values:</p> <pre><code>CounterText(\n  value: 1234,\n  startValue: 0,\n  startFrame: 30,\n  duration: 60,\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#countertextcountup","title":"CounterText.countUp","text":"<p>Convenience for counting from zero:</p> <pre><code>CounterText.countUp(\n  value: 500,\n  duration: 45,\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#countertextcountdown","title":"CounterText.countDown","text":"<p>Count down to zero:</p> <pre><code>CounterText.countDown(\n  from: 100,  // Counts 100 \u2192 0\n  duration: 60,\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#countertextpercentage","title":"CounterText.percentage","text":"<p>Auto-formats as percentage:</p> <pre><code>CounterText.percentage(\n  value: 87,  // Displays \"87%\"\n  duration: 45,\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#examples","title":"Examples","text":""},{"location":"widgets/text/counter-text/#basic-counter","title":"Basic Counter","text":"<pre><code>CounterText(\n  value: 2451,\n  startFrame: 0,\n  duration: 60,\n  style: TextStyle(\n    fontSize: 72,\n    fontWeight: FontWeight.bold,\n    color: Colors.white,\n  ),\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#delayed-start","title":"Delayed Start","text":"<pre><code>CounterText(\n  value: 128,\n  startFrame: 45,  // 1.5 seconds at 30fps\n  duration: 45,\n  style: TextStyle(fontSize: 48, color: Colors.white),\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#with-formatter","title":"With Formatter","text":"<pre><code>// Dollar amount\nCounterText(\n  value: 9999,\n  duration: 60,\n  formatter: (n) =&gt; '\\$${n.toString().replaceAllMapped(\n    RegExp(r'(\\d{1,3})(?=(\\d{3})+(?!\\d))'),\n    (m) =&gt; '${m[1]},',\n  )}',  // Formats as $9,999\n  style: TextStyle(fontSize: 48, color: Colors.green),\n)\n\n// Simple prefix/suffix\nCounterText(\n  value: 45,\n  duration: 45,\n  formatter: (n) =&gt; '+$n',\n  style: TextStyle(fontSize: 36, color: Colors.white),\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#minutes-counter","title":"Minutes Counter","text":"<pre><code>CounterText(\n  value: 2451,\n  duration: 60,\n  formatter: (n) =&gt; '${n.toString().replaceAllMapped(\n    RegExp(r'(\\d{1,3})(?=(\\d{3})+(?!\\d))'),\n    (m) =&gt; '${m[1]},',\n  )} min',\n  style: TextStyle(fontSize: 48, color: Colors.white),\n)\n// Displays: 2,451 min\n</code></pre>"},{"location":"widgets/text/counter-text/#percentage","title":"Percentage","text":"<pre><code>CounterText.percentage(\n  value: 92,\n  duration: 45,\n  style: TextStyle(\n    fontSize: 64,\n    fontWeight: FontWeight.bold,\n    color: Colors.green,\n  ),\n)\n// Displays: 92%\n</code></pre>"},{"location":"widgets/text/counter-text/#countdown-timer","title":"Countdown Timer","text":"<pre><code>CounterText.countDown(\n  from: 10,\n  duration: 300,  // 10 seconds at 30fps\n  style: TextStyle(\n    fontSize: 120,\n    fontWeight: FontWeight.bold,\n    color: Colors.red,\n  ),\n)\n// Counts 10 \u2192 0 over 10 seconds\n</code></pre>"},{"location":"widgets/text/counter-text/#statistics-row","title":"Statistics Row","text":"<pre><code>VRow(\n  mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n  children: [\n    Column(\n      children: [\n        CounterText(\n          value: 2451,\n          startFrame: 0,\n          duration: 60,\n          style: numberStyle,\n        ),\n        Text('Minutes', style: labelStyle),\n      ],\n    ),\n    Column(\n      children: [\n        CounterText(\n          value: 128,\n          startFrame: 10,\n          duration: 60,\n          style: numberStyle,\n        ),\n        Text('Songs', style: labelStyle),\n      ],\n    ),\n    Column(\n      children: [\n        CounterText(\n          value: 32,\n          startFrame: 20,\n          duration: 60,\n          style: numberStyle,\n        ),\n        Text('Artists', style: labelStyle),\n      ],\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#in-statcard-helper","title":"In StatCard Helper","text":"<pre><code>// Using the StatCard helper widget\nVRow(\n  mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n  stagger: StaggerConfig.slideUp(delay: 12),\n  children: [\n    StatCard(value: 2451, label: 'Minutes'),\n    StatCard(value: 128, label: 'Songs'),\n    StatCard(value: 32, label: 'Artists'),\n  ],\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#formatting","title":"Formatting","text":""},{"location":"widgets/text/counter-text/#common-formatters","title":"Common Formatters","text":"<pre><code>// Comma-separated thousands\nString formatWithCommas(int n) {\n  return n.toString().replaceAllMapped(\n    RegExp(r'(\\d{1,3})(?=(\\d{3})+(?!\\d))'),\n    (m) =&gt; '${m[1]},',\n  );\n}\n\n// Currency\nString formatCurrency(int n) =&gt; '\\$${formatWithCommas(n)}';\n\n// Percentage\nString formatPercent(int n) =&gt; '$n%';\n\n// Hours and minutes\nString formatDuration(int minutes) {\n  final hours = minutes ~/ 60;\n  final mins = minutes % 60;\n  return '${hours}h ${mins}m';\n}\n\n// With unit\nString formatWithUnit(int n, String unit) =&gt; '$n $unit';\n</code></pre>"},{"location":"widgets/text/counter-text/#using-formatters","title":"Using Formatters","text":"<pre><code>CounterText(\n  value: 150,\n  formatter: (n) =&gt; formatDuration(n),  // \"2h 30m\"\n  duration: 60,\n)\n\nCounterText(\n  value: 5000,\n  formatter: formatCurrency,  // \"$5,000\"\n  duration: 60,\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#animation-curves","title":"Animation Curves","text":""},{"location":"widgets/text/counter-text/#different-feels","title":"Different Feels","text":"<pre><code>// Slow start, fast end (tension)\nCounterText(\n  value: 100,\n  curve: Curves.easeIn,\n)\n\n// Fast start, slow end (settle)\nCounterText(\n  value: 100,\n  curve: Curves.easeOut,\n)\n\n// Overshoot and settle\nCounterText(\n  value: 100,\n  curve: Curves.easeOutBack,\n)\n\n// Linear (constant speed)\nCounterText(\n  value: 100,\n  curve: Curves.linear,\n)\n</code></pre>"},{"location":"widgets/text/counter-text/#curve-effect-on-numbers","title":"Curve Effect on Numbers","text":"<p>With <code>curve: Curves.easeOut</code> counting to 100: - Frame 0: 0 - Frame 15: 70 (fast at start) - Frame 30: 90 - Frame 45: 98 - Frame 60: 100 (slow at end)</p> <p>With <code>curve: Curves.linear</code>: - Frame 0: 0 - Frame 15: 25 - Frame 30: 50 - Frame 45: 75 - Frame 60: 100</p>"},{"location":"widgets/text/counter-text/#timeline","title":"Timeline","text":"<pre><code>value: 100, startFrame: 0, duration: 60\n\nFrame:    0   15   30   45   60   75   90\n          |    |    |    |    |    |    |\nValue:    0   70   90   98  100  100  100\n          \u2191 counting \u2191  \u2191 done\n\nBefore startFrame: shows startValue\nAfter animation: shows final value\n</code></pre>"},{"location":"widgets/text/counter-text/#related","title":"Related","text":"<ul> <li>AnimatedText - Animated text</li> <li>TypewriterText - Typing effect</li> <li>StatCard - Statistics display</li> <li>FadeText - Base text widget</li> </ul>"},{"location":"widgets/text/fade-text/","title":"FadeText","text":"<p>Opacity-aware text widget for video rendering</p> <p><code>FadeText</code> is a text widget that applies opacity from ancestor <code>Fade</code> widgets directly to the text color, avoiding the <code>saveLayer()</code> artifacts that Flutter's <code>Opacity</code> widget causes in video rendering.</p>"},{"location":"widgets/text/fade-text/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Why Use FadeText</li> <li>Related</li> </ul>"},{"location":"widgets/text/fade-text/#overview","title":"Overview","text":"<p><code>FadeText</code> works like Flutter's <code>Text</code> but responds to ancestor <code>Fade</code> widgets by modifying the text color's alpha channel:</p> <pre><code>Fade(\n  opacity: 0.5,\n  child: FadeText(\n    'Hello World',\n    style: TextStyle(color: Colors.white, fontSize: 24),\n  ),\n)\n</code></pre>"},{"location":"widgets/text/fade-text/#when-to-use","title":"When to Use","text":"<p>Use <code>FadeText</code> when: - Text needs to fade in/out within video rendering - You're building custom widgets that need fade support - Using <code>Layer</code> or other fade-aware containers</p> <p>Use <code>AnimatedText</code> instead for common animated text patterns with built-in timing.</p>"},{"location":"widgets/text/fade-text/#properties","title":"Properties","text":"Property Type Default Description <code>data</code> <code>String</code> required Text to display <code>style</code> <code>TextStyle?</code> <code>null</code> Text styling <code>textAlign</code> <code>TextAlign?</code> <code>null</code> Horizontal alignment <code>textDirection</code> <code>TextDirection?</code> <code>null</code> Text direction <code>softWrap</code> <code>bool?</code> <code>null</code> Line break behavior <code>overflow</code> <code>TextOverflow?</code> <code>null</code> Overflow handling <code>maxLines</code> <code>int?</code> <code>null</code> Maximum line count <code>semanticsLabel</code> <code>String?</code> <code>null</code> Accessibility label <code>textWidthBasis</code> <code>TextWidthBasis?</code> <code>null</code> Width calculation <code>textHeightBehavior</code> <code>TextHeightBehavior?</code> <code>null</code> Height behavior"},{"location":"widgets/text/fade-text/#examples","title":"Examples","text":""},{"location":"widgets/text/fade-text/#basic-usage","title":"Basic Usage","text":"<pre><code>FadeText(\n  'Hello World',\n  style: TextStyle(\n    fontSize: 48,\n    fontWeight: FontWeight.bold,\n    color: Colors.white,\n  ),\n)\n</code></pre>"},{"location":"widgets/text/fade-text/#with-fade-container","title":"With Fade Container","text":"<pre><code>Fade(\n  opacity: 0.7,\n  child: FadeText(\n    'Partially transparent',\n    style: TextStyle(color: Colors.white, fontSize: 24),\n  ),\n)\n</code></pre>"},{"location":"widgets/text/fade-text/#in-a-layer","title":"In a Layer","text":"<pre><code>Layer(\n  startFrame: 30,\n  endFrame: 120,\n  fadeInFrames: 15,\n  fadeOutFrames: 15,\n  child: Center(\n    child: FadeText(\n      'This fades in and out',\n      style: TextStyle(fontSize: 36, color: Colors.white),\n    ),\n  ),\n)\n</code></pre>"},{"location":"widgets/text/fade-text/#multiple-lines","title":"Multiple Lines","text":"<pre><code>FadeText(\n  'This is a longer text\\nthat spans multiple lines\\nand handles wrapping correctly.',\n  style: TextStyle(\n    fontSize: 18,\n    color: Colors.white,\n    height: 1.5,\n  ),\n  textAlign: TextAlign.center,\n  maxLines: 3,\n  overflow: TextOverflow.ellipsis,\n)\n</code></pre>"},{"location":"widgets/text/fade-text/#styled-text","title":"Styled Text","text":"<pre><code>FadeText(\n  'Styled Text',\n  style: TextStyle(\n    fontSize: 64,\n    fontWeight: FontWeight.w900,\n    color: Colors.white,\n    letterSpacing: 4,\n    shadows: [\n      Shadow(\n        offset: Offset(2, 2),\n        blurRadius: 4,\n        color: Colors.black54,\n      ),\n    ],\n  ),\n)\n</code></pre>"},{"location":"widgets/text/fade-text/#why-use-fadetext","title":"Why Use FadeText","text":""},{"location":"widgets/text/fade-text/#the-problem-with-opacity","title":"The Problem with Opacity","text":"<p>Flutter's <code>Opacity</code> widget uses <code>saveLayer()</code> internally:</p> <pre><code>// This creates a transparent buffer\nOpacity(\n  opacity: 0.5,\n  child: Text('Hello'),\n)\n</code></pre> <p>When rendering to video frames, the transparent buffer appears as a black rectangle.</p>"},{"location":"widgets/text/fade-text/#the-solution","title":"The Solution","text":"<p><code>FadeText</code> applies opacity directly to the text color:</p> <pre><code>// Original color: rgba(255, 255, 255, 1.0) (white)\n// Fade opacity: 0.5\n// Result color: rgba(255, 255, 255, 0.5) (50% white)\n</code></pre> <p>No intermediate buffer is created, so no artifacts appear.</p>"},{"location":"widgets/text/fade-text/#how-it-works","title":"How It Works","text":"<ol> <li><code>FadeText</code> reads the fade opacity from ancestor <code>Fade</code> widgets using <code>FadeValue.of(context)</code></li> <li>It multiplies the text color's alpha by the fade opacity</li> <li>Renders the text with the adjusted color</li> </ol> <pre><code>// Internal logic (simplified)\nfinal fadeOpacity = FadeValue.of(context);\nfinal baseColor = style.color ?? Colors.white;\nfinal fadedColor = baseColor.withOpacity(baseColor.opacity * fadeOpacity);\n</code></pre>"},{"location":"widgets/text/fade-text/#opacity-stacking","title":"Opacity Stacking","text":"<p>Opacity values stack multiplicatively:</p> <pre><code>Fade(\n  opacity: 0.8,\n  child: Fade(\n    opacity: 0.5,\n    child: FadeText(\n      'Stacked opacity',\n      style: TextStyle(color: Colors.white),\n    ),\n  ),\n)\n// Result: 0.8 * 0.5 = 0.4 opacity\n</code></pre>"},{"location":"widgets/text/fade-text/#custom-fade-aware-widgets","title":"Custom Fade-Aware Widgets","text":"<p>When building custom widgets that contain text and need fade support:</p> <pre><code>class FadeAwareCard extends StatelessWidget {\n  final String title;\n  final String subtitle;\n\n  const FadeAwareCard({required this.title, required this.subtitle});\n\n  @override\n  Widget build(BuildContext context) {\n    // FadeText automatically picks up Fade from ancestors\n    return FadeContainer(\n      child: Column(\n        children: [\n          FadeText(title, style: titleStyle),\n          FadeText(subtitle, style: subtitleStyle),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"widgets/text/fade-text/#related","title":"Related","text":"<ul> <li>AnimatedText - Text with animations</li> <li>Fade - Fade opacity provider</li> <li>Layer - Layer with fade support</li> </ul>"},{"location":"widgets/text/typewriter-text/","title":"TypewriterText","text":"<p>Character-by-character text reveal with cursor</p> <p><code>TypewriterText</code> animates text by revealing characters one at a time, like a typewriter. It includes an optional blinking cursor for a realistic effect.</p>"},{"location":"widgets/text/typewriter-text/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Properties</li> <li>Examples</li> <li>Timing Calculation</li> <li>Related</li> </ul>"},{"location":"widgets/text/typewriter-text/#overview","title":"Overview","text":"<p><code>TypewriterText</code> progressively reveals text based on the current frame:</p> <pre><code>TypewriterText(\n  'Hello World',\n  style: TextStyle(fontSize: 24, color: Colors.white),\n  startFrame: 30,\n  charsPerSecond: 20,\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#when-to-use","title":"When to Use","text":"<p>Use <code>TypewriterText</code> for: - Typing effects in intro sequences - Code or terminal displays - Story narration - Any text that should \"type out\"</p>"},{"location":"widgets/text/typewriter-text/#properties","title":"Properties","text":"Property Type Default Description <code>text</code> <code>String</code> required Text to reveal <code>style</code> <code>TextStyle?</code> <code>null</code> Text styling <code>startFrame</code> <code>int</code> <code>0</code> Frame to start typing <code>charsPerSecond</code> <code>double</code> <code>15</code> Typing speed <code>showCursor</code> <code>bool</code> <code>true</code> Show blinking cursor <code>cursorChar</code> <code>String</code> <code>'|'</code> Cursor character <code>cursorBlinkFrames</code> <code>int</code> <code>15</code> Cursor blink speed <code>textAlign</code> <code>TextAlign?</code> <code>null</code> Text alignment <code>maxLines</code> <code>int?</code> <code>null</code> Maximum lines <code>overflow</code> <code>TextOverflow?</code> <code>null</code> Overflow handling"},{"location":"widgets/text/typewriter-text/#examples","title":"Examples","text":""},{"location":"widgets/text/typewriter-text/#basic-typewriter","title":"Basic Typewriter","text":"<pre><code>TypewriterText(\n  'Welcome to the show...',\n  style: TextStyle(\n    fontSize: 36,\n    color: Colors.white,\n    fontFamily: 'monospace',\n  ),\n  charsPerSecond: 15,\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#without-cursor","title":"Without Cursor","text":"<pre><code>TypewriterText(\n  'Clean typing effect',\n  showCursor: false,\n  charsPerSecond: 20,\n  style: TextStyle(fontSize: 24, color: Colors.white),\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#custom-cursor","title":"Custom Cursor","text":"<pre><code>TypewriterText(\n  'Custom cursor',\n  cursorChar: '\u258c',        // Block cursor\n  cursorBlinkFrames: 10,  // Faster blink\n  style: TextStyle(\n    fontSize: 24,\n    color: Colors.green,\n    fontFamily: 'Courier',\n  ),\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#delayed-start","title":"Delayed Start","text":"<pre><code>TypewriterText(\n  'This starts after 2 seconds',\n  startFrame: 60,  // 2 seconds at 30fps\n  charsPerSecond: 18,\n  style: TextStyle(fontSize: 24, color: Colors.white),\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#slow-typing","title":"Slow Typing","text":"<pre><code>TypewriterText(\n  'Slow and dramatic...',\n  charsPerSecond: 8,  // Very slow\n  style: TextStyle(\n    fontSize: 48,\n    fontWeight: FontWeight.bold,\n    color: Colors.white,\n  ),\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#fast-typing","title":"Fast Typing","text":"<pre><code>TypewriterText(\n  'Quick typing like a pro!',\n  charsPerSecond: 40,  // Very fast\n  style: TextStyle(fontSize: 24, color: Colors.green),\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#multi-line-text","title":"Multi-line Text","text":"<pre><code>TypewriterText(\n  'Line one...\\nLine two...\\nLine three...',\n  charsPerSecond: 15,\n  style: TextStyle(\n    fontSize: 20,\n    color: Colors.white,\n    height: 1.5,\n  ),\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#in-a-scene","title":"In a Scene","text":"<pre><code>Scene(\n  durationInFrames: 180,\n  background: Background.solid(Colors.black),\n  children: [\n    VPositioned(\n      left: 100,\n      right: 100,\n      top: 200,\n      child: TypewriterText(\n        'Welcome to your personalized recap...',\n        startFrame: 30,\n        charsPerSecond: 20,\n        style: TextStyle(\n          fontSize: 32,\n          color: Colors.white,\n          fontFamily: 'Courier New',\n        ),\n      ),\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#code-display","title":"Code Display","text":"<pre><code>TypewriterText(\n  '''\nvoid main() {\n  print('Hello, World!');\n}\n''',\n  charsPerSecond: 25,\n  cursorChar: '_',\n  style: TextStyle(\n    fontSize: 18,\n    color: Color(0xFF00FF00),\n    fontFamily: 'monospace',\n  ),\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#timing-calculation","title":"Timing Calculation","text":""},{"location":"widgets/text/typewriter-text/#characters-per-frame","title":"Characters Per Frame","text":"<p>The typing speed is calculated from <code>charsPerSecond</code> and the video's FPS:</p> <pre><code>// At 30fps with charsPerSecond: 15\n// charsPerFrame = 15 / 30 = 0.5\n// One character every 2 frames\n</code></pre>"},{"location":"widgets/text/typewriter-text/#total-duration","title":"Total Duration","text":"<p>Use <code>totalDuration(fps)</code> to calculate how long the typing takes:</p> <pre><code>final typewriter = TypewriterText(\n  'Hello World',  // 11 characters\n  charsPerSecond: 15,\n);\n\nfinal duration = typewriter.totalDuration(30);\n// At 30fps: 11 / (15/30) = 22 frames\n</code></pre>"},{"location":"widgets/text/typewriter-text/#timeline-example","title":"Timeline Example","text":"<pre><code>Text: \"Hello\"\ncharsPerSecond: 15, fps: 30\ncharsPerFrame: 0.5\n\nFrame:    0    2    4    6    8   10\n          |    |    |    |    |    |\nDisplay:  |    H|   He|  Hel| Hell|Hello|\n\n(Cursor blinks every 15 frames)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#cursor-behavior","title":"Cursor Behavior","text":""},{"location":"widgets/text/typewriter-text/#during-typing","title":"During Typing","text":"<p>The cursor appears at the end of the visible text and blinks:</p> <pre><code>Frame 0:  |\nFrame 5:  Hel|\nFrame 10: Hello|\nFrame 15: Hello (cursor hidden)\nFrame 30: Hello|\n</code></pre>"},{"location":"widgets/text/typewriter-text/#after-typing-complete","title":"After Typing Complete","text":"<p>Once all text is revealed, the cursor continues blinking:</p> <pre><code>Frame 20: Hello| (typing complete)\nFrame 30: Hello  (blink off)\nFrame 45: Hello| (blink on)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#cursor-characters","title":"Cursor Characters","text":"Character Style <code>'|'</code> Standard pipe (default) <code>'_'</code> Underscore <code>'\u258c'</code> Block cursor <code>'\u2588'</code> Full block <code>'\u258a'</code> Thick block"},{"location":"widgets/text/typewriter-text/#performance-tips","title":"Performance Tips","text":""},{"location":"widgets/text/typewriter-text/#long-text","title":"Long Text","text":"<p>For very long text, consider breaking into multiple <code>TypewriterText</code> widgets:</p> <pre><code>VColumn(\n  crossAxisAlignment: CrossAxisAlignment.start,\n  children: [\n    TypewriterText(\n      'First paragraph...',\n      startFrame: 0,\n    ),\n    TypewriterText(\n      'Second paragraph...',\n      startFrame: 90,  // After first finishes\n    ),\n  ],\n)\n</code></pre>"},{"location":"widgets/text/typewriter-text/#calculate-scene-length","title":"Calculate Scene Length","text":"<pre><code>// Ensure scene is long enough for typing\nfinal text = 'Your long message here...';\nfinal typingDuration = (text.length / charsPerSecond * fps).ceil();\nfinal sceneLength = startFrame + typingDuration + 30; // Plus some buffer\n</code></pre>"},{"location":"widgets/text/typewriter-text/#related","title":"Related","text":"<ul> <li>AnimatedText - Animation-based text</li> <li>CounterText - Number counting</li> <li>FadeText - Base text widget</li> <li>TimeConsumer - Frame-based logic</li> </ul>"}]}